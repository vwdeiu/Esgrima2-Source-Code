package Esgrima2_fla
{
   import com.adobe.images.*;
   import com.apieasy2.*;
   import fl.controls.*;
   import fl.motion.*;
   import flash.accessibility.*;
   import flash.display.*;
   import flash.errors.*;
   import flash.events.*;
   import flash.external.*;
   import flash.filters.*;
   import flash.geom.*;
   import flash.media.*;
   import flash.net.*;
   import flash.net.drm.*;
   import flash.system.*;
   import flash.text.*;
   import flash.text.ime.*;
   import flash.ui.*;
   import flash.utils.*;
   import fr.kouma.display.*;
   import playerio.*;
   import uk.co.bigroom.input.*;
   
   public dynamic class MainTimeline extends MovieClip
   {
       
      
      public var mouseloaddd:MouseLoad;
      
      public var mousearrowww:MouseMC;
      
      public var loadingtxt:TextField;
      
      public var screen3:MovieClip;
      
      public var kongbtn:SimpleButton;
      
      public var loadingmc2:MovieClip;
      
      public var loadingmc1:MovieClip;
      
      public var kongregate;
      
      public var chatFormat:TextFormat;
      
      public var onSpecial:String;
      
      public var language:String;
      
      public var portal:String;
      
      public var seed:String;
      
      public var aE:ApiEasyy;
      
      public var ae_required;
      
      public var aELog:Object;
      
      public var easyFriends:Array;
      
      public var xml:XML;
      
      public var onKong:Boolean;
      
      public var partner:String;
      
      public var statlabels:Vector.<String>;
      
      public var music:Sound;
      
      public var ftp_host:String;
      
      public var ftp_port:Number;
      
      public var ftp_username:String;
      
      public var ftp_password:String;
      
      public var remoteFolderStr:String;
      
      public var localFolderStr:String;
      
      public var remoteFile:String;
      
      public var so:SharedObject;
      
      public var framerate:int;
      
      public var mult:int;
      
      public var dev:Boolean;
      
      public var client:Client;
      
      public var connection:Connection;
      
      public var battle:Connection;
      
      public var GuildChannel:Connection;
      
      public var pass:String;
      
      public var selectedao:AnimatedBitmap;
      
      public var fps:FPSCounter;
      
      public var q:SophiaEngine;
      
      public var renderquality:String;
      
      public var weaponBlends:Vector.<Object>;
      
      public var key:KeyPoll;
      
      public var items:Object;
      
      public var acc:Connection;
      
      public var chars:Vector.<DatabaseObject>;
      
      public var pChar:DatabaseObject;
      
      public var playerstats:Object;
      
      public var statschanged:Boolean;
      
      public var projectiles:Vector.<MovieClip>;
      
      public var pChars:Vector.<MovieClip>;
      
      public var battlestate:int;
      
      public var battlelist:Vector.<String>;
      
      public var battlepos1:Vector.<String>;
      
      public var battlepos2:Vector.<String>;
      
      public var initmoney:int;
      
      public var turnid:int;
      
      public var backDecs:Vector.<MovieClip>;
      
      public var updatequeue:Vector.<String>;
      
      public var charn:int;
      
      public var pmcs:Object;
      
      public var platforms:Vector.<MovieClip>;
      
      public var account:DatabaseObject;
      
      public var loaded:int;
      
      public var aload:Number;
      
      public var loadmc:MovieClip;
      
      public var replay:Boolean;
      
      public var ad:MovieClip;
      
      public var branch:String;
      
      public const updatebranch:String = "a";
      
      public var soundChannel:SoundChannel;
      
      public var soundV:Number;
      
      public var soundTransformer:SoundTransform;
      
      public var musicChannel:SoundChannel;
      
      public var musicV:Number;
      
      public var musicTransformer:SoundTransform;
      
      public var musicSound:Sound;
      
      public var musicPlaying:String;
      
      public var musicPause:Number;
      
      public var turnarrowmc:MovieClip;
      
      public var turnarrowbd:AnimatedBitmapData;
      
      public var turnarrow:AnimatedBitmap;
      
      public var fader:MovieClip;
      
      public var faderbd:AnimatedBitmapData;
      
      public var floor:int;
      
      public var loadroom:Object;
      
      public var loadroomid:Object;
      
      public var mapload:Object;
      
      public var floorload:Object;
      
      public var battlemap:Object;
      
      public var citymap:Object;
      
      public var loadgame:Array;
      
      public var loadfloor:Array;
      
      public var loadchannel:Array;
      
      public var loadbattle:Array;
      
      public var loadcity:Array;
      
      public var MaxUsers:int;
      
      public var loado:Array;
      
      public var mines:Object;
      
      public var warfactory:Object;
      
      public var chateau:Object;
      
      public var khaz:Object;
      
      public var shoguns:Object;
      
      public var doors:Object;
      
      public var Valeria_CityMusic:String;
      
      public var FrostreachMusic:String;
      
      public var Empire_Espada_OutpostMusic:String;
      
      public var Port_VilleMusic:String;
      
      public var Federation_HallMusic:String;
      
      public var PrisonMusic:String;
      
      public const NarumachiMusic:String = "Narumachi.mp3";
      
      public var mapy:int;
      
      public var ol:DisplayObject;
      
      public var olx:Number;
      
      public var oly:Number;
      
      public var l1mb:DisplayObject;
      
      public var l1mbx:Number;
      
      public var l1mby:Number;
      
      public var l1m:DisplayObject;
      
      public var l1mx:Number;
      
      public var l1my:Number;
      
      public var l0:DisplayObject;
      
      public var l0x:Number;
      
      public var l0y:Number;
      
      public var l0n:int;
      
      public var l0p:int;
      
      public var l0b:DisplayObject;
      
      public var l0bx:Number;
      
      public var l0by:Number;
      
      public var l1:DisplayObject;
      
      public var l1x:Number;
      
      public var l1y:Number;
      
      public var l2:DisplayObject;
      
      public var l2x:Number;
      
      public var l2y:Number;
      
      public var l3:DisplayObject;
      
      public var l3x:Number;
      
      public var l3y:Number;
      
      public var l4:DisplayObject;
      
      public var l4x:Number;
      
      public var l4y:Number;
      
      public var l5:DisplayObject;
      
      public var l5x:Number;
      
      public var l5y:Number;
      
      public var bg:DisplayObject;
      
      public var gameMC:MovieClip;
      
      public var mapend:Number;
      
      public var camend:Number;
      
      public var mapbegin:Number;
      
      public var mapao:Vector.<AnimatedBitmap>;
      
      public var mapaoinit:Vector.<Point>;
      
      public var rarerockab:AnimatedBitmap;
      
      public var rarerockp:Point;
      
      public var bubbledata:BitmapData;
      
      public var speed:int;
      
      public var slashspeed:int;
      
      public var gravity:Number;
      
      public var jumpf:int;
      
      public var dmgSpeed:Number;
      
      public var turnarrowspeed:Number;
      
      public var txtfly:Number;
      
      public var arrowcatch:Boolean;
      
      public var asend:int;
      
      public var rsend:int;
      
      public var server:Connection;
      
      public var leftkey:uint;
      
      public var rightkey:uint;
      
      public var upkey:uint;
      
      public var downkey:uint;
      
      public var spacekey:uint;
      
      public var anims:Vector.<MovieClip>;
      
      public var ao:Object;
      
      public var armorlist:Vector.<String>;
      
      public var h1list:Vector.<String>;
      
      public var headlist:Vector.<String>;
      
      public var facelist:Vector.<String>;
      
      public var backlist:Vector.<String>;
      
      public var whiteglow:GlowFilter;
      
      public var blackglow:GlowFilter;
      
      public var greenglow:GlowFilter;
      
      public var redglow:GlowFilter;
      
      public var npcindex:int;
      
      public var charmc:MovieClip;
      
      public var invmc:MovieClip;
      
      public var warehousemc:MovieClip;
      
      public var amountmc:MovieClip;
      
      public var elementmc:MovieClip;
      
      public var shopmc:MovieClip;
      
      public var expmc:MovieClip;
      
      public var guildinvitemc:MovieClip;
      
      public var skillmc:MovieClip;
      
      public var skillbtn:SimpleButton;
      
      public var settingsmc:MovieClip;
      
      public var trademc:MovieClip;
      
      public var settingsbtn:SimpleButton;
      
      public var skillp:Point;
      
      public var shopp:Point;
      
      public var chatp:Point;
      
      public var ChatRoom:String;
      
      public var PublicChannel:Connection;
      
      public var moneytxt:TextField;
      
      public var lvltxt:TextField;
      
      public var goldmallbtn:SimpleButton;
      
      public var guildbtn:SimpleButton;
      
      public var guildmc:MovieClip;
      
      public var guildwarmc:MovieClip;
      
      public var chatbg:Bitmap;
      
      public var chattxt:TextField;
      
      public var chatinput:TextField;
      
      public var mapchat:TextField;
      
      public var mapinput:TextField;
      
      public var mapchatbg:Bitmap;
      
      public var guildtxt:TextField;
      
      public var guildinput:TextField;
      
      public var publicbtn:SimpleButton;
      
      public var guildtabbtn:SimpleButton;
      
      public var guildScroll:UIScrollBar;
      
      public var chatmin:SimpleButton;
      
      public var chatScroll:UIScrollBar;
      
      public var mapchatScroll:UIScrollBar;
      
      public var chatbgp:Point;
      
      public var chatminp:Point;
      
      public var chatminp1:Point;
      
      public var mapbtn:SimpleButton;
      
      public var charbtn:SimpleButton;
      
      public var invbtn:SimpleButton;
      
      public var shopbtn:SimpleButton;
      
      public var leavebtn:SimpleButton;
      
      public var btnscroll:MovieClip;
      
      public var mapmc:MovieClip;
      
      public var gcreatemc:MovieClip;
      
      public var mapborder:Bitmap;
      
      public var pvpmc:MovieClip;
      
      public var mapclose:SimpleButton;
      
      public var pvpbtn:SimpleButton;
      
      public var roomlist:MovieClip;
      
      public var lobbymc:MovieClip;
      
      public var commandmc:MovieClip;
      
      public var skillmenumc:MovieClip;
      
      public var pi:MovieClip;
      
      public var buffmc:MovieClip;
      
      public var scenemc:MovieClip;
      
      public var buffp:Point;
      
      public var timermc:MovieClip;
      
      public var tipmc:MovieClip;
      
      public var expp:Point;
      
      public var skillconfirm:MovieClip;
      
      public var minep:Point;
      
      public var minebtn:SimpleButton;
      
      public var craftmc:MovieClip;
      
      public var enchantmc:MovieClip;
      
      public var pshopmc:MovieClip;
      
      public var prcmc:MovieClip;
      
      public var friendsmc:MovieClip;
      
      public var friendsbtn:SimpleButton;
      
      public var friendlist:Vector.<DatabaseObject>;
      
      public var dragmc:MovieClip;
      
      public var dragb:Bitmap;
      
      public var toolmc:MovieClip;
      
      public var toolb:Bitmap;
      
      public var loadmc2:MovieClip;
      
      public var lootmc:MovieClip;
      
      public var guildrc:MovieClip;
      
      public var npctalk:MovieClip;
      
      public var questtalk:MovieClip;
      
      public var questlog:MovieClip;
      
      public var qs:MovieClip;
      
      public var qnew:AnimatedBitmapData;
      
      public var qactive:AnimatedBitmapData;
      
      public var qdone:AnimatedBitmapData;
      
      public var RoomData:Object;
      
      public var time:int;
      
      public var lastTimeSet:int;
      
      public var turn:int;
      
      public var team:int;
      
      public var turnmc:MovieClip;
      
      public var winlose:MovieClip;
      
      public var inAction:Boolean;
      
      public var group:int;
      
      public var turnp:Point;
      
      public var nb:Bitmap;
      
      public var BattlePositions:Vector.<Point>;
      
      public var BattlePositions12:Vector.<Point>;
      
      public var eBattlePositions:Vector.<Point>;
      
      public var quests:Object;
      
      public var Sabre_Strike:Object;
      
      public var Maximum_Life:Object;
      
      public var Poisoned_Sabre:Object;
      
      public var Lightning_Strike:Object;
      
      public var Evasion_Master:Object;
      
      public var Battle_Spirit:Object;
      
      public var Powerful_Strikes:Object;
      
      public var Warrior_Strength:Object;
      
      public var Saltar_Ataque:Object;
      
      public var Self_Heal:Object;
      
      public var Mas_Vida:Object;
      
      public var Crazy_Rush:Object;
      
      public var Critical_Warrior:Object;
      
      public var Ralampago:Object;
      
      public var Lightning_Storm:Object;
      
      public var Lightning_Element:Object;
      
      public var Critical_Shot:Object;
      
      public var Attack_Power:Object;
      
      public var Ultimate_Shot:Object;
      
      public var Kick:Object;
      
      public var Musketeer_Training:Object;
      
      public var Lucky_Gunner:Object;
      
      public var Little_Mana:Object;
      
      public var Water_Element:Object;
      
      public var Crazy_Fury:Object;
      
      public var Esquivar:Object;
      
      public var Hazar_Health:Object;
      
      public var Agua_Shot:Object;
      
      public var Stun_Grenade:Object;
      
      public var Muchos_Tiros:Object;
      
      public var Unexpected_Gift:Object;
      
      public var Cooldown_Reset:Object;
      
      public var Healing:Object;
      
      public var Maximum_Mana:Object;
      
      public var Group_Healing:Object;
      
      public var Ice_Bolt:Object;
      
      public var Healing_Power:Object;
      
      public var Team_Health:Object;
      
      public var Ice_Storm:Object;
      
      public var Intelligence:Object;
      
      public var Recovery:Object;
      
      public var Assist:Object;
      
      public var Massive_Health:Object;
      
      public var Riesgo:Object;
      
      public var Ice_Element:Object;
      
      public var Piercing_Ice:Object;
      
      public var Devolver:Object;
      
      public var Snow_Fall:Object;
      
      public var Cleansing:Object;
      
      public var Fireball:Object;
      
      public var Fire_Wave:Object;
      
      public var Rod_Attack:Object;
      
      public var Fire_Storm:Object;
      
      public var Fireball_Damage:Object;
      
      public var Fuego:Object;
      
      public var Giant_Arm:Object;
      
      public var Fire_Element:Object;
      
      public var Furor:Object;
      
      public var Combat_Protection_Field:Object;
      
      public var Maximum_ManaFM:Object;
      
      public var IntelligenceFM:Object;
      
      public var RiesgoFM:Object;
      
      public var Defend:Object;
      
      public var Lance_Strike:Object;
      
      public var Maximum_Health:Object;
      
      public var Rapido_Rush:Object;
      
      public var Armor_Upgrade:Object;
      
      public var Stronghold:Object;
      
      public var Multi_Stab:Object;
      
      public var Guardian_Block:Object;
      
      public var Guardian_Life:Object;
      
      public var War_Shout:Object;
      
      public var Last_Hope:Object;
      
      public var Beast_Element:Object;
      
      public var Hook:Object;
      
      public var Guardian_Blow:Object;
      
      public var Beast_Attack:Object;
      
      public var Fighter_Strength:Object;
      
      public var Crazy_Jump:Object;
      
      public var Armor_Crusher:Object;
      
      public var Double_Damage:Object;
      
      public var Heavy_Damage:Object;
      
      public var Jump_Power:Object;
      
      public var Berserker_Strength:Object;
      
      public var Sword_Rush:Object;
      
      public var Fighter_Spirit:Object;
      
      public var Earth_Element:Object;
      
      public var Fear:Object;
      
      public var Earth_Stone:Object;
      
      public var Rage:Object;
      
      public var Secret_Move:Object;
      
      public var Empire_Power:Object;
      
      public var Shooting_Range:Object;
      
      public var Critical_Improvement:Object;
      
      public var Poisoned_Bullet:Object;
      
      public var Shoot_Out:Object;
      
      public var Lucky_Officer:Object;
      
      public var Direct_Hit:Object;
      
      public var Shoot_Out_Damage:Object;
      
      public var Critical_Officer:Object;
      
      public var Findero:Object;
      
      public var Punishment:Object;
      
      public var Fire_ElementEO:Object;
      
      public var Final_Strike:Object;
      
      public var Order_of_the_Empire:Object;
      
      public const Bow_Upgrade:Object = {
         "Level":1,
         "Points":[1,1,1,1,1]
      };
      
      public const Arrow_Poison:Object;
      
      public const Precision_Shot:Object;
      
      public const Flying_Element:Object;
      
      public const Loco_Arquero:Object;
      
      public const Trap:Object;
      
      public const Flying_Samurai:Object;
      
      public const Multiple_Arrows:Object;
      
      public const Trap_Upgrade:Object;
      
      public const Tactical_Retreat:Object;
      
      public const Miedo_Arrow:Object;
      
      public const Samurai_Spirit:Object;
      
      public const Ancient_Recovery:Object;
      
      public const Life_Potion_Knowledge:Object;
      
      public var Mining:Object;
      
      public var npcs:Object;
      
      public var Valeria_City:int;
      
      public var Federation_Hall:int;
      
      public var Prison:int;
      
      public var Warehouse_Manager:Object;
      
      public var Tutorial_Master:Object;
      
      public var Tilmer:Object;
      
      public var Timmy:Object;
      
      public var Weapon_Merchant_Frank:Object;
      
      public var Juliet:Object;
      
      public var Armorsmith_Anree:Object;
      
      public var Blacksmith_William:Object;
      
      public var Bandit_Commander:Object;
      
      public var Eusobio:Object;
      
      public var Guard_Joe:Object;
      
      public var Grand_Montero:Object;
      
      public var Baron_Golding:Object;
      
      public var Destroyer:Object;
      
      public var Void:Object;
      
      public var Sonja:Object;
      
      public var boss:MovieClip;
      
      public var Simor:Object;
      
      public var Montero:Object;
      
      public var Nefcok:Object;
      
      public var Hwar_Elite:Object;
      
      public var Guard_Ralf:Object;
      
      public var Jack:Object;
      
      public var Beatrice:Object;
      
      public var Cook_Jan:Object;
      
      public var Weaponsmith_Cartosar:Object;
      
      public var Odrian:Object;
      
      public var Empire_Officer:Object;
      
      public var Armorsmith_Hawkin:Object;
      
      public var Monk_Albert:Object;
      
      public var Conquistador_Cortez:Object;
      
      public var Hunter_Roger:Object;
      
      public var The_Collector:Object;
      
      public var Aramis:Object;
      
      public var Artilleryman:Object;
      
      public var Guardian_Master:Object;
      
      public var Officer_Wilson:Object;
      
      public var Commander_Redrigo:Object;
      
      public var Elder_Fukomoto:Object;
      
      public var Omurai:Object;
      
      public var Samurai:Object;
      
      public var Blacksmith_Masamune:Object;
      
      public var Armorsmith_Toshi:Object;
      
      public var Maki:Object;
      
      public var Weaponsmith_Kuritoshi:Object;
      
      public var Fisherman_Masato:Object;
      
      public var Weaponsmith_Leo:Object;
      
      public var Viking_Harold:Object;
      
      public var Armorsmith_Nardoh:Object;
      
      public var Alchemist_Synthia:Object;
      
      public var Frostreach_Soldier:Object;
      
      public var Frostreach_Manhunter:Object;
      
      public var Guild_Manager:Object;
      
      public var Guild_Association_Merchant:Object;
      
      public var Foreign_Army_Sergeant:Object;
      
      public var guilds:Object;
      
      public var Guild1Potions:Vector.<String>;
      
      public var Guild1Gems:Vector.<String>;
      
      public var Guild1Others:Vector.<String>;
      
      public var Guild1Decorations:Vector.<String>;
      
      public var Guild1Costumes:Vector.<String>;
      
      public const Misc1Others:Vector.<String>;
      
      public var Weapon1Sabre:Vector.<String>;
      
      public var Weapon1Rod:Vector.<String>;
      
      public var Weapon1Bow:Vector.<String>;
      
      public var Weapon1Greatsword:Vector.<String>;
      
      public var Weapon1Lance:Vector.<String>;
      
      public var Weapon1Book:Vector.<String>;
      
      public var Weapon1Shield:Vector.<String>;
      
      public var Weapon1Rifle:Vector.<String>;
      
      public var Weapon1Rapier:Vector.<String>;
      
      public var Weapon1Pistol:Vector.<String>;
      
      public var Weapon2Sabre:Vector.<String>;
      
      public var Weapon2Rod:Vector.<String>;
      
      public var Weapon2Bow:Vector.<String>;
      
      public var Weapon2Greatsword:Vector.<String>;
      
      public var Weapon2Lance:Vector.<String>;
      
      public var Weapon2Book:Vector.<String>;
      
      public var Weapon2Shield:Vector.<String>;
      
      public var Weapon2Rifle:Vector.<String>;
      
      public var Weapon2Rapier:Vector.<String>;
      
      public var Weapon2Pistol:Vector.<String>;
      
      public var Alchemy1Potions:Vector.<String>;
      
      public var Alchemy2Potions:Vector.<String>;
      
      public const Weapon3Sabre:Vector.<String>;
      
      public const Weapon3Rod:Vector.<String>;
      
      public const Weapon3Bow:Vector.<String>;
      
      public const Weapon3Greatsword:Vector.<String>;
      
      public const Weapon3Lance:Vector.<String>;
      
      public const Weapon3Book:Vector.<String>;
      
      public const Weapon3Shield:Vector.<String>;
      
      public const Weapon3Rifle:Vector.<String>;
      
      public const Weapon3Rapier:Vector.<String>;
      
      public const Weapon3Pistol:Vector.<String>;
      
      public const Weapon4Sabre:Vector.<String>;
      
      public const Weapon4Rod:Vector.<String>;
      
      public const Weapon4Bow:Vector.<String>;
      
      public const Weapon4Greatsword:Vector.<String>;
      
      public const Weapon4Lance:Vector.<String>;
      
      public const Weapon4Book:Vector.<String>;
      
      public const Weapon4Shield:Vector.<String>;
      
      public const Weapon4Rifle:Vector.<String>;
      
      public const Weapon4Rapier:Vector.<String> = Vector.<String>(["Strange Rapier"]);
      
      public const Weapon4Pistol:Vector.<String> = Vector.<String>(["Strange Pistol"]);
      
      public var Armor1LightArmor:Vector.<String>;
      
      public var Armor1Coats:Vector.<String>;
      
      public var Armor1HeavyArmor:Vector.<String>;
      
      public var Armor1Helmets:Vector.<String>;
      
      public var Armor1Hats:Vector.<String>;
      
      public var Armor1Dresses:Vector.<String>;
      
      public var Armor1FemaleHats:Vector.<String>;
      
      public var Armor1Suits:Vector.<String>;
      
      public var Armor2LightArmor:Vector.<String>;
      
      public var Armor2Coats:Vector.<String>;
      
      public var Armor2HeavyArmor:Vector.<String>;
      
      public var Armor2Helmets:Vector.<String>;
      
      public var Armor2Hats:Vector.<String>;
      
      public var Armor2Dresses:Vector.<String>;
      
      public var Armor2FemaleHats:Vector.<String>;
      
      public var Armor2Suits:Vector.<String>;
      
      public var Armor3LightArmor:Vector.<String>;
      
      public var Armor3Coats:Vector.<String>;
      
      public var Armor3HeavyArmor:Vector.<String>;
      
      public var Armor3Helmets:Vector.<String>;
      
      public var Armor3Hats:Vector.<String>;
      
      public var Armor3Dresses:Vector.<String>;
      
      public var Armor3FemaleHats:Vector.<String>;
      
      public var Armor3Suits:Vector.<String>;
      
      public var WarriorShop1Potions:Vector.<String>;
      
      public var WarriorShop1Gems:Vector.<String>;
      
      public var WarriorShop1Others:Vector.<String>;
      
      public var xpneeds:Vector.<uint>;
      
      public var n:int;
      
      public var i:int;
      
      public var gemChances:Vector.<uint>;
      
      public var guildxpneeds:Vector.<uint>;
      
      public var QuestLvls:Object;
      
      public var fixedY:Boolean;
      
      public var QuestInstances:Object;
      
      public var QuestDialogs:Object;
      
      public var Ice_Hearted_Prince:Object;
      
      public var Huntsmen:Object;
      
      public var Nobles:Object;
      
      public var soloPosition:Point;
      
      public var soloEPos:Vector.<Point>;
      
      public var BGItems:Object;
      
      public var setWeaponBlends:Vector.<String>;
      
      public var GoldMall1Weapons:Vector.<String>;
      
      public var GoldMall1Back:Vector.<String>;
      
      public var GoldMall1Others:Vector.<String>;
      
      public var GoldMall1Potions:Vector.<String>;
      
      public var GoldMall1Costumes:Vector.<String>;
      
      public var GoldMall1SkillManuals:Vector.<String>;
      
      public var pCount:Object;
      
      public var equips:String;
      
      public var MusketeerEquips:String;
      
      public var WarriorEquips:String;
      
      public var ClericEquips:String;
      
      public var BerserkerEquips:String;
      
      public var GuardianEquips:String;
      
      public const SamuraiEquips:String = ",Bow,Hat,Helmet,Light Armor,Cosmetic Hat,Samurai Costume";
      
      public var cooldowns:Object;
      
      public var WarriorHitSoundData:Object;
      
      public var HitSoundData:Object;
      
      public var MusketeerHitSoundData:Object;
      
      public var KickSoundData:Object;
      
      public var ClericHitSoundData:Object;
      
      public var GuardianHitSoundData:Object;
      
      public var SamuraiSoundData:Object;
      
      public var LevelUpSoundData:Object;
      
      public var BanditHitSound:String;
      
      public var StrangerHitSound:String;
      
      public var PistollerHitSound:String;
      
      public var BuckshotnerHitSound:String;
      
      public var CortezHitSound:String;
      
      public var FirecrackerShotSound:String;
      
      public var FirecrackerHitSound:String;
      
      public var RalampagoHitSound:String;
      
      public var KickHitSound:String;
      
      public var PunishmentHitSound:String;
      
      public var WarriorSkills:Vector.<String>;
      
      public var MusketeerSkills:Vector.<String>;
      
      public var ClericSkills:Vector.<String>;
      
      public var GuardianSkills:Vector.<String>;
      
      public var BerserkerSkills:Vector.<String>;
      
      public const SamuraiSkills:Vector.<String>;
      
      public var dailyBossN:Vector.<String>;
      
      public var dailyBossPrice:Vector.<int>;
      
      public const BerserkerBlendM:Point;
      
      public const ClericBlendM:Point;
      
      public const GuardianBlendM:Point;
      
      public const foo:String = "foo";
      
      public var branchTimer:Timer;
      
      public var garbageTimer:Timer;
      
      public var disallowed:Boolean;
      
      public var updateLobby:Boolean;
      
      public var mousemc:MouseMC;
      
      public var mouse:Bitmap;
      
      public var mouseData:BitmapData;
      
      public var mouseLoadData:AnimatedBitmapData;
      
      public var mouseLoad:AnimatedBitmap;
      
      public var rclick:Function;
      
      public var mclick:Function;
      
      public var loadscreensl:Loader;
      
      public var removedS:Boolean;
      
      public var swf:int;
      
      public var isGuest:Boolean;
      
      public var loginmc:MovieClip;
      
      public var url:String;
      
      public var urlr:URLRequest;
      
      public var sound:Sound;
      
      public var joinedgc:Boolean;
      
      public var lvlFormat:TextFormat;
      
      public var enterChat:Function;
      
      public var sendMsg:Function;
      
      public function MainTimeline()
      {
         var _loc1_:Boolean = false;
         var _loc2_:Boolean = true;
         if(!_loc1_)
         {
            this.Arrow_Poison = {
               "Level":10,
               "Points":[1,1,1,1,1]
            };
            this.Precision_Shot = {
               "Level":1,
               "Points":[1,1,1,1,1]
            };
            this.Flying_Element = {
               "Level":40,
               "Points":[1]
            };
            this.Loco_Arquero = {
               "Level":40,
               "Points":[1,1,1,1,1]
            };
            this.Trap = {
               "Level":30,
               "Points":[1,1,1,1,1]
            };
            this.Flying_Samurai = {
               "Level":30,
               "Points":[1,1,1,1,1]
            };
            if(!_loc1_)
            {
               this.Multiple_Arrows = {
                  "Level":10,
                  "Points":[1,1,1,1,1]
               };
               this.Trap_Upgrade = {
                  "Level":40,
                  "Points":[1,1,1,1,1]
               };
               if(!_loc1_)
               {
                  this.Tactical_Retreat = {
                     "Level":20,
                     "Points":[1,1,1,1,1]
                  };
                  this.Miedo_Arrow = {
                     "Level":20,
                     "Points":[1,1,1,1,1]
                  };
                  if(_loc2_)
                  {
                     this.Samurai_Spirit = {
                        "Level":50,
                        "Points":[1]
                     };
                     this.Ancient_Recovery = {
                        "Level":50,
                        "Points":[1,1,1,1,1]
                     };
                     this.Life_Potion_Knowledge = {
                        "Level":50,
                        "Points":[1,1,1,1,1]
                     };
                     this.Misc1Others = Vector.<String>(["Narumachi Map"]);
                     this.Weapon3Sabre = Vector.<String>(["The Shadow","Officer Sabre","Blue Taran","Mystic Sabre","Moon Sabre"]);
                     if(_loc2_)
                     {
                        this.Weapon3Rod = Vector.<String>(["Eagle Rod","Little Dragon Rod","Bronze Fist","Royal Rod","Davids Rod"]);
                        this.Weapon3Bow = Vector.<String>(["Kobold Bow","Black Metal Bow"]);
                        this.Weapon3Greatsword = Vector.<String>(["Blood Blade","Emerald Sword","Zweihander","Long Katana","Orc Sword"]);
                        this.Weapon3Lance = Vector.<String>(["Babylonian Ornamented Lance","Ancient Lance","Long Lance","Assyrian Lance","Elaxwador"]);
                        this.Weapon3Book = Vector.<String>(["Knowledge Book","Purple Book","Rojo Book","Seven Sea Book","Leonardo Notebook"]);
                        addr279:
                        this.Weapon3Shield = Vector.<String>(["Half Moon Shield","Burgundian Shield","Blindar","Infantry Shield","Quality Nord Shield"]);
                        if(_loc2_)
                        {
                           this.Weapon3Rifle = new Vector.<String>();
                        }
                        this.Weapon3Rapier = Vector.<String>(["Ancient Rapier","Officer Rapier"]);
                        if(!_loc1_)
                        {
                           this.Weapon3Pistol = Vector.<String>(["Golden Pistol","Whellock Pistol","Volcanic Pistol","Hunting Pistol","Schwatzer"]);
                           if(!_loc1_)
                           {
                              this.Weapon4Sabre = Vector.<String>(["Strange Sabre"]);
                              if(!_loc1_)
                              {
                                 addr339:
                                 this.Weapon4Rod = Vector.<String>(["Strange Scepter"]);
                                 if(_loc2_)
                                 {
                                    this.Weapon4Bow = Vector.<String>(["Strange Bow"]);
                                    this.Weapon4Greatsword = Vector.<String>(["Strange Spiral Sword"]);
                                    addr368:
                                    this.Weapon4Lance = Vector.<String>(["Strange Lance"]);
                                    if(!_loc1_)
                                    {
                                       addr380:
                                       this.Weapon4Book = Vector.<String>(["Strange Local Book"]);
                                       if(!_loc1_)
                                       {
                                          this.Weapon4Shield = Vector.<String>(["Strange Shield"]);
                                          this.Weapon4Rifle = new Vector.<String>();
                                          §§goto(addr407);
                                       }
                                    }
                                    §§goto(addr459);
                                 }
                                 §§goto(addr468);
                              }
                              §§goto(addr459);
                           }
                           §§goto(addr368);
                        }
                        §§goto(addr502);
                     }
                     §§goto(addr380);
                  }
                  §§goto(addr339);
               }
               §§goto(addr502);
            }
            §§goto(addr279);
         }
         addr407:
         if(_loc2_)
         {
            this.SamuraiSkills = Vector.<String>(["Precision Shot","Bow Upgrade","Mining","Arrow Poison","Multiple Arrows","Miedo Arrow","Tactical Retreat","Trap","Flying Samurai","Loco Arquero","Trap Upgrade","Flying Element","Ancient Recovery","Life Potion Knowledge","Samurai Spirit"]);
            this.BerserkerBlendM = new Point(-8,15.45);
            if(!_loc1_)
            {
               addr459:
               this.ClericBlendM = new Point(0,-30);
               if(_loc2_)
               {
                  addr468:
                  this.GuardianBlendM = new Point(40,40);
                  super();
               }
               addFrameScript(0,this.frame1,1,this.frame2,2,this.frame3,3,this.frame4,4,this.frame5);
               if(!_loc1_)
               {
                  addr502:
                  addEventListener(Event.ADDED_TO_STAGE,this.__setPerspectiveProjection_);
               }
               §§goto(addr508);
            }
            §§goto(addr468);
         }
         addr508:
      }
      
      public function XMLdone(param1:Event) : void
      {
         var _loc2_:Boolean = false;
         var _loc3_:Boolean = true;
         if(_loc3_)
         {
            root.xmlLoader.removeEventListener(Event.COMPLETE,this.XMLdone);
            if(!_loc2_)
            {
               addr35:
               XML.ignoreWhitespace = true;
               if(_loc3_)
               {
                  this.xml = new XML(param1.target.data);
                  if(!_loc2_)
                  {
                     addr57:
                     delete root.xmlLoader;
                     if(_loc3_)
                     {
                        trace("XML Thing: " + this.xml["Username"]);
                     }
                  }
                  return;
               }
            }
            §§goto(addr57);
         }
         §§goto(addr35);
      }
      
      public function menu() : void
      {
         var _loc3_:Boolean = false;
         var _loc4_:Boolean = true;
         if(!_loc3_)
         {
            var _loc1_:*;
            §§push((_loc1_ = this).loaded);
            if(!_loc3_)
            {
               §§push(§§pop() + 1);
            }
            var _loc2_:* = §§pop();
            if(_loc4_)
            {
               _loc1_.loaded = _loc2_;
            }
         }
      }
      
      public function uploadEmblem(param1:Function, param2:String) : void
      {
         var _loc4_:* = undefined;
         var _loc5_:* = undefined;
         var _loc6_:* = undefined;
         var _loc7_:ByteArray = null;
         var _loc9_:Number = NaN;
         var _loc3_:String = "";
         var _loc8_:ByteArray = this.gcreatemc.file.data;
         var _loc10_:FileReference = this.gcreatemc.file;
      }
      
      public function login() : void
      {
         var _loc1_:Boolean = false;
         var _loc2_:Boolean = true;
         if(!_loc1_)
         {
            §§push(this.onKong);
            if(!_loc1_)
            {
               §§push(!§§pop());
               if(!_loc1_)
               {
                  addr27:
                  if(§§pop())
                  {
                     if(!_loc1_)
                     {
                        §§pop();
                        §§push(this.onSpecial);
                        if(!_loc1_)
                        {
                           §§push("");
                           if(!_loc1_)
                           {
                              §§push(§§pop() == §§pop());
                              if(!_loc1_)
                              {
                                 addr45:
                                 if(§§pop())
                                 {
                                    if(_loc2_)
                                    {
                                       this.connect(this.loginmc.logintxt.text,this.loginmc.passtxt.text,"simple");
                                       if(!_loc1_)
                                       {
                                          addr70:
                                          this.loginmc.loginbtn.removeEventListener(MouseEvent.CLICK,this.login);
                                       }
                                       this.loginmc.passtxt.removeEventListener(KeyboardEvent.KEY_DOWN,this.loginp);
                                       if(!_loc2_)
                                       {
                                          addr92:
                                          this.connect(this.kongregate.services.getUserId(),this.kongregate.services.getGameAuthToken(),"kong");
                                          §§push(this.onSpecial);
                                          if(!_loc1_)
                                          {
                                             addr107:
                                             §§push("armor");
                                             if(!_loc1_)
                                             {
                                                addr110:
                                                if(§§pop() == §§pop())
                                                {
                                                   this.connect(this.seed.split("user_id=")[1].split("&")[0],"","connect");
                                                }
                                                addr134:
                                                §§push(this.onSpecial);
                                                §§push("easy");
                                             }
                                             if(§§pop() == §§pop())
                                             {
                                                this.connect(this.aELog.user.soc_id,"","connect");
                                             }
                                             §§goto(addr144);
                                          }
                                          §§goto(addr134);
                                       }
                                       else
                                       {
                                          addr88:
                                       }
                                       addr144:
                                       return;
                                    }
                                    §§goto(addr88);
                                 }
                                 else
                                 {
                                    addr91:
                                    if(this.onKong)
                                    {
                                       §§goto(addr92);
                                    }
                                 }
                                 §§goto(addr92);
                              }
                              §§goto(addr91);
                           }
                           §§goto(addr110);
                        }
                        §§goto(addr107);
                     }
                  }
               }
               §§goto(addr45);
            }
            §§goto(addr27);
         }
         §§goto(addr70);
      }
      
      public function loginm(param1:MouseEvent) : void
      {
         var _loc2_:Boolean = false;
         var _loc3_:Boolean = true;
         if(!_loc2_)
         {
            this.login();
         }
      }
      
      public function loginp(param1:KeyboardEvent) : void
      {
         var _loc2_:Boolean = true;
         var _loc3_:Boolean = false;
         if(_loc2_)
         {
            if(param1.charCode == Keyboard.ENTER)
            {
               if(_loc2_)
               {
                  this.login();
               }
            }
         }
      }
      
      public function register(param1:MouseEvent) : void
      {
         var _loc3_:Boolean = true;
         var _loc4_:Boolean = false;
         if(_loc3_)
         {
            if(this.q.Loading)
            {
               if(_loc3_)
               {
                  §§goto(addr23);
               }
            }
            else
            {
               this.q.loading();
            }
            var _loc2_:String = "";
            §§push(this.loginmc.emailtxt.text === this.loginmc.defaultemail);
            if(!_loc4_)
            {
               §§push(!§§pop());
               if(!_loc4_)
               {
                  if(§§pop())
                  {
                     if(_loc4_)
                     {
                     }
                  }
                  §§goto(addr65);
               }
               §§pop();
               if(_loc3_)
               {
                  addr65:
                  if(§§pop())
                  {
                     _loc2_ = this.loginmc.emailtxt.text;
                  }
                  root.pass = this.loginmc.passtxt.text;
                  if(_loc3_)
                  {
                     PlayerIO.quickConnect.simpleRegister(stage,this.q.gameID,this.loginmc.usertxt.text,this.loginmc.passtxt.text,_loc2_,"","",{},"",this.enterGame,this.regerror);
                     if(!_loc4_)
                     {
                        addr113:
                        this.loginmc.confirmbtn.removeEventListener(MouseEvent.CLICK,this.register);
                     }
                  }
                  return;
                  §§push(this.loginmc.emailtxt.text.indexOf("@") > 0);
               }
               §§goto(addr113);
            }
            §§goto(addr65);
         }
         addr23:
      }
      
      public function connect(param1:String = "", param2:String = "", param3:String = "simple") : void
      {
         var _loc4_:Boolean = false;
         var _loc5_:Boolean = true;
         if(this.q.Loading)
         {
            return;
         }
         this.q.loading();
         root.pass = param2;
         if(_loc5_)
         {
            §§push(param3);
            if(!_loc4_)
            {
               §§push("simple");
               if(_loc5_)
               {
                  if(§§pop() == §§pop())
                  {
                     if(_loc5_)
                     {
                        addr39:
                        PlayerIO.quickConnect.simpleConnect(stage,this.q.gameID,param1,param2,this.enterGame,this.loginerror);
                        if(_loc5_)
                        {
                           addr55:
                           §§push(param3);
                           if(_loc5_)
                           {
                              addr59:
                              §§push("kong");
                              if(_loc5_)
                              {
                                 if(§§pop() == §§pop())
                                 {
                                    PlayerIO.quickConnect.kongregateConnect(stage,this.q.gameID,param1,param2,this.enterGame,this.loginerror);
                                    if(_loc5_)
                                    {
                                       addr86:
                                       §§push(param3);
                                       if(_loc5_)
                                       {
                                          §§push("connect");
                                          if(!_loc4_)
                                          {
                                             addr93:
                                             if(§§pop() == §§pop())
                                             {
                                                addr97:
                                                if(this.onSpecial !== "easy")
                                                {
                                                   PlayerIO.connect(stage,this.q.gameID,"public",this.onSpecial + param1,null,this.partner,this.enterGame,this.loginerror);
                                                }
                                                else
                                                {
                                                   PlayerIO.connect(stage,this.q.gameID,"public",param1.split(":").join(""),null,this.partner,this.enterGame,this.loginerror);
                                                }
                                             }
                                          }
                                       }
                                       §§goto(addr97);
                                    }
                                    return;
                                 }
                                 §§goto(addr86);
                              }
                              §§goto(addr93);
                           }
                           §§goto(addr97);
                        }
                        §§goto(addr86);
                     }
                     §§goto(addr97);
                  }
                  §§goto(addr55);
               }
               §§goto(addr97);
            }
            §§goto(addr59);
         }
         §§goto(addr39);
      }
      
      public function enterGame(param1:Client) : void
      {
         var _loc3_:Boolean = true;
         var _loc4_:Boolean = false;
         if(_loc3_)
         {
            var p:int = 0;
            var gone:Boolean = false;
            var client:Client = param1;
            var go:* = function():void
            {
               q.fade(MovieClip(root),3);
            };
            if(_loc3_)
            {
               trace("entering");
               if(!_loc4_)
               {
                  addr44:
                  if(this.loginmc)
                  {
                     if(this.loginmc.currentFrame == 1)
                     {
                        addr52:
                        this.so.data.user = this.loginmc.logintxt.text;
                        if(!_loc4_)
                        {
                           addr72:
                           if(this.dev)
                           {
                              if(!_loc4_)
                              {
                                 client.multiplayer.developmentServer = "localhost:8184";
                                 if(!_loc4_)
                                 {
                                    addr92:
                                    MovieClip(root).client = client;
                                    if(_loc3_)
                                    {
                                       this.loadBranch();
                                       if(!_loc4_)
                                       {
                                          p = 0;
                                          if(_loc3_)
                                          {
                                             addr110:
                                             gone = false;
                                          }
                                          var jD:Object = {};
                                          if(!_loc4_)
                                          {
                                             if(this.onSpecial == "easy")
                                             {
                                                if(_loc3_)
                                                {
                                                   addr126:
                                                   jD.PfI = this.aELog.user.img;
                                                   if(_loc3_)
                                                   {
                                                      addr135:
                                                      jD.Portal = this.portal;
                                                   }
                                                }
                                                jD.nick = this.aELog.user.full_name;
                                             }
                                          }
                                          client.multiplayer.createJoinRoom(String(client.connectUserId + "_"),"UserRoom",false,{},jD,function(param1:Connection):void
                                          {
                                             var _loc5_:Boolean = true;
                                             var _loc6_:Boolean = false;
                                             var disallow:* = undefined;
                                             if(!_loc6_)
                                             {
                                                var ac:Connection = param1;
                                                §§push(ac === null);
                                                if(!_loc6_)
                                                {
                                                   §§push(!§§pop());
                                                }
                                                §§push(§§pop());
                                                if(_loc5_)
                                                {
                                                   if(§§pop())
                                                   {
                                                      §§pop();
                                                      §§goto(addr30);
                                                   }
                                                   §§goto(addr40);
                                                }
                                                §§goto(addr75);
                                             }
                                             addr30:
                                             §§push(ac.connected);
                                             if(_loc5_)
                                             {
                                                §§push(Boolean(§§pop()));
                                                if(!_loc6_)
                                                {
                                                   addr40:
                                                   if(§§pop())
                                                   {
                                                      if(_loc5_)
                                                      {
                                                         disallow = function(param1:Message):void
                                                         {
                                                            var _loc2_:Boolean = true;
                                                            var _loc3_:Boolean = false;
                                                            root.client = null;
                                                            if(!_loc3_)
                                                            {
                                                               root.disallowed = true;
                                                               if(!_loc3_)
                                                               {
                                                                  addr15:
                                                                  gotoAndStop(2);
                                                                  if(_loc2_)
                                                                  {
                                                                     ac.removeMessageHandler("groupdisallowedjoin",disallow);
                                                                  }
                                                               }
                                                               return;
                                                            }
                                                            §§goto(addr15);
                                                         };
                                                         if(_loc5_)
                                                         {
                                                            ac.addMessageHandler("groupdisallowedjoin",disallow);
                                                            var _loc3_:*;
                                                            var _loc4_:* = (_loc3_ = §§findproperty(p)).p + 1;
                                                            if(_loc5_)
                                                            {
                                                               _loc3_.p = _loc4_;
                                                            }
                                                            if(!_loc6_)
                                                            {
                                                               root.acc = ac;
                                                               addr75:
                                                               §§push(p >= 2);
                                                               if(p >= 2)
                                                               {
                                                                  if(!_loc6_)
                                                                  {
                                                                     §§goto(addr83);
                                                                  }
                                                               }
                                                               §§goto(addr89);
                                                            }
                                                         }
                                                         §§goto(addr75);
                                                      }
                                                      §§goto(addr96);
                                                   }
                                                }
                                                §§goto(addr75);
                                             }
                                             addr83:
                                             §§pop();
                                             if(_loc5_)
                                             {
                                                addr89:
                                                if(!gone)
                                                {
                                                   if(_loc5_)
                                                   {
                                                      gone = true;
                                                      addr96:
                                                      go();
                                                   }
                                                   §§goto(addr96);
                                                }
                                             }
                                          },function(param1:PlayerIOError):*
                                          {
                                             root.client = null;
                                          });
                                          §§goto(addr172);
                                       }
                                       §§goto(addr110);
                                    }
                                 }
                                 §§goto(addr126);
                              }
                              §§goto(addr135);
                           }
                           §§goto(addr92);
                        }
                        §§goto(addr126);
                     }
                     else
                     {
                        this.so.data.user = this.loginmc.usertxt.text;
                     }
                  }
                  §§goto(addr72);
               }
               §§goto(addr52);
            }
            addr172:
            client.payVault.refresh(function():void
            {
            });
            client.bigDB.loadMyPlayerObject(function(param1:DatabaseObject):void
            {
               var _loc5_:Boolean = true;
               var _loc6_:Boolean = false;
               var o:DatabaseObject = param1;
               if(o == null)
               {
                  return;
               }
               var _loc3_:*;
               var _loc4_:* = (_loc3_ = §§findproperty(p)).p + 1;
               if(!_loc6_)
               {
                  _loc3_.p = _loc4_;
               }
               var changed:Boolean = false;
               if(!_loc6_)
               {
                  §§push("Chars");
                  if(_loc5_)
                  {
                     §§push(§§pop() in o);
                     if(_loc5_)
                     {
                        §§push(§§pop());
                        if(!_loc6_)
                        {
                           if(§§pop())
                           {
                              §§pop();
                              §§push(o.Chars.length >= 1);
                              if(!_loc6_)
                              {
                                 addr57:
                                 if(§§pop())
                                 {
                                    if(!_loc6_)
                                    {
                                       trace("Got chars");
                                       if(!_loc6_)
                                       {
                                          addr66:
                                          client.bigDB.loadKeys("Chars",o.Chars,function(param1:Array):void
                                          {
                                             var _loc2_:Boolean = true;
                                             var _loc3_:Boolean = false;
                                             chars = Vector.<DatabaseObject>(param1);
                                             if(_loc2_)
                                             {
                                                §§push(p >= 2);
                                                if(!_loc3_)
                                                {
                                                   if(§§pop())
                                                   {
                                                      if(!_loc3_)
                                                      {
                                                         addr25:
                                                         §§pop();
                                                         §§goto(addr39);
                                                      }
                                                   }
                                                   if(§§pop())
                                                   {
                                                      if(_loc2_)
                                                      {
                                                         gone = true;
                                                         if(!_loc3_)
                                                         {
                                                            §§goto(addr39);
                                                         }
                                                      }
                                                      §§goto(addr39);
                                                   }
                                                   addr39:
                                                   if(_loc2_)
                                                   {
                                                      §§push(!gone);
                                                   }
                                                   go();
                                                   return;
                                                }
                                             }
                                             §§goto(addr25);
                                          });
                                          trace(chars);
                                          §§goto(addr104);
                                       }
                                       else
                                       {
                                          addr87:
                                          §§push(p >= 2);
                                          if(!_loc6_)
                                          {
                                             §§goto(addr93);
                                          }
                                       }
                                    }
                                    §§goto(addr139);
                                 }
                                 else
                                 {
                                    chars = new Vector.<DatabaseObject>();
                                    if(_loc5_)
                                    {
                                       §§goto(addr87);
                                    }
                                 }
                                 §§goto(addr136);
                              }
                              §§goto(addr94);
                           }
                           §§goto(addr57);
                        }
                        addr93:
                        if(§§pop() && !gone)
                        {
                           gone = true;
                           go();
                        }
                        addr104:
                        if(!o.Stages)
                        {
                           o.Stages = [];
                           changed = true;
                           if(!_loc6_)
                           {
                              §§goto(addr117);
                           }
                           §§goto(addr128);
                        }
                        addr117:
                        §§push("Reputation");
                        if(!_loc6_)
                        {
                           addr121:
                           §§push(§§pop() in o);
                           if(_loc5_)
                           {
                              addr127:
                              if(!§§pop())
                              {
                                 addr128:
                                 o.Reputation = new int(0);
                                 if(_loc5_)
                                 {
                                    addr136:
                                    changed = true;
                                    §§goto(addr139);
                                 }
                                 §§goto(addr144);
                              }
                              addr139:
                              §§goto(addr143);
                           }
                           addr143:
                           §§goto(addr140);
                        }
                        addr140:
                        if(!("Warehouse" in o))
                        {
                           addr144:
                           o.Warehouse = [];
                        }
                        account = o;
                        return;
                     }
                     §§goto(addr127);
                  }
                  §§goto(addr121);
               }
               §§goto(addr66);
            });
            return;
         }
         §§goto(addr44);
      }
      
      public function loginerror(param1:PlayerIOError) : void
      {
         var _loc3_:Boolean = false;
         var _loc4_:Boolean = true;
         var failed:Sprite = null;
         var clickedFailed:* = undefined;
         if(_loc4_)
         {
            var e:PlayerIOError = param1;
            if(!_loc3_)
            {
               clickedFailed = function(param1:MouseEvent):void
               {
                  var _loc2_:Boolean = false;
                  var _loc3_:Boolean = true;
                  if(param1.target.name == "retrybtn")
                  {
                     if(!_loc2_)
                     {
                        failed.removeEventListener(MouseEvent.CLICK,clickedFailed);
                        if(_loc3_)
                        {
                           q.remove(failed);
                           if(!_loc3_)
                           {
                           }
                        }
                        §§goto(addr26);
                     }
                     login();
                  }
                  addr26:
               };
               this.q.stoploading();
            }
            failed = new FailedConnect() as Sprite;
            addChildAt(failed,getChildIndex(this.mouse));
            failed.init();
            if(!_loc3_)
            {
               failed.addEventListener(MouseEvent.CLICK,clickedFailed,false,0,true);
            }
         }
      }
      
      public function regerror(param1:PlayerIOError) : void
      {
         var _loc2_:Boolean = false;
         var _loc3_:Boolean = true;
         if(_loc3_)
         {
            this.q.stoploading();
            if(!_loc2_)
            {
               addr25:
               this.loginmc.confirmbtn.addEventListener(MouseEvent.CLICK,this.register);
            }
            return;
         }
         §§goto(addr25);
      }
      
      public function playGame(param1:DatabaseObject, param2:Function = null) : void
      {
         var _loc4_:Boolean = true;
         var _loc5_:Boolean = false;
         var o:DatabaseObject = param1;
         var f:Function = param2;
         if(!_loc5_)
         {
            this.pChar = o;
            if(_loc4_)
            {
               §§goto(addr34);
            }
            §§goto(addr60);
         }
         addr34:
         if(this.onKong)
         {
            this.kongregate.stats.submit("Level",this.pChar.Level);
            this.kongregate.stats.submit("Denars",this.pChar.Money);
            this.kongregate.stats.submit("Story Complete",int(this.q.arrayContains(this.pChar.Quests.Done,"The Archons of Dusk")));
            addr60:
         }
         this.q.mapLoading = this.pChar.Map.split("_")[0];
         if(!_loc5_)
         {
            this.q.fade(MovieClip(root),4,null,function():void
            {
               var _loc1_:Boolean = true;
               var _loc2_:Boolean = false;
               §§push(Boolean(screen3));
               if(!_loc2_)
               {
                  if(§§pop())
                  {
                     if(!_loc2_)
                     {
                        §§pop();
                        if(_loc1_)
                        {
                           addr22:
                           if(screen3.currentFrame == 1)
                           {
                              if(_loc1_)
                              {
                                 screen3.Clearchar();
                                 if(_loc2_)
                                 {
                                 }
                                 §§goto(addr37);
                              }
                           }
                           if(f)
                           {
                              if(_loc1_)
                              {
                                 f();
                              }
                           }
                        }
                        addr37:
                        return;
                     }
                  }
               }
               §§goto(addr22);
            });
         }
      }
      
      public function deleteChar(param1:String) : void
      {
         var _loc5_:Boolean = true;
         var _loc6_:Boolean = false;
         §§push(this.q.arrayContainsID(this.account.Chars,param1));
         if(!_loc6_)
         {
            §§push(int(§§pop()));
         }
         var _loc2_:* = §§pop();
         if(!_loc6_)
         {
            this.account.Chars.splice(_loc2_,1);
            if(!_loc6_)
            {
               addr37:
               §§push("LastPlayed" in this.account);
               if(!_loc6_)
               {
                  if(§§pop())
                  {
                     if(!_loc6_)
                     {
                        addr57:
                        delete this.account.LastPlayed;
                     }
                  }
                  var _loc3_:Client = this.client;
                  if(_loc5_)
                  {
                     trace("delete: " + param1);
                     if(!_loc6_)
                     {
                        this.acc.send("Delete",param1,_loc2_);
                     }
                  }
                  §§push(this.q.vectorKeyID(this.chars,param1));
                  if(!_loc6_)
                  {
                     §§push(int(§§pop()));
                  }
                  var _loc4_:* = §§pop();
                  if(_loc5_)
                  {
                     this.chars.splice(_loc4_,1);
                     if(_loc5_)
                     {
                        this.screen3.generateSelection();
                     }
                  }
                  return;
               }
            }
            §§goto(addr57);
         }
         §§goto(addr37);
      }
      
      public function createInstance(param1:String) : void
      {
         var _loc3_:Boolean = true;
         var _loc4_:Boolean = false;
         if(!_loc4_)
         {
            var cc:Client = null;
            if(_loc3_)
            {
               var room:Object = null;
               var createb:* = undefined;
               if(!_loc4_)
               {
                  var t:String = param1;
                  createb = function(param1:Message):void
                  {
                     var _loc3_:Boolean = false;
                     var _loc4_:Boolean = true;
                     if(!_loc3_)
                     {
                        var m:Message = param1;
                        if(_loc4_)
                        {
                           cc.multiplayer.createJoinRoom(pChar.key + "_" + Math.random() * 9999999,"Game",false,room,{"Name":pChar.key},joinedinstance,function(param1:PlayerIOError):void
                           {
                              q.stoploading();
                           });
                           if(!_loc3_)
                           {
                              connection.removeMessageHandler("Saved",createb);
                           }
                        }
                     }
                  };
                  if(!_loc3_)
                  {
                  }
                  §§goto(addr100);
               }
               this.q.loading("Creating battle...");
               cc = this.client;
               room = {
                  "Message":t,
                  "Type":"Battle",
                  "Map":t,
                  "Creator":this.pChar.key,
                  "Password":"",
                  "Players":1
               };
               if(!_loc4_)
               {
                  this.connection.addMessageHandler("Saved",createb);
                  if(_loc3_)
                  {
                     §§goto(addr100);
                  }
               }
               §§goto(addr100);
            }
            addr100:
            this.connection.send("Save",true);
            if(_loc3_)
            {
               addr108:
               this.RoomData = room;
            }
            return;
         }
         §§goto(addr108);
      }
      
      public function createbattle(param1:String, param2:String, param3:String, param4:Boolean, param5:String = "", param6:int = 4) : void
      {
         var _loc8_:Boolean = true;
         var _loc9_:Boolean = false;
         var cc:Client = null;
         var room:Object = null;
         if(!_loc9_)
         {
            var createb:* = undefined;
         }
         var Now:Date = null;
         var available:Date = null;
         if(_loc8_)
         {
            var diff:uint = 0;
            if(!_loc9_)
            {
               var availableTxt:String = null;
               var txtF:TextField = null;
               var key:String = null;
               var cm:MovieClip = null;
               if(_loc8_)
               {
                  var t:String = param1;
                  if(_loc8_)
                  {
                     var m:String = param2;
                     var msg:String = param3;
                     var p:Boolean = param4;
                     var pass:String = param5;
                     if(_loc8_)
                     {
                        var pnum:int = param6;
                        addr93:
                        createb = function(param1:Message):void
                        {
                           var _loc3_:Boolean = false;
                           var _loc4_:Boolean = true;
                           if(!_loc3_)
                           {
                              var m:Message = param1;
                              if(_loc4_)
                              {
                                 addr18:
                                 cc.multiplayer.createJoinRoom(pChar.key + "_" + Math.random() * 9999999,"Game",false,room,{"Name":pChar.key},joinedbattle,function(param1:PlayerIOError):void
                                 {
                                    q.stoploading();
                                 });
                                 if(!_loc3_)
                                 {
                                    connection.removeMessageHandler("Saved",createb);
                                 }
                              }
                              return;
                           }
                           §§goto(addr18);
                        };
                        §§push(Boolean(root[m + "Stronghold"]));
                        §§push(Boolean(root[m + "Stronghold"]));
                        if(!_loc9_)
                        {
                           if(§§pop())
                           {
                              §§pop();
                              if(_loc8_)
                              {
                                 §§push(m);
                                 if(_loc8_)
                                 {
                                    §§push("CD");
                                    if(_loc8_)
                                    {
                                       §§push(§§pop() + §§pop());
                                       if(!_loc9_)
                                       {
                                          addr128:
                                          if(§§pop() in this.pChar)
                                          {
                                             if(_loc8_)
                                             {
                                                Now = new Date();
                                                if(_loc8_)
                                                {
                                                   Now = new Date(Now.fullYearUTC,Now.monthUTC,Now.dateUTC,Now.hoursUTC,Now.minutesUTC,Now.secondsUTC,Now.millisecondsUTC);
                                                   if(_loc8_)
                                                   {
                                                      available = new Date(this.pChar[m + "CD"].fullYearUTC,this.pChar[m + "CD"].monthUTC,this.pChar[m + "CD"].dateUTC,this.pChar[m + "CD"].hoursUTC,this.pChar[m + "CD"].minutesUTC,this.pChar[m + "CD"].secondsUTC,this.pChar[m + "CD"].millisecondsUTC);
                                                      available.setMinutes(available.getMinutes() + 60);
                                                      trace("NOW:" + valueOf());
                                                      addr241:
                                                      trace("AVAILABLE:" + valueOf());
                                                      if(_loc8_)
                                                      {
                                                         addr250:
                                                         if(Now.valueOf() < available.valueOf())
                                                         {
                                                            if(!_loc9_)
                                                            {
                                                               diff = available.valueOf() - Now.valueOf();
                                                               availableTxt = "";
                                                               if(!_loc9_)
                                                               {
                                                                  addr276:
                                                                  §§push(diff);
                                                                  if(!_loc9_)
                                                                  {
                                                                     if(§§pop() >= 60000)
                                                                     {
                                                                        availableTxt = Math.floor(diff / 60000) + " minutes";
                                                                        addr282:
                                                                        if(!_loc9_)
                                                                        {
                                                                           addr310:
                                                                           §§push(§§newactivation());
                                                                           if(_loc8_)
                                                                           {
                                                                              §§pop().§§slot[14] = !!this.mapchat ? this.mapchat : this.chattxt;
                                                                              if(!_loc9_)
                                                                              {
                                                                                 addr328:
                                                                                 root.q.addChatTxt(txtF,m + " is on cooldown. It will be available in " + availableTxt + ".","Public",16776960);
                                                                                 if(_loc8_)
                                                                                 {
                                                                                    return;
                                                                                 }
                                                                                 §§goto(addr457);
                                                                              }
                                                                              §§goto(addr466);
                                                                           }
                                                                           §§goto(addr317);
                                                                           addr301:
                                                                        }
                                                                        else
                                                                        {
                                                                           addr423:
                                                                           cm.confirmation = function():void
                                                                           {
                                                                           };
                                                                           if(_loc8_)
                                                                           {
                                                                              cm.txt = this.getTxt("KeyMissing",cm.titletxt) + " " + this.getTxt(key) + ".";
                                                                              if(_loc8_)
                                                                              {
                                                                                 addr449:
                                                                                 addChildAt(cm,getChildIndex(this.mouse));
                                                                              }
                                                                           }
                                                                           else
                                                                           {
                                                                              addr583:
                                                                              this.connection.send("Save",true);
                                                                              §§goto(addr588);
                                                                           }
                                                                        }
                                                                        addr457:
                                                                        §§goto(addr460);
                                                                     }
                                                                     else
                                                                     {
                                                                        availableTxt = diff / 1000 + " seconds";
                                                                     }
                                                                     §§goto(addr310);
                                                                  }
                                                                  else
                                                                  {
                                                                     addr368:
                                                                     §§push(§§pop() <= 0);
                                                                     if(!_loc9_)
                                                                     {
                                                                        §§push(§§pop());
                                                                        if(!_loc9_)
                                                                        {
                                                                           addr377:
                                                                           if(§§pop())
                                                                           {
                                                                              §§pop();
                                                                              addr379:
                                                                              §§push(!("Keys" in this.pChar));
                                                                              if(!_loc9_)
                                                                              {
                                                                                 addr387:
                                                                                 if(!§§pop())
                                                                                 {
                                                                                    §§pop();
                                                                                    if(!_loc9_)
                                                                                    {
                                                                                       addr400:
                                                                                       if(this.pChar.Keys.indexOf(m) < 0)
                                                                                       {
                                                                                          if(!_loc9_)
                                                                                          {
                                                                                             cm = new Confirm() as MovieClip;
                                                                                             cm.title = this.getTxt("KeyRequired",cm.bg.titletxt);
                                                                                             if(!_loc9_)
                                                                                             {
                                                                                                §§goto(addr423);
                                                                                             }
                                                                                             else
                                                                                             {
                                                                                                addr477:
                                                                                                cc = this.client;
                                                                                                if(root[m + "Stronghold"])
                                                                                                {
                                                                                                   if(!root[m + "Stronghold"].Players)
                                                                                                   {
                                                                                                      pnum = 6;
                                                                                                      if(_loc8_)
                                                                                                      {
                                                                                                         addr513:
                                                                                                         room = {
                                                                                                            "Message":msg,
                                                                                                            "Type":t,
                                                                                                            "Map":m,
                                                                                                            "Creator":this.pChar.key,
                                                                                                            "Password":pass,
                                                                                                            "Players":pnum,
                                                                                                            "Private":p,
                                                                                                            "B":root.branch
                                                                                                         };
                                                                                                         if(root[m + "Stronghold"])
                                                                                                         {
                                                                                                            if(_loc8_)
                                                                                                            {
                                                                                                               room.Floors = root[m + "Stronghold"].Floors;
                                                                                                               if(!_loc9_)
                                                                                                               {
                                                                                                                  room.Floor = 1;
                                                                                                               }
                                                                                                               §§goto(addr588);
                                                                                                            }
                                                                                                            addr588:
                                                                                                            this.RoomData = room;
                                                                                                            return;
                                                                                                         }
                                                                                                         this.connection.addMessageHandler("Saved",createb);
                                                                                                         if(!_loc8_)
                                                                                                         {
                                                                                                         }
                                                                                                         §§goto(addr583);
                                                                                                         addr502:
                                                                                                      }
                                                                                                      §§goto(addr583);
                                                                                                   }
                                                                                                   else
                                                                                                   {
                                                                                                      pnum = root[m + "Stronghold"].Players;
                                                                                                   }
                                                                                                }
                                                                                                §§goto(addr513);
                                                                                             }
                                                                                          }
                                                                                       }
                                                                                       else
                                                                                       {
                                                                                          addr470:
                                                                                          this.q.loading("Creating battle...");
                                                                                          if(_loc8_)
                                                                                          {
                                                                                             §§goto(addr477);
                                                                                          }
                                                                                       }
                                                                                       §§goto(addr583);
                                                                                    }
                                                                                    §§goto(addr449);
                                                                                 }
                                                                              }
                                                                           }
                                                                           §§goto(addr400);
                                                                        }
                                                                     }
                                                                     §§goto(addr387);
                                                                  }
                                                               }
                                                               §§goto(addr379);
                                                            }
                                                            §§goto(addr502);
                                                         }
                                                         else
                                                         {
                                                            addr348:
                                                            if(root[m + "Key"])
                                                            {
                                                               addr355:
                                                               key = root[m + "Key"];
                                                               §§goto(addr368);
                                                               §§push(this.countItem(key));
                                                            }
                                                         }
                                                         §§goto(addr470);
                                                      }
                                                      §§goto(addr355);
                                                   }
                                                   §§goto(addr301);
                                                }
                                                §§goto(addr250);
                                             }
                                             §§goto(addr400);
                                          }
                                          §§goto(addr348);
                                       }
                                       §§goto(addr379);
                                    }
                                    addr460:
                                    §§goto(addr459);
                                 }
                                 addr459:
                                 if(m == "Khaz\'ar Dungeon")
                                 {
                                    if(_loc8_)
                                    {
                                       this.Ad("KhazarAd");
                                       addr466:
                                       this.tip(21);
                                    }
                                    §§goto(addr466);
                                 }
                                 return;
                              }
                              §§goto(addr282);
                           }
                           §§goto(addr128);
                        }
                        §§goto(addr377);
                     }
                     §§goto(addr276);
                  }
                  §§goto(addr241);
               }
               §§goto(addr328);
            }
            §§goto(addr93);
         }
         §§goto(addr583);
      }
      
      public function joinbattle(param1:String, param2:RoomInfo) : void
      {
         var _loc4_:Boolean = false;
         var _loc5_:Boolean = true;
         if(!_loc4_)
         {
            var cc:Client = null;
            var joinb:* = undefined;
            if(!_loc4_)
            {
               var Now:Date = null;
               var available:Date = null;
               var diff:uint = 0;
               if(_loc5_)
               {
                  var availableTxt:String = null;
                  var txtF:TextField = null;
                  if(!_loc4_)
                  {
                     addr59:
                     var key:String = null;
                     if(_loc5_)
                     {
                        var cm:MovieClip = null;
                        var id:String = param1;
                        var info:RoomInfo = param2;
                        joinb = function(param1:Message):void
                        {
                           var _loc3_:Boolean = true;
                           var _loc4_:Boolean = false;
                           if(!_loc4_)
                           {
                              var m:Message = param1;
                              if(_loc3_)
                              {
                                 addr15:
                                 cc.multiplayer.joinRoom(id,{"Name":pChar.key},joinedbattle,function(param1:PlayerIOError):void
                                 {
                                    q.stoploading();
                                 });
                                 if(_loc3_)
                                 {
                                    connection.removeMessageHandler("Saved",joinb);
                                 }
                              }
                              return;
                           }
                           §§goto(addr15);
                        };
                        if(_loc5_)
                        {
                           var m:String = info.data.Map;
                           §§push(Boolean(root[m + "Stronghold"]));
                           §§push(Boolean(root[m + "Stronghold"]));
                           if(_loc5_)
                           {
                              if(§§pop())
                              {
                                 §§pop();
                                 if(!_loc4_)
                                 {
                                    §§push(m);
                                    if(_loc5_)
                                    {
                                       §§push("CD");
                                       if(!_loc4_)
                                       {
                                          §§push(§§pop() + §§pop());
                                          if(!_loc4_)
                                          {
                                             §§push(§§pop() in this.pChar);
                                             if(_loc5_)
                                             {
                                                addr118:
                                                if(§§pop())
                                                {
                                                   Now = new Date();
                                                   if(_loc5_)
                                                   {
                                                      addr127:
                                                      Now = new Date(Now.fullYearUTC,Now.monthUTC,Now.dateUTC,Now.hoursUTC,Now.minutesUTC,Now.secondsUTC,Now.millisecondsUTC);
                                                      if(!_loc4_)
                                                      {
                                                         available = new Date(this.pChar[m + "CD"].fullYearUTC,this.pChar[m + "CD"].monthUTC,this.pChar[m + "CD"].dateUTC,this.pChar[m + "CD"].hoursUTC,this.pChar[m + "CD"].minutesUTC,this.pChar[m + "CD"].secondsUTC,this.pChar[m + "CD"].millisecondsUTC);
                                                         available.setMinutes(available.getMinutes() + 60);
                                                         if(_loc5_)
                                                         {
                                                            trace("NOW:" + valueOf());
                                                            addr233:
                                                            trace("AVAILABLE:" + valueOf());
                                                            if(!_loc4_)
                                                            {
                                                               if(Now.valueOf() < available.valueOf())
                                                               {
                                                                  if(_loc5_)
                                                                  {
                                                                     diff = available.valueOf() - Now.valueOf();
                                                                     if(!_loc4_)
                                                                     {
                                                                        availableTxt = "";
                                                                        §§push(diff);
                                                                        if(_loc5_)
                                                                        {
                                                                           if(§§pop() >= 60000)
                                                                           {
                                                                              if(_loc5_)
                                                                              {
                                                                                 availableTxt = Math.floor(diff / 60000) + " minutes";
                                                                              }
                                                                              else
                                                                              {
                                                                                 §§goto(addr460);
                                                                              }
                                                                           }
                                                                           else
                                                                           {
                                                                              availableTxt = diff / 1000 + " seconds";
                                                                              if(_loc4_)
                                                                              {
                                                                                 addr358:
                                                                                 key = root[m + "Key"];
                                                                                 addr371:
                                                                                 §§push(this.countItem(key) <= 0);
                                                                                 §§push(this.countItem(key) <= 0);
                                                                                 if(!_loc4_)
                                                                                 {
                                                                                    if(§§pop())
                                                                                    {
                                                                                       addr388:
                                                                                       if(_loc5_)
                                                                                       {
                                                                                          §§pop();
                                                                                          addr383:
                                                                                          §§push("Keys" in this.pChar);
                                                                                       }
                                                                                       §§push(!§§pop());
                                                                                       if(!!§§pop())
                                                                                       {
                                                                                          if(_loc5_)
                                                                                          {
                                                                                             §§pop();
                                                                                             addr392:
                                                                                             §§push(this.pChar.Keys.indexOf(m) < 0);
                                                                                          }
                                                                                       }
                                                                                    }
                                                                                    if(§§pop())
                                                                                    {
                                                                                       if(!_loc4_)
                                                                                       {
                                                                                          addr404:
                                                                                          cm = new Confirm() as MovieClip;
                                                                                          addr411:
                                                                                          cm.title = this.getTxt("KeyRequired",cm.bg.titletxt);
                                                                                          addr421:
                                                                                          cm.confirmation = function():void
                                                                                          {
                                                                                          };
                                                                                          if(!_loc4_)
                                                                                          {
                                                                                             cm.txt = this.getTxt("KeyMissing",cm.titletxt) + " " + this.getTxt(key) + ".";
                                                                                             addr445:
                                                                                             addChildAt(cm,getChildIndex(this.mouse));
                                                                                             if(!_loc4_)
                                                                                             {
                                                                                                addr459:
                                                                                                if(m == "Khaz\'ar Dungeon")
                                                                                                {
                                                                                                }
                                                                                                §§goto(addr460);
                                                                                             }
                                                                                          }
                                                                                          addr502:
                                                                                          this.RoomData = info.data;
                                                                                          §§goto(addr507);
                                                                                       }
                                                                                       §§goto(addr445);
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                       addr464:
                                                                                       this.q.loading("Joining battle...");
                                                                                       if(_loc5_)
                                                                                       {
                                                                                          cc = this.client;
                                                                                          if(_loc5_)
                                                                                          {
                                                                                             §§goto(addr486);
                                                                                          }
                                                                                          this.connection.send("Save",true);
                                                                                          if(!_loc4_)
                                                                                          {
                                                                                             §§goto(addr502);
                                                                                          }
                                                                                       }
                                                                                    }
                                                                                    §§goto(addr502);
                                                                                 }
                                                                                 §§goto(addr388);
                                                                              }
                                                                           }
                                                                           §§push(§§newactivation());
                                                                           if(_loc5_)
                                                                           {
                                                                              §§pop().§§slot[10] = !!this.mapchat ? this.mapchat : this.chattxt;
                                                                              root.q.addChatTxt(txtF,m + " is on cooldown. It will be available in " + availableTxt + ".","Public",16776960);
                                                                              §§goto(addr335);
                                                                           }
                                                                           §§goto(addr310);
                                                                        }
                                                                        §§goto(addr371);
                                                                     }
                                                                     §§goto(addr421);
                                                                  }
                                                                  §§goto(addr404);
                                                               }
                                                               else
                                                               {
                                                                  addr336:
                                                                  §§push(Boolean(root[m + "Key"]));
                                                                  if(_loc5_)
                                                                  {
                                                                     §§push(§§pop());
                                                                     if(!_loc4_)
                                                                     {
                                                                        if(§§pop())
                                                                        {
                                                                           addr349:
                                                                           §§pop();
                                                                           §§push(Boolean(root[m + "AllKey"]));
                                                                        }
                                                                        if(§§pop())
                                                                        {
                                                                           §§goto(addr358);
                                                                        }
                                                                        §§goto(addr464);
                                                                     }
                                                                     §§goto(addr388);
                                                                  }
                                                               }
                                                               §§goto(addr388);
                                                            }
                                                            §§goto(addr392);
                                                         }
                                                         addr460:
                                                         this.Ad("KhazarAd");
                                                         return;
                                                      }
                                                      §§goto(addr411);
                                                   }
                                                   §§goto(addr358);
                                                }
                                                §§goto(addr336);
                                             }
                                             §§goto(addr349);
                                          }
                                          §§goto(addr383);
                                       }
                                    }
                                    §§goto(addr459);
                                 }
                                 addr486:
                                 this.connection.addMessageHandler("Saved",joinb);
                                 if(_loc4_)
                                 {
                                 }
                                 addr507:
                                 return;
                              }
                              §§goto(addr118);
                           }
                           §§goto(addr388);
                        }
                        §§goto(addr233);
                     }
                     §§goto(addr127);
                  }
                  §§goto(addr358);
               }
               §§goto(addr233);
            }
            §§goto(addr59);
         }
         addr335:
      }
      
      public function joinedNextFloor() : void
      {
         var _loc1_:Boolean = false;
         var _loc2_:Boolean = true;
         trace("Next floor");
         this.battlestate = 1;
         if(_loc2_)
         {
            this.l0p = 800;
            root.loadmc.cancelbtn.visible = true;
            this.generateMap();
            if(!_loc1_)
            {
               this.battle.send("NextFloor",this.RoomData.Floor - 1);
               if(!_loc1_)
               {
                  addr62:
                  removeEventListener(Event.ENTER_FRAME,this.gameloop);
                  this.generateHUD("Battle");
                  if(_loc2_)
                  {
                     addr73:
                     this.mousedepth();
                  }
               }
               return;
            }
            §§goto(addr73);
         }
         §§goto(addr62);
      }
      
      public function joinedBattle() : void
      {
         var _loc2_:Boolean = true;
         var _loc3_:Boolean = false;
         var Now:Date = null;
         if(_loc2_)
         {
            if(this.pvpbtn)
            {
               addr28:
               this.pvpbtn.visible = false;
            }
            §§push(Boolean(this.connection));
            if(_loc2_)
            {
               if(§§pop())
               {
                  if(!_loc3_)
                  {
                     §§pop();
                     §§push(this.connection.connected);
                     if(!_loc3_)
                     {
                        addr48:
                        §§push(Boolean(§§pop()));
                     }
                  }
               }
               if(§§pop())
               {
                  this.connection.disconnect();
                  if(_loc2_)
                  {
                     this.connection = null;
                     if(!_loc3_)
                     {
                        addr62:
                        root.loadmc.cancelbtn.visible = true;
                        this.battlestate = 1;
                        if(!_loc3_)
                        {
                           this.l0p = 800;
                           this.generateMap();
                           if(this.RoomData.Map.indexOf("Daily Boss") >= 0)
                           {
                              Now = new Date();
                              Now = new Date(Now.fullYearUTC,Now.monthUTC,Now.dateUTC,Now.hoursUTC,Now.minutesUTC,Now.secondsUTC,Now.millisecondsUTC);
                              if(_loc2_)
                              {
                                 root.account.DB = Now;
                                 addr129:
                                 if(root[this.RoomData.Map + "Stronghold"])
                                 {
                                    Now = new Date();
                                    if(_loc2_)
                                    {
                                       this.pChar[this.RoomData.Map + "CD"] = Now;
                                       if(_loc2_)
                                       {
                                          addr156:
                                          var b:Connection = MovieClip(root).battle;
                                          if(_loc2_)
                                          {
                                             this.PublicChannel = b;
                                             if(!_loc3_)
                                             {
                                                addr173:
                                                trace("Send Spawn");
                                                if(_loc3_)
                                                {
                                                }
                                                §§goto(addr231);
                                             }
                                             addr191:
                                             b.send("Spawn");
                                             if(!_loc3_)
                                             {
                                                b.addMessageHandler("Spawn",this.spawn);
                                                b.addMessageHandler("Escape",function(param1:Message, param2:String):void
                                                {
                                                   var _loc4_:Boolean = false;
                                                   var _loc5_:Boolean = true;
                                                   var _loc3_:MovieClip = pmcs[param2 + "_mc"];
                                                   if(!_loc4_)
                                                   {
                                                      if(!_loc3_)
                                                      {
                                                         if(_loc5_)
                                                         {
                                                            return;
                                                         }
                                                      }
                                                      else
                                                      {
                                                         _loc3_.escaped = true;
                                                      }
                                                   }
                                                });
                                                if(_loc2_)
                                                {
                                                   addr219:
                                                   removeEventListener(Event.ENTER_FRAME,this.gameloop);
                                                   if(_loc3_)
                                                   {
                                                   }
                                                }
                                                §§goto(addr231);
                                             }
                                             this.generateHUD("Battle");
                                          }
                                          §§goto(addr231);
                                       }
                                       trace(this.loadmc);
                                       b.addMessageHandler("BattleGroup",function(param1:Message, param2:int):void
                                       {
                                          var _loc3_:Boolean = true;
                                          var _loc4_:Boolean = false;
                                          group = param2;
                                          if(!_loc4_)
                                          {
                                             if(param2 == 1)
                                             {
                                                if(_loc3_)
                                                {
                                                   addr14:
                                                   tip(4);
                                                }
                                             }
                                             return;
                                          }
                                          §§goto(addr14);
                                       });
                                       if(_loc2_)
                                       {
                                          §§goto(addr191);
                                       }
                                       addr231:
                                       this.mousedepth();
                                       return;
                                    }
                                    §§goto(addr173);
                                 }
                                 §§goto(addr156);
                              }
                              §§goto(addr191);
                           }
                           §§goto(addr129);
                        }
                        §§goto(addr219);
                     }
                  }
                  §§goto(addr173);
               }
               §§goto(addr62);
            }
            §§goto(addr48);
         }
         §§goto(addr28);
      }
      
      public function spawn(param1:Message, param2:String, param3:int, param4:int, param5:Boolean = false, param6:String = "", param7:Boolean = false, param8:Boolean = false, param9:String = "") : *
      {
         var _loc11_:Boolean = true;
         var _loc12_:Boolean = false;
         var poses:Vector.<Point> = null;
         var entity:Vector.<String> = null;
         var ename:String = null;
         if(!_loc12_)
         {
            var ppos:Point = null;
            var pos:int = 0;
            if(_loc11_)
            {
               var mc:MovieClip = null;
               var mcthere:Boolean = false;
               var egroup:int = 0;
               var xadd:int = 0;
               if(_loc11_)
               {
                  var externalmc:MovieClip = null;
                  if(!_loc12_)
                  {
                     var externalmc2:MovieClip = null;
                     var hp:int = 0;
                     if(_loc11_)
                     {
                        var maxhp:int = 0;
                        var loader:Loader = null;
                        var C:Class = null;
                        if(!_loc12_)
                        {
                           var posi:int = 0;
                           var po:Point = null;
                           var rmc:MovieClip = null;
                           var mp:uint = 0;
                           var maxmp:uint = 0;
                           var iadd:int = 0;
                           if(_loc11_)
                           {
                              var m:Message = param1;
                              if(!_loc12_)
                              {
                                 var l:String = param2;
                                 if(!_loc12_)
                                 {
                                    var t:int = param3;
                                    var newid:int = param4;
                                    addr129:
                                    var e:Boolean = param5;
                                    if(!_loc12_)
                                    {
                                       var poslist:String = param6;
                                       var boss:Boolean = param7;
                                       var sendback:Boolean = param8;
                                       var sendbackn:String = param9;
                                       var clearload:* = function():void
                                       {
                                          var _loc1_:Boolean = false;
                                          var _loc2_:Boolean = true;
                                          if(loadmc)
                                          {
                                             if(_loc2_)
                                             {
                                                loadmc.clear();
                                                if(_loc2_)
                                                {
                                                   q.remove(loadmc);
                                                   if(!_loc2_)
                                                   {
                                                   }
                                                   §§goto(addr23);
                                                }
                                                loadmc = null;
                                             }
                                          }
                                          addr23:
                                       };
                                       if(_loc11_)
                                       {
                                          var v:Vector.<String> = Vector.<String>(l.split(","));
                                          if(_loc11_)
                                          {
                                             var n:int = v.length;
                                             if(_loc11_)
                                             {
                                                addr177:
                                                §§push(poslist);
                                                if(_loc11_)
                                                {
                                                   if(§§pop() !== "")
                                                   {
                                                      this.setBattleList(poslist,t);
                                                      addr190:
                                                      trace("Players: " + this.RoomData.Players);
                                                      if(e)
                                                      {
                                                         if(!_loc12_)
                                                         {
                                                            if(this.RoomData.Players !== 1)
                                                            {
                                                               poses = this.eBattlePositions;
                                                               addr281:
                                                               §§push(§§newactivation());
                                                               §§push(n);
                                                               if(!_loc12_)
                                                               {
                                                                  §§push(int(§§pop() - 1));
                                                               }
                                                               §§pop().§§slot[13] = §§pop();
                                                               while(i >= 0)
                                                               {
                                                                  entity = Vector.<String>(v[i].split("_"));
                                                                  if(entity != "")
                                                                  {
                                                                     trace(entity);
                                                                     §§push(§§newactivation());
                                                                     §§push(entity[0]);
                                                                     if(_loc11_)
                                                                     {
                                                                        §§push(§§pop());
                                                                     }
                                                                     §§pop().§§slot[16] = §§pop();
                                                                     trace(ename);
                                                                     if(!_loc12_)
                                                                     {
                                                                        trace(e);
                                                                        trace(this.pmcs[ename + "_mc"]);
                                                                        pos = int(entity[1]);
                                                                        if(_loc11_)
                                                                        {
                                                                           mc = this.getMC(pos,t);
                                                                           mcthere = false;
                                                                           if(!_loc12_)
                                                                           {
                                                                              if(mc !== null)
                                                                              {
                                                                                 if(!_loc12_)
                                                                                 {
                                                                                    mcthere = true;
                                                                                    if(!_loc12_)
                                                                                    {
                                                                                       addr382:
                                                                                       egroup = Math.floor(pos / 3);
                                                                                       xadd = 0;
                                                                                       externalmc = null;
                                                                                       externalmc2 = null;
                                                                                       if(_loc11_)
                                                                                       {
                                                                                          if(this.gameMC !== null)
                                                                                          {
                                                                                             trace(this.gameMC.enemies);
                                                                                             if(!_loc11_)
                                                                                             {
                                                                                             }
                                                                                             addr1083:
                                                                                             maxmp = uint(entity[5]);
                                                                                             if(!_loc12_)
                                                                                             {
                                                                                                mc.mp = mp;
                                                                                                mc.maxmp = maxmp;
                                                                                                addr1104:
                                                                                                §§push(mcthere);
                                                                                                if(_loc11_)
                                                                                                {
                                                                                                   addr1108:
                                                                                                   if(!§§pop())
                                                                                                   {
                                                                                                      if(_loc11_)
                                                                                                      {
                                                                                                         addr1112:
                                                                                                         §§push(Boolean(mc.enemy));
                                                                                                         if(!_loc12_)
                                                                                                         {
                                                                                                            addr1128:
                                                                                                            if(§§pop() || mc.id === newid)
                                                                                                            {
                                                                                                               addr1129:
                                                                                                               mc.worldx = ppos.x;
                                                                                                               if(!_loc12_)
                                                                                                               {
                                                                                                                  addr1156:
                                                                                                                  mc.worldy = ppos.y;
                                                                                                                  if(_loc11_)
                                                                                                                  {
                                                                                                                     addr1165:
                                                                                                                     iadd = getChildIndex(this.l0) + 1;
                                                                                                                     if(_loc11_)
                                                                                                                     {
                                                                                                                        mc.name = mc.pname + "_" + pos;
                                                                                                                        addr1187:
                                                                                                                        trace(mc.name);
                                                                                                                        addr1192:
                                                                                                                        addChildAt(mc,iadd);
                                                                                                                        mc.iadd = iadd;
                                                                                                                        addr1203:
                                                                                                                        if(mc.pname == this.pChar.key)
                                                                                                                        {
                                                                                                                           if(_loc12_)
                                                                                                                           {
                                                                                                                              continue;
                                                                                                                           }
                                                                                                                           addr1212:
                                                                                                                           this.pChars.unshift(mc);
                                                                                                                           addr1217:
                                                                                                                        }
                                                                                                                        else
                                                                                                                        {
                                                                                                                           this.pChars.push(mc);
                                                                                                                        }
                                                                                                                        mc.init(true);
                                                                                                                     }
                                                                                                                     mc.visible = false;
                                                                                                                     if(mc.hp <= 0)
                                                                                                                     {
                                                                                                                        addr1236:
                                                                                                                        mc.action = "Death";
                                                                                                                        mc.hp = 0;
                                                                                                                        if(!_loc12_)
                                                                                                                        {
                                                                                                                           addr1247:
                                                                                                                           mc.commandclickable = true;
                                                                                                                           if(!_loc11_)
                                                                                                                           {
                                                                                                                              continue;
                                                                                                                           }
                                                                                                                           addr1254:
                                                                                                                           §§push(i);
                                                                                                                           if(!_loc12_)
                                                                                                                           {
                                                                                                                              addr1259:
                                                                                                                              var i:int = §§pop() - 1;
                                                                                                                              continue;
                                                                                                                           }
                                                                                                                           §§goto(addr1259);
                                                                                                                        }
                                                                                                                        §§goto(addr1254);
                                                                                                                     }
                                                                                                                     §§goto(addr1247);
                                                                                                                  }
                                                                                                                  §§goto(addr1217);
                                                                                                                  addr1138:
                                                                                                               }
                                                                                                               §§goto(addr1187);
                                                                                                            }
                                                                                                            else
                                                                                                            {
                                                                                                               mc.worldx = -50;
                                                                                                               §§push(t);
                                                                                                               if(_loc11_)
                                                                                                               {
                                                                                                                  addr1149:
                                                                                                                  if(§§pop() == 2)
                                                                                                                  {
                                                                                                                     if(!_loc12_)
                                                                                                                     {
                                                                                                                        addr1152:
                                                                                                                        mc.worldx = 850;
                                                                                                                        §§goto(addr1156);
                                                                                                                     }
                                                                                                                     §§goto(addr1165);
                                                                                                                  }
                                                                                                                  §§goto(addr1156);
                                                                                                               }
                                                                                                            }
                                                                                                            §§goto(addr1259);
                                                                                                         }
                                                                                                         §§goto(addr1128);
                                                                                                         §§push(!§§pop());
                                                                                                      }
                                                                                                      §§goto(addr1156);
                                                                                                   }
                                                                                                   §§goto(addr1247);
                                                                                                }
                                                                                                §§goto(addr1128);
                                                                                             }
                                                                                             §§goto(addr1192);
                                                                                          }
                                                                                          §§push(e);
                                                                                          if(!_loc12_)
                                                                                          {
                                                                                             §§push(Boolean(§§pop()));
                                                                                             if(_loc11_)
                                                                                             {
                                                                                                §§push(§§pop() && this.gameMC);
                                                                                                if(§§pop() && this.gameMC)
                                                                                                {
                                                                                                   if(!_loc12_)
                                                                                                   {
                                                                                                      §§pop();
                                                                                                      if(_loc11_)
                                                                                                      {
                                                                                                         §§push(Boolean(this.gameMC.enemies));
                                                                                                         if(!_loc12_)
                                                                                                         {
                                                                                                            addr448:
                                                                                                            §§push(§§pop());
                                                                                                            if(_loc11_)
                                                                                                            {
                                                                                                               if(§§pop())
                                                                                                               {
                                                                                                                  addr453:
                                                                                                                  §§pop();
                                                                                                                  if(!_loc12_)
                                                                                                                  {
                                                                                                                     addr464:
                                                                                                                     if(this.gameMC.enemies.indexOf(ename) >= 0)
                                                                                                                     {
                                                                                                                        loader = this.gameMC.LOADER;
                                                                                                                        if(_loc11_)
                                                                                                                        {
                                                                                                                           C = loader.contentLoaderInfo.applicationDomain.getDefinition(ename) as Class;
                                                                                                                           if(!_loc12_)
                                                                                                                           {
                                                                                                                              trace("class: " + C);
                                                                                                                              externalmc = new C() as MovieClip;
                                                                                                                              if(_loc11_)
                                                                                                                              {
                                                                                                                                 externalmc2 = new C() as MovieClip;
                                                                                                                                 addr514:
                                                                                                                                 trace(externalmc);
                                                                                                                                 if(e)
                                                                                                                                 {
                                                                                                                                    if(!_loc12_)
                                                                                                                                    {
                                                                                                                                       §§push(!mc);
                                                                                                                                       if(_loc11_)
                                                                                                                                       {
                                                                                                                                          addr528:
                                                                                                                                          §§push(§§pop());
                                                                                                                                          if(_loc11_)
                                                                                                                                          {
                                                                                                                                             if(!§§pop())
                                                                                                                                             {
                                                                                                                                                if(!_loc12_)
                                                                                                                                                {
                                                                                                                                                   addr536:
                                                                                                                                                   §§pop();
                                                                                                                                                   §§push(mc == null);
                                                                                                                                                   if(_loc11_)
                                                                                                                                                   {
                                                                                                                                                      addr543:
                                                                                                                                                      if(§§pop())
                                                                                                                                                      {
                                                                                                                                                         mc = new ZEnemy() as MovieClip;
                                                                                                                                                         if(!_loc12_)
                                                                                                                                                         {
                                                                                                                                                            mc.plvl = int(entity[4]);
                                                                                                                                                            mc.buffs = Vector.<String>(entity[5].split(","));
                                                                                                                                                            rmc = new ZEnemy() as MovieClip;
                                                                                                                                                            addr584:
                                                                                                                                                            mc.enemy = true;
                                                                                                                                                            rmc.gotoAndStop(ename);
                                                                                                                                                            if(externalmc)
                                                                                                                                                            {
                                                                                                                                                               rmc.addChild(externalmc);
                                                                                                                                                               externalmc.x = externalmc.p.x;
                                                                                                                                                               if(!_loc12_)
                                                                                                                                                               {
                                                                                                                                                                  externalmc.y = externalmc.p.y;
                                                                                                                                                                  if(_loc11_)
                                                                                                                                                                  {
                                                                                                                                                                     addr621:
                                                                                                                                                                     mc.group = egroup;
                                                                                                                                                                     if(_loc11_)
                                                                                                                                                                     {
                                                                                                                                                                        mc.pname = ename;
                                                                                                                                                                        if(!_loc12_)
                                                                                                                                                                        {
                                                                                                                                                                           addr636:
                                                                                                                                                                           rmc.pname = ename;
                                                                                                                                                                           §§push(§§newactivation());
                                                                                                                                                                           §§push(pos);
                                                                                                                                                                           if(_loc11_)
                                                                                                                                                                           {
                                                                                                                                                                              §§push(int(§§pop() - 3 * egroup));
                                                                                                                                                                           }
                                                                                                                                                                           §§pop().§§slot[29] = §§pop();
                                                                                                                                                                           §§push(Boolean(boss));
                                                                                                                                                                           §§push(Boolean(boss));
                                                                                                                                                                           if(_loc11_)
                                                                                                                                                                           {
                                                                                                                                                                              if(§§pop())
                                                                                                                                                                              {
                                                                                                                                                                                 if(_loc11_)
                                                                                                                                                                                 {
                                                                                                                                                                                    §§pop();
                                                                                                                                                                                    §§push(i);
                                                                                                                                                                                    if(!_loc12_)
                                                                                                                                                                                    {
                                                                                                                                                                                       §§push(n);
                                                                                                                                                                                       if(_loc11_)
                                                                                                                                                                                       {
                                                                                                                                                                                          §§push(§§pop() - 1);
                                                                                                                                                                                          if(_loc11_)
                                                                                                                                                                                          {
                                                                                                                                                                                             §§push(§§pop() == §§pop());
                                                                                                                                                                                             if(!_loc12_)
                                                                                                                                                                                             {
                                                                                                                                                                                                addr680:
                                                                                                                                                                                                if(§§pop())
                                                                                                                                                                                                {
                                                                                                                                                                                                   §§push(posi + 1);
                                                                                                                                                                                                   if(!_loc12_)
                                                                                                                                                                                                   {
                                                                                                                                                                                                      posi = §§pop();
                                                                                                                                                                                                      if(_loc11_)
                                                                                                                                                                                                      {
                                                                                                                                                                                                         addr691:
                                                                                                                                                                                                         po = poses[posi];
                                                                                                                                                                                                         ppos = new Point(po.x,po.y);
                                                                                                                                                                                                         §§push(§§newactivation());
                                                                                                                                                                                                         §§push(egroup);
                                                                                                                                                                                                         if(!_loc12_)
                                                                                                                                                                                                         {
                                                                                                                                                                                                            §§push(int(§§pop() * 800));
                                                                                                                                                                                                         }
                                                                                                                                                                                                         §§pop().§§slot[22] = §§pop();
                                                                                                                                                                                                         §§push(ename + "_e" in this.ao);
                                                                                                                                                                                                         if(_loc11_)
                                                                                                                                                                                                         {
                                                                                                                                                                                                            if(!§§pop())
                                                                                                                                                                                                            {
                                                                                                                                                                                                               if(!_loc12_)
                                                                                                                                                                                                               {
                                                                                                                                                                                                                  addr739:
                                                                                                                                                                                                                  trace("raster " + ename);
                                                                                                                                                                                                                  if(_loc11_)
                                                                                                                                                                                                                  {
                                                                                                                                                                                                                     this.ao[ename + "_e"] = new Object();
                                                                                                                                                                                                                     this.rastere(rmc);
                                                                                                                                                                                                                     this.q.toggleMC(rmc,"stop");
                                                                                                                                                                                                                     if(!_loc12_)
                                                                                                                                                                                                                     {
                                                                                                                                                                                                                        this.q.remove(rmc);
                                                                                                                                                                                                                        rmc = null;
                                                                                                                                                                                                                        addr779:
                                                                                                                                                                                                                        mc.rasterdone = true;
                                                                                                                                                                                                                        mc.gotoAndStop(ename);
                                                                                                                                                                                                                        if(!_loc12_)
                                                                                                                                                                                                                        {
                                                                                                                                                                                                                           addr905:
                                                                                                                                                                                                                           mc.id = pos;
                                                                                                                                                                                                                           this.q.toggleMC(mc,"stop");
                                                                                                                                                                                                                           if(externalmc2)
                                                                                                                                                                                                                           {
                                                                                                                                                                                                                              mc.addChild(externalmc2);
                                                                                                                                                                                                                              externalmc2.x = externalmc2.p.x;
                                                                                                                                                                                                                              if(!_loc12_)
                                                                                                                                                                                                                              {
                                                                                                                                                                                                                                 externalmc2.y = externalmc2.p.y;
                                                                                                                                                                                                                                 addr941:
                                                                                                                                                                                                                                 mc.a = externalmc2;
                                                                                                                                                                                                                                 if(_loc11_)
                                                                                                                                                                                                                                 {
                                                                                                                                                                                                                                    trace("mcnum: " + mc.numChildren);
                                                                                                                                                                                                                                    if(!_loc12_)
                                                                                                                                                                                                                                    {
                                                                                                                                                                                                                                       addr957:
                                                                                                                                                                                                                                       trace(pos);
                                                                                                                                                                                                                                       if(!_loc12_)
                                                                                                                                                                                                                                       {
                                                                                                                                                                                                                                          mc.team = t;
                                                                                                                                                                                                                                          addr968:
                                                                                                                                                                                                                                          ppos.x += xadd;
                                                                                                                                                                                                                                          mc.ppos = ppos;
                                                                                                                                                                                                                                          mc.pposinit = new Point(ppos.x,ppos.y);
                                                                                                                                                                                                                                          if(!_loc12_)
                                                                                                                                                                                                                                          {
                                                                                                                                                                                                                                             §§push(e);
                                                                                                                                                                                                                                             if(!_loc12_)
                                                                                                                                                                                                                                             {
                                                                                                                                                                                                                                                if(!§§pop())
                                                                                                                                                                                                                                                {
                                                                                                                                                                                                                                                   addr1000:
                                                                                                                                                                                                                                                   mc.ppos.x += 800 * this.group;
                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                addr1017:
                                                                                                                                                                                                                                                §§push(Boolean(e));
                                                                                                                                                                                                                                                if(Boolean(e))
                                                                                                                                                                                                                                                {
                                                                                                                                                                                                                                                   if(_loc11_)
                                                                                                                                                                                                                                                   {
                                                                                                                                                                                                                                                      §§pop();
                                                                                                                                                                                                                                                      if(!_loc12_)
                                                                                                                                                                                                                                                      {
                                                                                                                                                                                                                                                         addr1024:
                                                                                                                                                                                                                                                         §§push(i);
                                                                                                                                                                                                                                                         §§push(n);
                                                                                                                                                                                                                                                         if(_loc11_)
                                                                                                                                                                                                                                                         {
                                                                                                                                                                                                                                                            addr1033:
                                                                                                                                                                                                                                                            if(§§pop() == §§pop() - 1)
                                                                                                                                                                                                                                                            {
                                                                                                                                                                                                                                                               addr1034:
                                                                                                                                                                                                                                                               root.boss = mc;
                                                                                                                                                                                                                                                               if(_loc11_)
                                                                                                                                                                                                                                                               {
                                                                                                                                                                                                                                                                  addr1041:
                                                                                                                                                                                                                                                                  hp = int(entity[2]);
                                                                                                                                                                                                                                                                  if(!_loc12_)
                                                                                                                                                                                                                                                                  {
                                                                                                                                                                                                                                                                     addr1052:
                                                                                                                                                                                                                                                                     mc.hp = hp;
                                                                                                                                                                                                                                                                     maxhp = int(entity[3]);
                                                                                                                                                                                                                                                                     mc.maxhp = maxhp;
                                                                                                                                                                                                                                                                     addr1073:
                                                                                                                                                                                                                                                                     if(!e)
                                                                                                                                                                                                                                                                     {
                                                                                                                                                                                                                                                                        mp = uint(entity[4]);
                                                                                                                                                                                                                                                                        §§goto(addr1083);
                                                                                                                                                                                                                                                                     }
                                                                                                                                                                                                                                                                     §§goto(addr1104);
                                                                                                                                                                                                                                                                  }
                                                                                                                                                                                                                                                                  §§goto(addr1129);
                                                                                                                                                                                                                                                               }
                                                                                                                                                                                                                                                               §§goto(addr1236);
                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                            §§goto(addr1041);
                                                                                                                                                                                                                                                         }
                                                                                                                                                                                                                                                         §§goto(addr1149);
                                                                                                                                                                                                                                                      }
                                                                                                                                                                                                                                                      §§goto(addr1203);
                                                                                                                                                                                                                                                   }
                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                §§goto(addr1033);
                                                                                                                                                                                                                                             }
                                                                                                                                                                                                                                             §§goto(addr1073);
                                                                                                                                                                                                                                          }
                                                                                                                                                                                                                                          §§goto(addr1212);
                                                                                                                                                                                                                                       }
                                                                                                                                                                                                                                       §§goto(addr1187);
                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                    §§goto(addr1034);
                                                                                                                                                                                                                                 }
                                                                                                                                                                                                                                 §§goto(addr1052);
                                                                                                                                                                                                                              }
                                                                                                                                                                                                                              §§goto(addr1000);
                                                                                                                                                                                                                           }
                                                                                                                                                                                                                           §§goto(addr957);
                                                                                                                                                                                                                           addr790:
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        §§goto(addr1112);
                                                                                                                                                                                                                     }
                                                                                                                                                                                                                     §§goto(addr905);
                                                                                                                                                                                                                  }
                                                                                                                                                                                                                  §§goto(addr790);
                                                                                                                                                                                                               }
                                                                                                                                                                                                               §§goto(addr1152);
                                                                                                                                                                                                            }
                                                                                                                                                                                                            §§goto(addr779);
                                                                                                                                                                                                         }
                                                                                                                                                                                                         §§goto(addr1128);
                                                                                                                                                                                                      }
                                                                                                                                                                                                      §§goto(addr1187);
                                                                                                                                                                                                   }
                                                                                                                                                                                                   else
                                                                                                                                                                                                   {
                                                                                                                                                                                                      addr892:
                                                                                                                                                                                                      §§push(2);
                                                                                                                                                                                                      if(!_loc12_)
                                                                                                                                                                                                      {
                                                                                                                                                                                                         if(§§pop() == §§pop())
                                                                                                                                                                                                         {
                                                                                                                                                                                                            mc.scaleX = -1;
                                                                                                                                                                                                         }
                                                                                                                                                                                                         else
                                                                                                                                                                                                         {
                                                                                                                                                                                                            mc.scaleX = 1;
                                                                                                                                                                                                         }
                                                                                                                                                                                                         §§goto(addr905);
                                                                                                                                                                                                      }
                                                                                                                                                                                                   }
                                                                                                                                                                                                   §§goto(addr1033);
                                                                                                                                                                                                }
                                                                                                                                                                                                §§goto(addr691);
                                                                                                                                                                                             }
                                                                                                                                                                                          }
                                                                                                                                                                                          §§goto(addr1033);
                                                                                                                                                                                       }
                                                                                                                                                                                       §§goto(addr1149);
                                                                                                                                                                                    }
                                                                                                                                                                                    §§goto(addr892);
                                                                                                                                                                                 }
                                                                                                                                                                                 §§goto(addr1108);
                                                                                                                                                                              }
                                                                                                                                                                              §§goto(addr680);
                                                                                                                                                                           }
                                                                                                                                                                           §§goto(addr1017);
                                                                                                                                                                        }
                                                                                                                                                                        §§goto(addr1138);
                                                                                                                                                                     }
                                                                                                                                                                     §§goto(addr1187);
                                                                                                                                                                  }
                                                                                                                                                                  §§goto(addr636);
                                                                                                                                                               }
                                                                                                                                                               §§goto(addr1041);
                                                                                                                                                            }
                                                                                                                                                            §§goto(addr621);
                                                                                                                                                         }
                                                                                                                                                         §§goto(addr739);
                                                                                                                                                      }
                                                                                                                                                      §§goto(addr636);
                                                                                                                                                   }
                                                                                                                                                   §§goto(addr1017);
                                                                                                                                                }
                                                                                                                                                §§goto(addr636);
                                                                                                                                             }
                                                                                                                                             §§goto(addr543);
                                                                                                                                          }
                                                                                                                                       }
                                                                                                                                       §§goto(addr1017);
                                                                                                                                    }
                                                                                                                                    §§goto(addr584);
                                                                                                                                 }
                                                                                                                                 else
                                                                                                                                 {
                                                                                                                                    trace("set pos " + poses);
                                                                                                                                    ppos = new Point(poses[pos].x,poses[pos].y);
                                                                                                                                    addr814:
                                                                                                                                    trace("pos set");
                                                                                                                                    if(!_loc12_)
                                                                                                                                    {
                                                                                                                                       §§push(t);
                                                                                                                                       if(_loc11_)
                                                                                                                                       {
                                                                                                                                          §§push(2);
                                                                                                                                          if(_loc11_)
                                                                                                                                          {
                                                                                                                                             if(§§pop() == §§pop())
                                                                                                                                             {
                                                                                                                                                ppos.x = 800 - ppos.x;
                                                                                                                                                if(_loc11_)
                                                                                                                                                {
                                                                                                                                                   addr840:
                                                                                                                                                   mc = this.pmcs[ename + "_mc"];
                                                                                                                                                   trace("MC got: " + ename + ":" + mc);
                                                                                                                                                   mc.group = this.group;
                                                                                                                                                   mc.buffs = Vector.<String>(entity[6].split(","));
                                                                                                                                                   if(!_loc12_)
                                                                                                                                                   {
                                                                                                                                                      addr883:
                                                                                                                                                      trace(mc);
                                                                                                                                                      §§push(t);
                                                                                                                                                      if(_loc11_)
                                                                                                                                                      {
                                                                                                                                                         §§goto(addr892);
                                                                                                                                                      }
                                                                                                                                                      §§goto(addr1149);
                                                                                                                                                   }
                                                                                                                                                   §§goto(addr1024);
                                                                                                                                                }
                                                                                                                                                §§goto(addr941);
                                                                                                                                             }
                                                                                                                                             §§goto(addr840);
                                                                                                                                          }
                                                                                                                                          §§goto(addr1033);
                                                                                                                                       }
                                                                                                                                       §§goto(addr892);
                                                                                                                                    }
                                                                                                                                 }
                                                                                                                                 §§goto(addr1187);
                                                                                                                              }
                                                                                                                              §§goto(addr814);
                                                                                                                           }
                                                                                                                           §§goto(addr1052);
                                                                                                                        }
                                                                                                                        §§goto(addr1236);
                                                                                                                     }
                                                                                                                     §§goto(addr514);
                                                                                                                  }
                                                                                                                  §§goto(addr1212);
                                                                                                               }
                                                                                                               §§goto(addr464);
                                                                                                            }
                                                                                                            §§goto(addr1128);
                                                                                                         }
                                                                                                         §§goto(addr528);
                                                                                                      }
                                                                                                      §§goto(addr691);
                                                                                                   }
                                                                                                   §§goto(addr536);
                                                                                                }
                                                                                                §§goto(addr448);
                                                                                             }
                                                                                             §§goto(addr453);
                                                                                          }
                                                                                          §§goto(addr1120);
                                                                                       }
                                                                                       §§goto(addr1083);
                                                                                    }
                                                                                    §§goto(addr883);
                                                                                 }
                                                                                 §§goto(addr584);
                                                                              }
                                                                              §§goto(addr382);
                                                                           }
                                                                           §§goto(addr536);
                                                                        }
                                                                        §§goto(addr382);
                                                                     }
                                                                     §§goto(addr968);
                                                                  }
                                                                  §§goto(addr1254);
                                                               }
                                                               mc = null;
                                                               this.charn = this.pChars.length;
                                                               if(_loc11_)
                                                               {
                                                                  addr1277:
                                                                  trace(this.loadmc);
                                                                  addr1281:
                                                                  clearload();
                                                                  if(!_loc12_)
                                                                  {
                                                                     addr1288:
                                                                     gotoAndStop(5);
                                                                     if(!_loc12_)
                                                                     {
                                                                        trace("Spawn handler");
                                                                        if(!_loc12_)
                                                                        {
                                                                           addr1299:
                                                                           §§push(Boolean(sendback));
                                                                           §§push(Boolean(sendback));
                                                                           if(!_loc12_)
                                                                           {
                                                                              addr1306:
                                                                              if(§§pop())
                                                                              {
                                                                                 if(!_loc12_)
                                                                                 {
                                                                                    §§pop();
                                                                                    if(!_loc12_)
                                                                                    {
                                                                                       addr1318:
                                                                                       if(this.pChar.key == sendbackn)
                                                                                       {
                                                                                          if(_loc11_)
                                                                                          {
                                                                                             this.getC().send("Spawned");
                                                                                             addr1325:
                                                                                             root.battle.addMessageHandler("Timer",this.timerhandler);
                                                                                             root.battle.addMessageHandler("TimerOff",function(param1:Message):void
                                                                                             {
                                                                                                var _loc2_:Boolean = true;
                                                                                                var _loc3_:Boolean = false;
                                                                                                timermc.visible = false;
                                                                                                if(!_loc3_)
                                                                                                {
                                                                                                   leavebtn.visible = false;
                                                                                                }
                                                                                             });
                                                                                             if(!_loc12_)
                                                                                             {
                                                                                                root.battle.addMessageHandler("BattleAction",this.battleAction);
                                                                                                §§goto(addr1345);
                                                                                             }
                                                                                             §§goto(addr1375);
                                                                                          }
                                                                                          addr1345:
                                                                                          addEventListener(Event.ENTER_FRAME,this.battleloop);
                                                                                          if(_loc11_)
                                                                                          {
                                                                                             addr1353:
                                                                                             if(this.pChar.Level < 2)
                                                                                             {
                                                                                                this.tip(17);
                                                                                                addr1361:
                                                                                                if(!e)
                                                                                                {
                                                                                                   if(this.RoomData["Map"] == "Bandit Assault")
                                                                                                   {
                                                                                                      addr1370:
                                                                                                      this.banditAssault();
                                                                                                      if(!_loc12_)
                                                                                                      {
                                                                                                         addr1375:
                                                                                                         if(this.RoomData["Map"] == "Manhunter Hideout")
                                                                                                         {
                                                                                                            this.manhunterHideout();
                                                                                                            addr1383:
                                                                                                            §§push(Boolean(e));
                                                                                                            if(_loc11_)
                                                                                                            {
                                                                                                               addr1389:
                                                                                                               if(§§pop())
                                                                                                               {
                                                                                                                  §§pop();
                                                                                                                  §§push(this.gameMC === null);
                                                                                                                  if(_loc11_)
                                                                                                                  {
                                                                                                                     addr1397:
                                                                                                                     §§push(!§§pop());
                                                                                                                  }
                                                                                                               }
                                                                                                            }
                                                                                                         }
                                                                                                         §§goto(addr1383);
                                                                                                      }
                                                                                                      §§goto(addr1433);
                                                                                                   }
                                                                                                   §§goto(addr1375);
                                                                                                }
                                                                                                §§goto(addr1383);
                                                                                             }
                                                                                             §§goto(addr1361);
                                                                                          }
                                                                                          §§goto(addr1433);
                                                                                       }
                                                                                       §§goto(addr1361);
                                                                                    }
                                                                                    §§goto(addr1353);
                                                                                 }
                                                                                 if(§§pop())
                                                                                 {
                                                                                    if(!_loc12_)
                                                                                    {
                                                                                       root.gameMC.LOADER.unloadAndStop(true);
                                                                                       root.q.toggleMC(this.gameMC,"stop");
                                                                                       if(_loc11_)
                                                                                       {
                                                                                          this.gameMC.LOADER = null;
                                                                                       }
                                                                                       §§goto(addr1433);
                                                                                    }
                                                                                    this.gameMC = null;
                                                                                    if(!_loc11_)
                                                                                    {
                                                                                    }
                                                                                    §§goto(addr1433);
                                                                                 }
                                                                                 this.collectGarbage();
                                                                                 §§goto(addr1433);
                                                                              }
                                                                              §§goto(addr1318);
                                                                           }
                                                                           §§goto(addr1389);
                                                                        }
                                                                        §§goto(addr1361);
                                                                     }
                                                                     §§goto(addr1353);
                                                                  }
                                                                  §§goto(addr1325);
                                                               }
                                                               §§goto(addr1375);
                                                               addr221:
                                                            }
                                                            else
                                                            {
                                                               poses = this.soloEPos;
                                                               if(_loc11_)
                                                               {
                                                                  §§goto(addr221);
                                                               }
                                                            }
                                                            §§goto(addr1345);
                                                         }
                                                         §§goto(addr1375);
                                                      }
                                                      else if(this.RoomData.Players == 1)
                                                      {
                                                         poses = Vector.<Point>([this.soloPosition]);
                                                         addr238:
                                                         §§goto(addr281);
                                                      }
                                                      else
                                                      {
                                                         §§push(this.RoomData.Players == 4);
                                                         §§push(this.RoomData.Players == 4);
                                                         if(_loc11_)
                                                         {
                                                            if(!§§pop())
                                                            {
                                                               §§pop();
                                                               if(_loc11_)
                                                               {
                                                                  addr253:
                                                                  §§push(this.RoomData.Players == 8);
                                                                  if(!_loc12_)
                                                                  {
                                                                     addr261:
                                                                     if(§§pop())
                                                                     {
                                                                        if(_loc11_)
                                                                        {
                                                                           poses = this.BattlePositions;
                                                                           if(!_loc12_)
                                                                           {
                                                                              §§goto(addr281);
                                                                           }
                                                                           §§goto(addr1281);
                                                                        }
                                                                        §§goto(addr1288);
                                                                     }
                                                                     else
                                                                     {
                                                                        poses = this.BattlePositions12;
                                                                        if(!_loc12_)
                                                                        {
                                                                           §§goto(addr281);
                                                                        }
                                                                        §§goto(addr1277);
                                                                     }
                                                                  }
                                                                  §§goto(addr1397);
                                                               }
                                                               §§goto(addr1277);
                                                            }
                                                            §§goto(addr261);
                                                         }
                                                      }
                                                      §§goto(addr1306);
                                                   }
                                                   §§goto(addr190);
                                                }
                                                §§goto(addr1318);
                                             }
                                             addr1433:
                                             return;
                                          }
                                          §§goto(addr253);
                                       }
                                       §§goto(addr238);
                                    }
                                    §§goto(addr1370);
                                 }
                                 §§goto(addr253);
                              }
                              §§goto(addr129);
                           }
                           §§goto(addr1277);
                        }
                        §§goto(addr1299);
                     }
                     §§goto(addr1383);
                  }
                  §§goto(addr190);
               }
               §§goto(addr1318);
            }
            §§goto(addr177);
         }
         §§goto(addr190);
      }
      
      public function manhunterHideout() : void
      {
         var _loc7_:Boolean = true;
         var _loc8_:Boolean = false;
         var _loc1_:MovieClip = new GuardRun2() as MovieClip;
         var _loc2_:AnimatedBitmapData = new AnimatedBitmapData(_loc1_);
         if(_loc7_)
         {
            _loc1_.stop();
         }
         _loc1_ = new GuardIdle2() as MovieClip;
         var _loc3_:AnimatedBitmapData = new AnimatedBitmapData(_loc1_);
         if(!_loc8_)
         {
            _loc1_.stop();
         }
         _loc1_ = null;
         var _loc4_:MovieClip;
         (_loc4_ = this.scenemc = new WinterGuardRunning() as MovieClip).b1 = new AnimatedBitmap(_loc2_,Event.ENTER_FRAME,60);
         _loc4_.b2 = new AnimatedBitmap(_loc3_,Event.ENTER_FRAME,60);
         addChildAt(_loc4_,getChildIndex(this.pmcs[this.pChar.key + "_mc"]) + 1);
         _loc4_.x = 501.1;
         _loc4_.y = 467;
         if(_loc7_)
         {
            _loc4_.id = 1;
         }
         _loc4_.Start();
         var _loc5_:MovieClip;
         (_loc5_ = root.scenemc2 = new WinterGuardRunning() as MovieClip).b1 = new AnimatedBitmap(_loc2_,Event.ENTER_FRAME,60);
         _loc5_.b2 = new AnimatedBitmap(_loc3_,Event.ENTER_FRAME,60);
         if(_loc7_)
         {
            addChildAt(_loc5_,getChildIndex(this.l0) + 1);
            _loc5_.x = 507.45;
         }
         _loc5_.y = 322.4;
         if(!_loc8_)
         {
            _loc5_.id = 2;
            if(!_loc8_)
            {
               addr173:
               _loc5_.Start();
            }
            return;
         }
         §§goto(addr173);
      }
      
      public function banditAssault() : void
      {
         var _loc7_:Boolean = true;
         var _loc8_:Boolean = false;
         if(!_loc8_)
         {
            trace("banditASsault");
         }
         var _loc1_:MovieClip = new GuardRun() as MovieClip;
         var _loc2_:AnimatedBitmapData = new AnimatedBitmapData(_loc1_);
         if(!_loc8_)
         {
            _loc1_.stop();
         }
         _loc1_ = new GuardIdle() as MovieClip;
         var _loc3_:AnimatedBitmapData = new AnimatedBitmapData(_loc1_);
         if(_loc7_)
         {
            _loc1_.stop();
         }
         _loc1_ = null;
         var _loc4_:MovieClip;
         (_loc4_ = this.scenemc = new GuardRunning() as MovieClip).b1 = new AnimatedBitmap(_loc2_,Event.ENTER_FRAME,60);
         if(_loc7_)
         {
            _loc4_.b2 = new AnimatedBitmap(_loc3_,Event.ENTER_FRAME,60);
            if(!_loc8_)
            {
               addChildAt(_loc4_,getChildIndex(this.pmcs[this.pChar.key + "_mc"]) + 1);
               _loc4_.x = 501.1;
               _loc4_.y = 467;
            }
            _loc4_.id = 1;
            _loc4_.Start();
         }
         var _loc5_:MovieClip;
         (_loc5_ = root.scenemc2 = new GuardRunning() as MovieClip).b1 = new AnimatedBitmap(_loc2_,Event.ENTER_FRAME,60);
         if(_loc7_)
         {
            _loc5_.b2 = new AnimatedBitmap(_loc3_,Event.ENTER_FRAME,60);
            addChildAt(_loc5_,getChildIndex(this.l0) + 1);
            _loc5_.x = 507.45;
            _loc5_.y = 322.4;
            _loc5_.id = 2;
         }
         _loc5_.Start();
      }
      
      public function joinedinstance(param1:Connection) : void
      {
         var _loc2_:Boolean = true;
         var _loc3_:Boolean = false;
         if(!_loc3_)
         {
            this.battle = param1;
            if(_loc2_)
            {
               this.addHandlers(param1,"Battle",true);
               if(!_loc3_)
               {
                  this.initmoney = this.pChar.Money;
                  addr36:
                  if(!_loc3_)
                  {
                     MovieClip(root).q.mapLoading = this.RoomData.Map;
                     if(!_loc3_)
                     {
                        addr61:
                        MovieClip(root).loado = MovieClip(root).loadbattle;
                     }
                  }
               }
               return;
            }
            §§goto(addr61);
         }
         §§goto(addr36);
      }
      
      public function joinedbattle(param1:Connection) : void
      {
         var _loc3_:Boolean = false;
         var _loc4_:Boolean = true;
         if(!_loc3_)
         {
            var battleDisconnected:* = undefined;
            var b:Connection = param1;
            if(_loc4_)
            {
               battleDisconnected = function():void
               {
                  getC().send("Save",false);
               };
               b.addDisconnectHandler(battleDisconnected);
               this.replay = false;
               trace(this.pChar.Unlocks.Maps.New);
               if(this.pvpbtn)
               {
                  if(_loc4_)
                  {
                     this.pvpbtn.visible = false;
                  }
                  §§goto(addr178);
               }
               var id:int = MovieClip(root).q.arrayContainsID(MovieClip(root).pChar.Unlocks.Maps.New,this.RoomData.Map);
               if(_loc4_)
               {
                  if(id >= 0)
                  {
                     this.pChar.Unlocks.Maps.New.splice(id,1);
                     if(_loc4_)
                     {
                        this.pChar.Unlocks.Maps.Old.push(this.RoomData.Map);
                        addr113:
                        trace("new map id: " + id);
                        if(_loc4_)
                        {
                           this.initmoney = this.pChar.Money;
                           if(!_loc3_)
                           {
                              addr128:
                              this.battle = b;
                              if(this.pvpcreate)
                              {
                                 if(_loc4_)
                                 {
                                    this.pvpcreate.close();
                                    if(_loc4_)
                                    {
                                       §§goto(addr142);
                                    }
                                 }
                                 §§goto(addr203);
                              }
                              addr142:
                              this.pvpcreate = null;
                              this.lobbymc = new Lobby() as MovieClip;
                              if(_loc4_)
                              {
                                 this.lobbymc.room = this.RoomData;
                                 this.lobbymc.map = MovieClip(root).RoomData.Map;
                                 this.lobbymc.message = this.RoomData.Message;
                              }
                              this.lobbymc.creator = this.RoomData.Creator;
                              addr178:
                              this.lobbymc.x = 400;
                              this.lobbymc.y = 300;
                              §§goto(addr186);
                           }
                           §§goto(addr210);
                        }
                     }
                     addr186:
                     addChildAt(this.lobbymc,getChildIndex(this.mouse));
                     if(_loc4_)
                     {
                        addr203:
                        this.q.fadeIn(this.lobbymc);
                        if(_loc4_)
                        {
                           addr210:
                           this.q.stoploading();
                        }
                        §§goto(addr213);
                     }
                     addr213:
                     this.addHandlers(b,"Battle");
                     b.addMessageHandler("HC",this.healthchain);
                     return;
                  }
                  §§goto(addr113);
               }
               §§goto(addr128);
            }
            §§goto(addr178);
         }
         §§goto(addr210);
      }
      
      public function generateHUD(param1:String = "City") : void
      {
         var _loc2_:Boolean = false;
         var _loc3_:Boolean = true;
         this.leavebtn.visible = false;
         if(param1 == "Battle")
         {
            this.mapbtn.visible = false;
            §§goto(addr34);
         }
         else
         {
            this.mapbtn.visible = true;
            if(_loc3_)
            {
               addr34:
               §§push(!this.minebtn);
               if(_loc3_)
               {
                  §§push(§§pop());
                  if(!_loc2_)
                  {
                     if(§§pop())
                     {
                        if(!_loc2_)
                        {
                           §§goto(addr47);
                        }
                     }
                  }
                  §§goto(addr62);
               }
               addr47:
               §§pop();
               §§push("Mines" in this.RoomData);
               if(!_loc2_)
               {
                  addr62:
                  if(§§pop())
                  {
                     if(!_loc2_)
                     {
                        §§pop();
                        §§push(Boolean(this.RoomData.Mines));
                     }
                  }
               }
               if(§§pop())
               {
                  this.minebtn = new MineBtn() as SimpleButton;
                  if(!_loc2_)
                  {
                     this.minebtn.x = this.minep.x;
                  }
                  this.minebtn.y = this.minep.y;
                  addChildAt(this.minebtn,getChildIndex(this.mouse));
                  if(!_loc2_)
                  {
                     this.changeButtonText(this.minebtn);
                  }
                  this.minebtn.addEventListener(MouseEvent.CLICK,this.mineclick);
               }
               §§goto(addr121);
            }
         }
         addr121:
      }
      
      public function HUDtoFront() : void
      {
         var _loc1_:Boolean = false;
         var _loc2_:Boolean = true;
         if(this.mapbtn)
         {
            addChild(this.mapbtn);
            if(_loc2_)
            {
               addr26:
               if(this.chatbg)
               {
                  if(_loc2_)
                  {
                     addChild(this.chatbg);
                     addr36:
                     if(this.chatinput)
                     {
                        addChild(this.chatinput);
                     }
                     if(this.chattxt)
                     {
                        if(!_loc1_)
                        {
                           addChild(this.chattxt);
                           addr52:
                           if(this.chatScroll)
                           {
                              if(!_loc1_)
                              {
                                 addChild(this.chatScroll);
                                 if(!_loc1_)
                                 {
                                    addr71:
                                    if(this.guildtxt)
                                    {
                                       if(!_loc1_)
                                       {
                                          addChild(this.guildtxt);
                                          if(!_loc2_)
                                          {
                                          }
                                          addr111:
                                          addChild(this.leavebtn);
                                          if(!_loc1_)
                                          {
                                             addr117:
                                             if(this.timermc)
                                             {
                                                addChild(this.timermc);
                                             }
                                             if(this.npctalk)
                                             {
                                                if(!_loc2_)
                                                {
                                                }
                                             }
                                             §§goto(addr133);
                                          }
                                          addChild(this.npctalk);
                                          §§goto(addr133);
                                       }
                                    }
                                    if(this.guildScroll)
                                    {
                                       addr86:
                                       addChild(this.guildScroll);
                                       if(_loc1_)
                                       {
                                       }
                                       §§goto(addr133);
                                    }
                                    if(this.chatmin)
                                    {
                                       addChild(this.chatmin);
                                       addr99:
                                       if(this.leavebtn)
                                       {
                                          if(!_loc1_)
                                          {
                                             §§goto(addr111);
                                          }
                                          §§goto(addr133);
                                       }
                                       §§goto(addr117);
                                    }
                                    §§goto(addr99);
                                 }
                                 §§goto(addr86);
                              }
                              addr133:
                              return;
                           }
                           §§goto(addr71);
                        }
                        §§goto(addr99);
                     }
                     §§goto(addr52);
                  }
                  §§goto(addr117);
               }
               §§goto(addr36);
            }
            §§goto(addr111);
         }
         §§goto(addr26);
      }
      
      public function playerRemove(param1:String) : void
      {
         var _loc5_:Boolean = true;
         var _loc6_:Boolean = false;
         var _loc4_:MovieClip = null;
         var _loc2_:int = this.pChars.length;
         var _loc3_:int = 0;
         if(_loc5_)
         {
            while(true)
            {
               if(_loc3_ < _loc2_)
               {
                  if((_loc4_ = this.pChars[_loc3_]).pname == param1)
                  {
                     if(_loc6_)
                     {
                        break;
                     }
                     this.pChars.splice(_loc3_,1);
                     if(_loc5_)
                     {
                        this.charn = this.pChars.length;
                        if(!_loc6_)
                        {
                           break;
                        }
                     }
                  }
                  else
                  {
                     _loc3_++;
                  }
                  continue;
               }
            }
            return;
         }
      }
      
      public function cleargame(param1:Boolean = false, param2:Boolean = true) : void
      {
         var _loc7_:Boolean = false;
         var _loc8_:Boolean = true;
         var _loc5_:MovieClip = null;
         if(!_loc7_)
         {
            removeEventListener(Event.ENTER_FRAME,this.gameloop);
            if(_loc8_)
            {
               removeEventListener(Event.ENTER_FRAME,this.battleloop);
               this.chatinput.removeEventListener(KeyboardEvent.KEY_DOWN,this.sendMsg);
               this.mapinput.removeEventListener(KeyboardEvent.KEY_DOWN,this.sendMsg);
               stage.removeEventListener(KeyboardEvent.KEY_DOWN,this.enterChat);
               if(!_loc7_)
               {
                  removeEventListener(MouseEvent.CLICK,this.openstuff);
                  this.closemap(param1);
                  this.q.remove(root.maphelp,"maphelp");
                  addr74:
                  §§push(Boolean(this.connection));
                  §§push(Boolean(this.connection));
                  if(_loc8_)
                  {
                     if(§§pop())
                     {
                        if(_loc8_)
                        {
                           §§pop();
                           §§push(param1);
                           if(!_loc7_)
                           {
                              addr91:
                              if(§§pop())
                              {
                                 this.connection.disconnect();
                                 this.connection = null;
                              }
                              §§push(Boolean(this.battle));
                              §§push(Boolean(this.battle));
                              if(!_loc7_)
                              {
                                 if(§§pop())
                                 {
                                    if(_loc8_)
                                    {
                                       §§pop();
                                       if(_loc8_)
                                       {
                                          §§push(Boolean(param1));
                                          if(_loc8_)
                                          {
                                             addr116:
                                             if(§§pop())
                                             {
                                                addr117:
                                                this.battle.disconnect();
                                                addr120:
                                                this.battle = null;
                                                if(!_loc8_)
                                                {
                                                }
                                                addr178:
                                                this.q.remove(this.settingsmc);
                                                this.settingsmc = null;
                                                try
                                                {
                                                   addr186:
                                                   this.removePlayers(true,param2);
                                                }
                                                catch(e:Error)
                                                {
                                                }
                                                trace("Removed players");
                                                this.q.remove(this.ol);
                                                if(_loc8_)
                                                {
                                                   this.ol = null;
                                                   this.q.remove(this.rarerockab);
                                                   if(_loc8_)
                                                   {
                                                      root.selectedao = null;
                                                      this.cooldowns = {};
                                                      if(_loc8_)
                                                      {
                                                         if(this.l1mb)
                                                         {
                                                            if(this.l1mb is Bitmap)
                                                            {
                                                               if(!_loc7_)
                                                               {
                                                                  this.l1mb.bitmapData.dispose();
                                                                  if(_loc8_)
                                                                  {
                                                                     addr266:
                                                                     this.q.remove(this.l1mb);
                                                                     if(_loc8_)
                                                                     {
                                                                        this.l1mb = null;
                                                                        addr277:
                                                                        if(this.l1m)
                                                                        {
                                                                           if(this.l1m is Bitmap)
                                                                           {
                                                                              if(_loc8_)
                                                                              {
                                                                                 this.l1m.bitmapData.dispose();
                                                                                 if(!_loc7_)
                                                                                 {
                                                                                    addr307:
                                                                                    this.q.remove(this.l1m);
                                                                                    this.l1m = null;
                                                                                    if(this.l0)
                                                                                    {
                                                                                       addr318:
                                                                                       §§push(this.l0 is Bitmap);
                                                                                       if(!_loc7_)
                                                                                       {
                                                                                          if(§§pop())
                                                                                          {
                                                                                             this.l0.bitmapData.dispose();
                                                                                             if(_loc8_)
                                                                                             {
                                                                                                addr350:
                                                                                                this.q.remove(this.l0);
                                                                                                this.l0 = null;
                                                                                                if(!_loc7_)
                                                                                                {
                                                                                                   addr361:
                                                                                                   if(this.l0b)
                                                                                                   {
                                                                                                      if(this.l0b is Bitmap)
                                                                                                      {
                                                                                                         this.l0b.bitmapData.dispose();
                                                                                                      }
                                                                                                      else if(this.l0b is AnimatedBitmap)
                                                                                                      {
                                                                                                         this.l0b._destroyData = true;
                                                                                                         this.l0b.destroy();
                                                                                                      }
                                                                                                      this.q.remove(this.l0b);
                                                                                                      this.l0b = null;
                                                                                                      if(_loc8_)
                                                                                                      {
                                                                                                         addr396:
                                                                                                         if(this.l1)
                                                                                                         {
                                                                                                            §§push(this.l1 is Bitmap);
                                                                                                            if(_loc8_)
                                                                                                            {
                                                                                                               if(§§pop())
                                                                                                               {
                                                                                                                  this.l1.bitmapData.dispose();
                                                                                                                  if(_loc8_)
                                                                                                                  {
                                                                                                                     addr437:
                                                                                                                     this.q.remove(this.l1);
                                                                                                                     if(_loc8_)
                                                                                                                     {
                                                                                                                        this.l1 = null;
                                                                                                                        addr448:
                                                                                                                        if(this.l2)
                                                                                                                        {
                                                                                                                           if(!_loc7_)
                                                                                                                           {
                                                                                                                              §§push(this.l2 is Bitmap);
                                                                                                                              if(!_loc7_)
                                                                                                                              {
                                                                                                                                 if(§§pop())
                                                                                                                                 {
                                                                                                                                    if(_loc8_)
                                                                                                                                    {
                                                                                                                                       this.l2.bitmapData.dispose();
                                                                                                                                    }
                                                                                                                                 }
                                                                                                                                 else if(this.l2 is AnimatedBitmap)
                                                                                                                                 {
                                                                                                                                    if(_loc8_)
                                                                                                                                    {
                                                                                                                                       this.l2._destroyData = true;
                                                                                                                                       if(_loc8_)
                                                                                                                                       {
                                                                                                                                          addr482:
                                                                                                                                          this.l2.destroy();
                                                                                                                                          addr485:
                                                                                                                                          this.q.remove(this.l2);
                                                                                                                                          this.l2 = null;
                                                                                                                                          if(this.l3)
                                                                                                                                          {
                                                                                                                                             if(_loc8_)
                                                                                                                                             {
                                                                                                                                                addr503:
                                                                                                                                                if(this.l3 is Bitmap)
                                                                                                                                                {
                                                                                                                                                   this.l3.bitmapData.dispose();
                                                                                                                                                }
                                                                                                                                                else if(this.l3 is AnimatedBitmap)
                                                                                                                                                {
                                                                                                                                                   this.l3._destroyData = true;
                                                                                                                                                   this.l3.destroy();
                                                                                                                                                   if(!_loc7_)
                                                                                                                                                   {
                                                                                                                                                      addr524:
                                                                                                                                                      this.q.remove(this.l3);
                                                                                                                                                      this.l3 = null;
                                                                                                                                                      if(this.l4)
                                                                                                                                                      {
                                                                                                                                                         if(this.l4 is Bitmap)
                                                                                                                                                         {
                                                                                                                                                            if(!_loc7_)
                                                                                                                                                            {
                                                                                                                                                               this.l4.bitmapData.dispose();
                                                                                                                                                               if(_loc8_)
                                                                                                                                                               {
                                                                                                                                                                  addr568:
                                                                                                                                                                  this.q.remove(this.l4);
                                                                                                                                                                  if(!_loc7_)
                                                                                                                                                                  {
                                                                                                                                                                     this.l4 = null;
                                                                                                                                                                     addr579:
                                                                                                                                                                     if(this.l5)
                                                                                                                                                                     {
                                                                                                                                                                        §§push(this.l5 is Bitmap);
                                                                                                                                                                        if(!_loc7_)
                                                                                                                                                                        {
                                                                                                                                                                           if(§§pop())
                                                                                                                                                                           {
                                                                                                                                                                              this.l5.bitmapData.dispose();
                                                                                                                                                                              addr615:
                                                                                                                                                                              this.q.remove(this.l5);
                                                                                                                                                                              this.l5 = null;
                                                                                                                                                                              if(_loc7_)
                                                                                                                                                                              {
                                                                                                                                                                              }
                                                                                                                                                                              this.bg.destroy();
                                                                                                                                                                              if(_loc8_)
                                                                                                                                                                              {
                                                                                                                                                                                 addr656:
                                                                                                                                                                                 this.q.remove(this.bg);
                                                                                                                                                                                 if(!_loc7_)
                                                                                                                                                                                 {
                                                                                                                                                                                    this.bg = null;
                                                                                                                                                                                    addr666:
                                                                                                                                                                                    this.q.remove(this.scenemc);
                                                                                                                                                                                    this.scenemc = null;
                                                                                                                                                                                    if(this.scenemc2)
                                                                                                                                                                                    {
                                                                                                                                                                                       addr677:
                                                                                                                                                                                       this.q.remove(this.scenemc2);
                                                                                                                                                                                    }
                                                                                                                                                                                    this.scenemc2 = null;
                                                                                                                                                                                    if(!_loc7_)
                                                                                                                                                                                    {
                                                                                                                                                                                       addr687:
                                                                                                                                                                                       if(this.npctalk)
                                                                                                                                                                                       {
                                                                                                                                                                                          addr690:
                                                                                                                                                                                          this.q.remove(this.npctalk);
                                                                                                                                                                                          if(!_loc7_)
                                                                                                                                                                                          {
                                                                                                                                                                                             this.npctalk = null;
                                                                                                                                                                                             if(!_loc7_)
                                                                                                                                                                                             {
                                                                                                                                                                                                addr703:
                                                                                                                                                                                                this.q.remove(this.pvpmc);
                                                                                                                                                                                                if(_loc8_)
                                                                                                                                                                                                {
                                                                                                                                                                                                   addr711:
                                                                                                                                                                                                   this.q.remove(this.pvpsizemc);
                                                                                                                                                                                                   this.q.remove(this.pvpcreate);
                                                                                                                                                                                                   if(this.minebtn)
                                                                                                                                                                                                   {
                                                                                                                                                                                                      if(!_loc7_)
                                                                                                                                                                                                      {
                                                                                                                                                                                                         this.minebtn.removeEventListener(MouseEvent.CLICK,this.mineclick);
                                                                                                                                                                                                         addr734:
                                                                                                                                                                                                         removeChild(this.minebtn);
                                                                                                                                                                                                         if(!_loc7_)
                                                                                                                                                                                                         {
                                                                                                                                                                                                            addr740:
                                                                                                                                                                                                            this.minebtn = null;
                                                                                                                                                                                                            if(!_loc7_)
                                                                                                                                                                                                            {
                                                                                                                                                                                                               addr746:
                                                                                                                                                                                                               this.removeAO();
                                                                                                                                                                                                               addr748:
                                                                                                                                                                                                               this.removeEnemyAO();
                                                                                                                                                                                                               addr750:
                                                                                                                                                                                                               if(this.turnarrow.stage !== null)
                                                                                                                                                                                                               {
                                                                                                                                                                                                                  this.turnarrow.stop();
                                                                                                                                                                                                                  addr758:
                                                                                                                                                                                                                  removeChild(this.turnarrow);
                                                                                                                                                                                                               }
                                                                                                                                                                                                               this.battlestate = 1;
                                                                                                                                                                                                               addr765:
                                                                                                                                                                                                               this.battlelist = new Vector.<String>();
                                                                                                                                                                                                               if(_loc8_)
                                                                                                                                                                                                               {
                                                                                                                                                                                                                  addr774:
                                                                                                                                                                                                                  this.battlepos1 = new Vector.<String>();
                                                                                                                                                                                                                  addr780:
                                                                                                                                                                                                                  this.battlepos2 = new Vector.<String>();
                                                                                                                                                                                                               }
                                                                                                                                                                                                               if(this.bubbledata)
                                                                                                                                                                                                               {
                                                                                                                                                                                                                  if(!_loc7_)
                                                                                                                                                                                                                  {
                                                                                                                                                                                                                     addr791:
                                                                                                                                                                                                                     this.bubbledata.dispose();
                                                                                                                                                                                                                     addr794:
                                                                                                                                                                                                                     this.bubbledata = null;
                                                                                                                                                                                                                  }
                                                                                                                                                                                                               }
                                                                                                                                                                                                               addr797:
                                                                                                                                                                                                               this.clearblends();
                                                                                                                                                                                                               var _loc3_:int = this.platforms.length;
                                                                                                                                                                                                               var _loc4_:int = 0;
                                                                                                                                                                                                               if(_loc8_)
                                                                                                                                                                                                               {
                                                                                                                                                                                                                  while(_loc4_ < _loc3_)
                                                                                                                                                                                                                  {
                                                                                                                                                                                                                     _loc5_ = this.platforms[_loc4_];
                                                                                                                                                                                                                     if(_loc8_)
                                                                                                                                                                                                                     {
                                                                                                                                                                                                                        this.q.remove(_loc5_);
                                                                                                                                                                                                                        if(!_loc7_)
                                                                                                                                                                                                                        {
                                                                                                                                                                                                                           _loc4_++;
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                     }
                                                                                                                                                                                                                  }
                                                                                                                                                                                                                  if(_loc8_)
                                                                                                                                                                                                                  {
                                                                                                                                                                                                                     this.platforms = null;
                                                                                                                                                                                                                     if(!_loc7_)
                                                                                                                                                                                                                     {
                                                                                                                                                                                                                        addr845:
                                                                                                                                                                                                                        this.collectGarbage();
                                                                                                                                                                                                                     }
                                                                                                                                                                                                                     return;
                                                                                                                                                                                                                  }
                                                                                                                                                                                                               }
                                                                                                                                                                                                               §§goto(addr845);
                                                                                                                                                                                                            }
                                                                                                                                                                                                         }
                                                                                                                                                                                                         §§goto(addr794);
                                                                                                                                                                                                      }
                                                                                                                                                                                                      §§goto(addr750);
                                                                                                                                                                                                   }
                                                                                                                                                                                                }
                                                                                                                                                                                                §§goto(addr748);
                                                                                                                                                                                             }
                                                                                                                                                                                             §§goto(addr746);
                                                                                                                                                                                          }
                                                                                                                                                                                       }
                                                                                                                                                                                       §§goto(addr703);
                                                                                                                                                                                    }
                                                                                                                                                                                    §§goto(addr758);
                                                                                                                                                                                 }
                                                                                                                                                                                 §§goto(addr746);
                                                                                                                                                                              }
                                                                                                                                                                              §§goto(addr740);
                                                                                                                                                                           }
                                                                                                                                                                           else
                                                                                                                                                                           {
                                                                                                                                                                              §§push(this.l5 is AnimatedBitmap);
                                                                                                                                                                              if(_loc8_)
                                                                                                                                                                              {
                                                                                                                                                                                 addr601:
                                                                                                                                                                                 if(§§pop())
                                                                                                                                                                                 {
                                                                                                                                                                                    if(!_loc7_)
                                                                                                                                                                                    {
                                                                                                                                                                                       addr605:
                                                                                                                                                                                       this.l5._destroyData = true;
                                                                                                                                                                                       if(_loc8_)
                                                                                                                                                                                       {
                                                                                                                                                                                          this.l5.destroy();
                                                                                                                                                                                          §§goto(addr615);
                                                                                                                                                                                       }
                                                                                                                                                                                       §§goto(addr797);
                                                                                                                                                                                    }
                                                                                                                                                                                    §§goto(addr765);
                                                                                                                                                                                 }
                                                                                                                                                                                 §§goto(addr615);
                                                                                                                                                                              }
                                                                                                                                                                              addr634:
                                                                                                                                                                              if(§§pop())
                                                                                                                                                                              {
                                                                                                                                                                                 this.bg.bitmapData.dispose();
                                                                                                                                                                                 if(_loc8_)
                                                                                                                                                                                 {
                                                                                                                                                                                    §§goto(addr656);
                                                                                                                                                                                 }
                                                                                                                                                                                 §§goto(addr703);
                                                                                                                                                                              }
                                                                                                                                                                              else
                                                                                                                                                                              {
                                                                                                                                                                                 addr646:
                                                                                                                                                                                 if(this.bg is AnimatedBitmap)
                                                                                                                                                                                 {
                                                                                                                                                                                    this.bg._destroyData = true;
                                                                                                                                                                                    §§goto(addr615);
                                                                                                                                                                                 }
                                                                                                                                                                              }
                                                                                                                                                                              §§goto(addr656);
                                                                                                                                                                           }
                                                                                                                                                                        }
                                                                                                                                                                        §§goto(addr634);
                                                                                                                                                                     }
                                                                                                                                                                     if(this.bg)
                                                                                                                                                                     {
                                                                                                                                                                        §§push(this.bg is Bitmap);
                                                                                                                                                                        if(!_loc7_)
                                                                                                                                                                        {
                                                                                                                                                                           §§goto(addr634);
                                                                                                                                                                        }
                                                                                                                                                                        §§goto(addr646);
                                                                                                                                                                     }
                                                                                                                                                                     §§goto(addr666);
                                                                                                                                                                  }
                                                                                                                                                                  §§goto(addr758);
                                                                                                                                                                  addr550:
                                                                                                                                                               }
                                                                                                                                                               §§goto(addr740);
                                                                                                                                                            }
                                                                                                                                                            §§goto(addr711);
                                                                                                                                                         }
                                                                                                                                                         else
                                                                                                                                                         {
                                                                                                                                                            addr555:
                                                                                                                                                            if(this.l4 is AnimatedBitmap)
                                                                                                                                                            {
                                                                                                                                                               addr556:
                                                                                                                                                               this.l4._destroyData = true;
                                                                                                                                                               if(_loc8_)
                                                                                                                                                               {
                                                                                                                                                                  this.l4.destroy();
                                                                                                                                                                  if(!_loc7_)
                                                                                                                                                                  {
                                                                                                                                                                     §§goto(addr568);
                                                                                                                                                                  }
                                                                                                                                                                  §§goto(addr666);
                                                                                                                                                               }
                                                                                                                                                               §§goto(addr734);
                                                                                                                                                            }
                                                                                                                                                            §§goto(addr568);
                                                                                                                                                         }
                                                                                                                                                      }
                                                                                                                                                      §§goto(addr579);
                                                                                                                                                   }
                                                                                                                                                   §§goto(addr690);
                                                                                                                                                }
                                                                                                                                                §§goto(addr524);
                                                                                                                                             }
                                                                                                                                             §§goto(addr780);
                                                                                                                                          }
                                                                                                                                          §§goto(addr524);
                                                                                                                                       }
                                                                                                                                       §§goto(addr746);
                                                                                                                                    }
                                                                                                                                    §§goto(addr605);
                                                                                                                                 }
                                                                                                                                 §§goto(addr485);
                                                                                                                              }
                                                                                                                              §§goto(addr555);
                                                                                                                           }
                                                                                                                           §§goto(addr687);
                                                                                                                        }
                                                                                                                        §§goto(addr485);
                                                                                                                     }
                                                                                                                     §§goto(addr482);
                                                                                                                     addr421:
                                                                                                                  }
                                                                                                                  §§goto(addr568);
                                                                                                               }
                                                                                                               else if(this.l1 is AnimatedBitmap)
                                                                                                               {
                                                                                                                  this.l1._destroyData = true;
                                                                                                                  this.l1.destroy();
                                                                                                                  if(!_loc7_)
                                                                                                                  {
                                                                                                                     §§goto(addr437);
                                                                                                                  }
                                                                                                                  §§goto(addr550);
                                                                                                               }
                                                                                                               §§goto(addr437);
                                                                                                            }
                                                                                                            §§goto(addr634);
                                                                                                         }
                                                                                                         §§goto(addr448);
                                                                                                      }
                                                                                                      §§goto(addr556);
                                                                                                   }
                                                                                                   §§goto(addr396);
                                                                                                }
                                                                                                §§goto(addr734);
                                                                                             }
                                                                                             §§goto(addr746);
                                                                                          }
                                                                                          else
                                                                                          {
                                                                                             §§push(this.l0 is AnimatedBitmap);
                                                                                             if(!_loc7_)
                                                                                             {
                                                                                                if(§§pop())
                                                                                                {
                                                                                                   if(_loc8_)
                                                                                                   {
                                                                                                      this.l0._destroyData = true;
                                                                                                      this.l0.destroy();
                                                                                                      §§goto(addr350);
                                                                                                   }
                                                                                                   §§goto(addr568);
                                                                                                }
                                                                                                §§goto(addr350);
                                                                                             }
                                                                                          }
                                                                                          §§goto(addr601);
                                                                                       }
                                                                                       §§goto(addr503);
                                                                                    }
                                                                                    §§goto(addr361);
                                                                                 }
                                                                                 §§goto(addr746);
                                                                              }
                                                                              §§goto(addr421);
                                                                           }
                                                                           else if(this.l1m is AnimatedBitmap)
                                                                           {
                                                                              this.l1m._destroyData = true;
                                                                              this.l1m.destroy();
                                                                           }
                                                                        }
                                                                        §§goto(addr307);
                                                                     }
                                                                     §§goto(addr774);
                                                                  }
                                                                  §§goto(addr615);
                                                               }
                                                               §§goto(addr711);
                                                            }
                                                            else if(this.l1mb is AnimatedBitmap)
                                                            {
                                                               this.l1mb._destroyData = true;
                                                               this.l1mb.destroy();
                                                               if(_loc8_)
                                                               {
                                                                  §§goto(addr266);
                                                               }
                                                               §§goto(addr318);
                                                            }
                                                            §§goto(addr266);
                                                         }
                                                         §§goto(addr277);
                                                      }
                                                      §§goto(addr677);
                                                   }
                                                   §§goto(addr740);
                                                }
                                                §§goto(addr791);
                                             }
                                             §§push(Boolean(this.battle && this.battle.connected));
                                             if(_loc8_)
                                             {
                                                addr139:
                                                §§push(§§pop());
                                                if(_loc8_)
                                                {
                                                   addr142:
                                                   if(§§pop())
                                                   {
                                                      addr143:
                                                      §§pop();
                                                      if(!_loc7_)
                                                      {
                                                         addr150:
                                                         §§push(Boolean(this.connection));
                                                         if(Boolean(this.connection))
                                                         {
                                                            if(!_loc7_)
                                                            {
                                                               §§pop();
                                                               if(_loc8_)
                                                               {
                                                                  addr161:
                                                                  if(this.connection.connected)
                                                                  {
                                                                     this.connection.disconnect();
                                                                     if(!_loc7_)
                                                                     {
                                                                        this.connection = null;
                                                                        if(!_loc7_)
                                                                        {
                                                                           addr173:
                                                                           trace("Removed map");
                                                                           if(_loc8_)
                                                                           {
                                                                              §§goto(addr178);
                                                                           }
                                                                        }
                                                                     }
                                                                  }
                                                                  §§goto(addr173);
                                                               }
                                                               §§goto(addr186);
                                                            }
                                                         }
                                                         §§goto(addr161);
                                                      }
                                                      §§goto(addr173);
                                                   }
                                                }
                                                §§goto(addr150);
                                             }
                                          }
                                          §§goto(addr161);
                                       }
                                       §§goto(addr120);
                                    }
                                    §§goto(addr139);
                                 }
                                 §§goto(addr116);
                              }
                              §§goto(addr142);
                           }
                           §§goto(addr143);
                        }
                     }
                     §§goto(addr91);
                  }
                  §§goto(addr150);
               }
               §§goto(addr120);
            }
            §§goto(addr74);
         }
         §§goto(addr117);
      }
      
      public function removePlayers(param1:Boolean = false, param2:Boolean = true) : void
      {
         var _loc7_:Boolean = false;
         var _loc8_:Boolean = true;
         var _loc6_:MovieClip = null;
         var _loc3_:Vector.<MovieClip> = this.pChars;
         var _loc4_:* = int(_loc3_.length);
         var _loc5_:* = 0;
         if(_loc8_)
         {
            while(_loc5_ < _loc4_)
            {
               if(!(_loc6_ = _loc3_[_loc5_]))
               {
                  if(!_loc7_)
                  {
                     return;
                  }
               }
               else if(!_loc6_.enemy)
               {
                  if(_loc8_)
                  {
                     _loc6_.remove(param1,param2);
                     if(!_loc8_)
                     {
                        continue;
                     }
                  }
                  addr70:
                  §§push(_loc4_);
                  if(!_loc7_)
                  {
                     §§push(§§pop() - 1);
                     if(!_loc7_)
                     {
                        _loc4_ = §§pop();
                        if(!_loc8_)
                        {
                           continue;
                        }
                        addr88:
                        §§push(_loc5_);
                        if(_loc8_)
                        {
                           §§push(§§pop() - 1);
                           if(!_loc7_)
                           {
                              §§push(_loc5_ = §§pop());
                              if(!_loc7_)
                              {
                                 addr98:
                                 §§push(§§pop() + 1);
                              }
                           }
                        }
                     }
                     _loc5_ = §§pop();
                     continue;
                  }
                  §§goto(addr98);
               }
               else
               {
                  _loc6_.remove(param1);
                  if(_loc8_)
                  {
                     §§goto(addr70);
                  }
               }
               §§goto(addr88);
            }
         }
      }
      
      public function addHandlers(param1:Connection, param2:String = "City", param3:Boolean = false) : void
      {
         var _loc5_:Boolean = true;
         var _loc6_:Boolean = false;
         if(!_loc6_)
         {
            var mapsgot:* = undefined;
            var oldmapsgot:* = undefined;
            var endtrade:* = undefined;
            var stoptrade:* = undefined;
            var c:Connection = param1;
            var type:String = param2;
            if(!_loc6_)
            {
               var instance:Boolean = param3;
               mapsgot = function(param1:Message, param2:String):void
               {
                  pChar.Unlocks.Maps.New = param2.split(",");
               };
               oldmapsgot = function(param1:Message, param2:String):void
               {
                  pChar.Unlocks.Maps.Old = param2.split(",");
               };
               if(!_loc6_)
               {
                  endtrade = function(param1:Message):void
                  {
                     var _loc2_:Boolean = true;
                     var _loc3_:Boolean = false;
                     if(!trademc)
                     {
                        if(_loc2_)
                        {
                           return;
                        }
                     }
                     else
                     {
                        trademc.close();
                     }
                  };
                  if(_loc5_)
                  {
                     stoptrade = function(param1:Message, param2:Boolean = false):*
                     {
                        var _loc3_:Boolean = false;
                        var _loc4_:Boolean = true;
                        if(!trademc)
                        {
                           if(_loc4_)
                           {
                              return;
                           }
                        }
                        else
                        {
                           trademc.lock1 = 1;
                           if(!_loc3_)
                           {
                              trademc.lock2 = 1;
                           }
                           trademc.o1.gotoAndStop(1);
                           if(!_loc3_)
                           {
                              trademc.o2.gotoAndStop(1);
                              if(!_loc3_)
                              {
                                 addr32:
                                 if(!param2)
                                 {
                                    if(!_loc3_)
                                    {
                                       §§goto(addr36);
                                    }
                                    else
                                    {
                                       addr50:
                                       trademc.denars2.text = "0";
                                    }
                                 }
                                 else
                                 {
                                    trademc.denars1.text = "0";
                                    if(!_loc3_)
                                    {
                                       trademc.gold1.text = "0";
                                       if(!_loc3_)
                                       {
                                          §§goto(addr50);
                                       }
                                       §§goto(addr66);
                                    }
                                 }
                                 trademc.gold2.text = "0";
                                 tradeinv(null,"",true);
                                 if(!_loc4_)
                                 {
                                 }
                                 §§goto(addr66);
                              }
                              addr66:
                              tradeinv(null,"",false);
                              return;
                           }
                           §§goto(addr32);
                        }
                        addr36:
                     };
                     if(type == "City")
                     {
                        this.PublicChannel = c;
                     }
                     c.addMessageHandler("*",function(param1:Message):void
                     {
                        trace("Got message " + param1.type);
                     });
                     if(_loc5_)
                     {
                        c.addMessageHandler("BP",function(param1:Message):void
                        {
                           root.account.BP = {};
                        });
                        c.addMessageHandler("NewRank",function(param1:Message, param2:String):void
                        {
                           var _loc3_:Boolean = false;
                           var _loc4_:Boolean = true;
                           §§push(Boolean(GuildChannel));
                           if(_loc4_)
                           {
                              if(§§pop())
                              {
                                 if(_loc4_)
                                 {
                                    §§goto(addr14);
                                 }
                              }
                              §§goto(addr20);
                           }
                           addr14:
                           §§pop();
                           if(!_loc3_)
                           {
                              addr20:
                              if(GuildChannel.connected)
                              {
                                 if(!_loc3_)
                                 {
                                    GuildChannel.send("NewRank",param2);
                                 }
                              }
                           }
                        });
                        if(_loc5_)
                        {
                           c.addMessageHandler("RareRock",this.rarerock);
                           if(!_loc6_)
                           {
                              c.addMessageHandler("HPmod",this.hpmod);
                              if(_loc5_)
                              {
                                 c.addMessageHandler("MPmod",this.mpmod);
                                 c.addMessageHandler("BattleEnd",function(param1:Message, param2:int, param3:Boolean = false):void
                                 {
                                    var _loc6_:Boolean = true;
                                    var _loc7_:Boolean = false;
                                    var _loc5_:MovieClip = null;
                                    if(_loc6_)
                                    {
                                       createBuffs(new Vector.<String>());
                                       if(lobbymc)
                                       {
                                          if(!_loc7_)
                                          {
                                             lobbymc.close();
                                          }
                                       }
                                       else
                                       {
                                          if(turnarrow)
                                          {
                                             turnarrow.stop();
                                             if(turnarrow.stage !== null)
                                             {
                                                if(!_loc7_)
                                                {
                                                   removeChild(turnarrow);
                                                }
                                             }
                                          }
                                          var _loc4_:MovieClip = pChars[0];
                                          if(turnmc)
                                          {
                                             trace("Remove turnmc");
                                             turnmc.stop();
                                             root.removeChild(turnmc);
                                             if(!_loc7_)
                                             {
                                                turnmc = null;
                                                if(!_loc7_)
                                                {
                                                   addr58:
                                                   trace(turnmc);
                                                   if(RoomData.Type !== "PVP")
                                                   {
                                                      if(!_loc7_)
                                                      {
                                                         winlose = new WinLose() as MovieClip;
                                                         if(_loc6_)
                                                         {
                                                            addr83:
                                                            addChild(winlose);
                                                            if(RoomData.Type !== "PVP")
                                                            {
                                                               winlose.x = turnp.x;
                                                               winlose.y = turnp.y;
                                                            }
                                                            anims.push(winlose);
                                                            §§push(param2 == _loc4_.team);
                                                            if(!_loc7_)
                                                            {
                                                               §§push(§§pop());
                                                               if(!_loc7_)
                                                               {
                                                                  if(§§pop())
                                                                  {
                                                                     if(_loc6_)
                                                                     {
                                                                        addr116:
                                                                        §§pop();
                                                                        §§push(_loc4_.hp > 0);
                                                                        if(_loc6_)
                                                                        {
                                                                           addr123:
                                                                           if(§§pop())
                                                                           {
                                                                              §§push(Boolean(root[RoomData.Map + "Dialog"]));
                                                                              if(_loc6_)
                                                                              {
                                                                                 addr134:
                                                                                 if(§§pop())
                                                                                 {
                                                                                    if(_loc7_)
                                                                                    {
                                                                                    }
                                                                                    addr152:
                                                                                    if(§§pop())
                                                                                    {
                                                                                       if(!_loc7_)
                                                                                       {
                                                                                          addr155:
                                                                                          dialog(root[RoomData.Map + "Dialog"].Name,root[RoomData.Map + "Dialog"].Dialog);
                                                                                          if(_loc6_)
                                                                                          {
                                                                                             addr173:
                                                                                             if(RoomData.Type !== "PVP")
                                                                                             {
                                                                                                winlose.getChildAt(0).gotoAndStop(3);
                                                                                                if(_loc7_)
                                                                                                {
                                                                                                }
                                                                                             }
                                                                                             else
                                                                                             {
                                                                                                winlose.frame = 2;
                                                                                             }
                                                                                             battlestate = 2;
                                                                                             if(_loc7_)
                                                                                             {
                                                                                             }
                                                                                             §§goto(addr215);
                                                                                          }
                                                                                          else
                                                                                          {
                                                                                             addr206:
                                                                                          }
                                                                                          §§goto(addr212);
                                                                                       }
                                                                                       §§goto(addr206);
                                                                                    }
                                                                                    §§goto(addr173);
                                                                                 }
                                                                                 §§goto(addr152);
                                                                              }
                                                                           }
                                                                           else
                                                                           {
                                                                              if(RoomData.Type !== "PVP")
                                                                              {
                                                                                 winlose.getChildAt(0).gotoAndStop(4);
                                                                                 if(!_loc7_)
                                                                                 {
                                                                                    §§goto(addr206);
                                                                                 }
                                                                              }
                                                                              else
                                                                              {
                                                                                 winlose.frame = 1;
                                                                                 if(_loc6_)
                                                                                 {
                                                                                    addr212:
                                                                                    trace(winlose);
                                                                                    addr215:
                                                                                    trace(winlose.getChildAt(0).currentFrame);
                                                                                    return;
                                                                                 }
                                                                              }
                                                                              §§goto(addr173);
                                                                           }
                                                                           §§goto(addr173);
                                                                        }
                                                                        §§pop();
                                                                        §§push(Boolean(q.arrayContainsSplit(pChar.Quests.Active,root[RoomData.Map + "Dialog"].Quest)));
                                                                     }
                                                                     §§goto(addr152);
                                                                  }
                                                                  §§goto(addr123);
                                                               }
                                                               §§goto(addr134);
                                                            }
                                                            §§goto(addr116);
                                                         }
                                                      }
                                                      §§goto(addr173);
                                                   }
                                                   else
                                                   {
                                                      winlose = new PVPWinLose() as MovieClip;
                                                   }
                                                   §§goto(addr83);
                                                }
                                                §§goto(addr173);
                                             }
                                             §§goto(addr155);
                                          }
                                          §§goto(addr58);
                                       }
                                    }
                                 });
                                 c.addMessageHandler("PlayerBought",function(param1:Message, param2:String, param3:uint, param4:String, param5:uint):void
                                 {
                                    var _loc6_:Boolean = false;
                                    var _loc7_:Boolean = true;
                                    playSound("MoneySound");
                                    if(!_loc6_)
                                    {
                                       root.q.addChatTxt(chattxt,getTxt("PlayerHasBought").replace("{Player}",param2).replace("{Quantity}",param3).replace("{Item}",param4.indexOf("Recipe") >= 0 ? getTxt(param4.split(" Recipe")[0]) + " " + getTxt("Recipe") : (param4.indexOf("Skill Manual") >= 0 ? getTxt(param4.split(" Skill Manual")[0]) + " " + getTxt("Skill Manual") : getTxt(param4))).replace("{Price}",param5),"Public",16776960);
                                    }
                                 });
                                 if(_loc5_)
                                 {
                                    c.addMessageHandler("ForceQueue",function(param1:Message):void
                                    {
                                       processQueue();
                                    });
                                    c.addMessageHandler("GuildKick",function(param1:Message, param2:String):void
                                    {
                                       var _loc4_:Boolean = false;
                                       var _loc5_:Boolean = true;
                                       var _loc3_:MovieClip = null;
                                       §§push("Guild" in pChar);
                                       if(_loc5_)
                                       {
                                          if(§§pop())
                                          {
                                             if(_loc5_)
                                             {
                                                §§pop();
                                                if(_loc5_)
                                                {
                                                   §§push(param2 == pChar.Guild);
                                                   if(!_loc4_)
                                                   {
                                                      §§goto(addr28);
                                                   }
                                                }
                                                §§goto(addr37);
                                             }
                                          }
                                          addr28:
                                          if(§§pop())
                                          {
                                             disconnectGuild();
                                             if(_loc5_)
                                             {
                                                §§push(delete pChar.Guild);
                                                if(!_loc4_)
                                                {
                                                   addr37:
                                                   §§pop();
                                                   §§push(delete pChar.Rank);
                                                }
                                                §§pop();
                                                if(!_loc4_)
                                                {
                                                   addr43:
                                                   q.addChatTxt(chattxt,"You have been kicked from the guild " + param2 + ".","Public",16776960);
                                                }
                                                _loc3_ = pmcs[pChar.key + "_mc"];
                                                if(_loc5_)
                                                {
                                                   if(!_loc3_)
                                                   {
                                                      if(!_loc4_)
                                                      {
                                                         return;
                                                      }
                                                      §§goto(addr83);
                                                   }
                                                   else
                                                   {
                                                      _loc3_.guild = "";
                                                      if(_loc5_)
                                                      {
                                                         if(!_loc3_.hpmc)
                                                         {
                                                            if(!_loc5_)
                                                            {
                                                            }
                                                         }
                                                         §§goto(addr83);
                                                      }
                                                   }
                                                   §§goto(addr83);
                                                }
                                                _loc3_.createtitle();
                                                §§goto(addr83);
                                             }
                                             §§goto(addr43);
                                          }
                                          addr83:
                                          return;
                                       }
                                       §§goto(addr37);
                                    });
                                    c.addMessageHandler("GuildLeave",function(param1:Message, param2:String):void
                                    {
                                       var _loc4_:Boolean = true;
                                       var _loc5_:Boolean = false;
                                       var _loc3_:MovieClip = pmcs[param2 + "_mc"];
                                       if(_loc4_)
                                       {
                                          if(!_loc3_)
                                          {
                                             if(!_loc5_)
                                             {
                                                return;
                                             }
                                             addr30:
                                             _loc3_.createtitle();
                                          }
                                          else
                                          {
                                             _loc3_.guild = "";
                                             if(!_loc5_)
                                             {
                                                if(!_loc3_.hpmc)
                                                {
                                                   if(_loc4_)
                                                   {
                                                      §§goto(addr30);
                                                   }
                                                }
                                             }
                                          }
                                       }
                                    });
                                    c.addMessageHandler("GuildDisbanded",function(param1:Message, param2:String):void
                                    {
                                       var _loc6_:Boolean = true;
                                       var _loc7_:Boolean = false;
                                       var _loc5_:MovieClip = null;
                                       var _loc3_:int = pChars.length;
                                       if(!_loc7_)
                                       {
                                          trace("GuildDisbanded: " + param2);
                                       }
                                       var _loc4_:int = 0;
                                       while(_loc4_ < _loc3_)
                                       {
                                          if((_loc5_ = pChars[_loc4_]).guild == param2)
                                          {
                                             if(!_loc7_)
                                             {
                                                _loc5_.guild = "";
                                                if(_loc7_)
                                                {
                                                   continue;
                                                }
                                             }
                                          }
                                          if(!_loc5_.hpmc)
                                          {
                                             if(!_loc6_)
                                             {
                                                continue;
                                             }
                                             _loc5_.createtitle();
                                             if(_loc7_)
                                             {
                                                continue;
                                             }
                                          }
                                          _loc4_++;
                                       }
                                       if(!_loc7_)
                                       {
                                          §§push("Guild" in pChar);
                                          if(_loc6_)
                                          {
                                             if(§§pop())
                                             {
                                                if(_loc6_)
                                                {
                                                   §§pop();
                                                   §§push(param2 == pChar.Guild);
                                                   if(!_loc7_)
                                                   {
                                                      §§goto(addr72);
                                                   }
                                                }
                                                §§goto(addr82);
                                             }
                                          }
                                          addr72:
                                          if(§§pop())
                                          {
                                             disconnectGuild();
                                             if(_loc6_)
                                             {
                                                §§push(delete pChar.Guild);
                                                if(!_loc7_)
                                                {
                                                   addr82:
                                                   §§pop();
                                                   §§goto(addr88);
                                                }
                                                §§pop();
                                             }
                                             §§goto(addr88);
                                          }
                                          addr88:
                                          if(_loc6_)
                                          {
                                             §§push(delete pChar.Rank);
                                          }
                                          q.addChatTxt(chattxt,"The guild " + param2 + " has disbanded.","Public",16776960);
                                          return;
                                       }
                                       §§goto(addr82);
                                    });
                                    c.addMessageHandler("XP",function(param1:Message, param2:int, param3:int, param4:Boolean = true):*
                                    {
                                       var _loc5_:Boolean = true;
                                       var _loc6_:Boolean = false;
                                       if(param4)
                                       {
                                          if(_loc5_)
                                          {
                                             updatequeue.push("XP:" + param2 + "_" + param3);
                                             if(!_loc5_)
                                             {
                                             }
                                             §§goto(addr25);
                                          }
                                       }
                                       else
                                       {
                                          displayxp(param2,param3);
                                       }
                                       addr25:
                                    });
                                    if(_loc5_)
                                    {
                                       c.addMessageHandler("MoneyDrop",function(param1:*, param2:int):void
                                       {
                                          updatequeue.push("Money:" + param2);
                                       });
                                       c.addMessageHandler("Took",function(param1:Message, param2:String, param3:Boolean, param4:int = -1):void
                                       {
                                          var _loc5_:Boolean = true;
                                          var _loc6_:Boolean = false;
                                          pChar.Inventory = param2.split(",");
                                          if(_loc5_)
                                          {
                                             if(invmc)
                                             {
                                                if(_loc5_)
                                                {
                                                   invmc.listinv();
                                                   if(_loc5_)
                                                   {
                                                      addr21:
                                                      if(lootmc)
                                                      {
                                                         if(param3)
                                                         {
                                                            if(_loc5_)
                                                            {
                                                               lootmc.items = new Vector.<String>();
                                                            }
                                                            lootmc.list();
                                                         }
                                                         else
                                                         {
                                                            lootmc.items[param4] = "None";
                                                            if(!_loc6_)
                                                            {
                                                               addr43:
                                                               setSlot(lootmc["s" + param4],"None");
                                                            }
                                                         }
                                                      }
                                                   }
                                                   return;
                                                }
                                                §§goto(addr43);
                                             }
                                          }
                                          §§goto(addr21);
                                       });
                                       c.addMessageHandler("AddMap",function(param1:Message, param2:String):void
                                       {
                                          pChar.Unlocks.Maps.New.push(param2);
                                       });
                                       c.addMessageHandler("NewQuest",this.newquest);
                                       if(_loc5_)
                                       {
                                          addr181:
                                          c.addMessageHandler("CharSlots",function(param1:Message, param2:int):void
                                          {
                                             account.Slots = param2;
                                          });
                                          if(_loc5_)
                                          {
                                             c.addMessageHandler("JoinedGuild",function(param1:Message, param2:String, param3:String):void
                                             {
                                                var _loc5_:Boolean = false;
                                                var _loc6_:Boolean = true;
                                                §§push(param2 == pChar.key);
                                                if(_loc6_)
                                                {
                                                   §§push(§§pop());
                                                   if(!_loc5_)
                                                   {
                                                      if(§§pop())
                                                      {
                                                         if(!_loc5_)
                                                         {
                                                            addr17:
                                                            §§pop();
                                                            if(!_loc5_)
                                                            {
                                                               §§push(!"Guild" in pChar);
                                                               if(_loc6_)
                                                               {
                                                                  addr28:
                                                                  if(!§§pop())
                                                                  {
                                                                     if(!_loc5_)
                                                                     {
                                                                        §§pop();
                                                                        if(_loc6_)
                                                                        {
                                                                           addr38:
                                                                           if(pChar.Guild !== param3)
                                                                           {
                                                                              if(_loc6_)
                                                                              {
                                                                                 pChar.Guild = param3;
                                                                                 if(_loc6_)
                                                                                 {
                                                                                    pChar.GuildRank = "Recruit";
                                                                                    if(_loc5_)
                                                                                    {
                                                                                    }
                                                                                    §§goto(addr56);
                                                                                 }
                                                                                 joinGuildChat();
                                                                              }
                                                                           }
                                                                        }
                                                                        addr56:
                                                                        var _loc4_:MovieClip;
                                                                        if(!(_loc4_ = pmcs[param2 + "_mc"]))
                                                                        {
                                                                           if(!_loc5_)
                                                                           {
                                                                              return;
                                                                           }
                                                                           addr79:
                                                                           _loc4_.createtitle();
                                                                        }
                                                                        else
                                                                        {
                                                                           _loc4_.guild = param3;
                                                                           if(_loc6_)
                                                                           {
                                                                              if(!_loc4_.hpmc)
                                                                              {
                                                                                 if(!_loc5_)
                                                                                 {
                                                                                    §§goto(addr79);
                                                                                 }
                                                                              }
                                                                           }
                                                                        }
                                                                        return;
                                                                     }
                                                                  }
                                                               }
                                                            }
                                                         }
                                                      }
                                                      §§goto(addr38);
                                                   }
                                                   §§goto(addr28);
                                                }
                                                §§goto(addr17);
                                             });
                                             c.addMessageHandler("Buffs",this.updateBuffs);
                                             addr200:
                                             c.addMessageHandler("ItemInfo",this.gotItemInfo);
                                             addr206:
                                             c.addMessageHandler("NewClass",function(param1:Message, param2:String):void
                                             {
                                                var _loc5_:Boolean = true;
                                                var _loc6_:Boolean = false;
                                                var _loc3_:* = "";
                                                if(!_loc6_)
                                                {
                                                   §§push("ClassesUnlocked");
                                                   if(_loc5_)
                                                   {
                                                      if(§§pop() in account)
                                                      {
                                                         if(_loc5_)
                                                         {
                                                            §§push(account.ClassesUnlocked);
                                                            if(_loc5_)
                                                            {
                                                               _loc3_ = §§pop();
                                                               §§goto(addr45);
                                                            }
                                                            _loc3_ = §§pop();
                                                            if(_loc5_)
                                                            {
                                                               addr42:
                                                               account.ClassesUnlocked = _loc3_;
                                                            }
                                                         }
                                                         addr45:
                                                         if(!_loc6_)
                                                         {
                                                            addr27:
                                                            §§push(_loc3_);
                                                            if(!_loc6_)
                                                            {
                                                               addr37:
                                                               §§push(",");
                                                               if(!_loc6_)
                                                               {
                                                                  §§push(§§pop() + param2);
                                                               }
                                                               §§push(§§pop() + §§pop());
                                                            }
                                                         }
                                                         var _loc4_:MovieClip;
                                                         (_loc4_ = new NewClass() as MovieClip).getChildAt(0).classmc.gotoAndStop(param2);
                                                         if(_loc5_)
                                                         {
                                                            _loc4_.getChildAt(0).classtxtmc.gotoAndStop(param2);
                                                            if(!_loc6_)
                                                            {
                                                               addChildAt(_loc4_,getChildIndex(mouse));
                                                               if(_loc6_)
                                                               {
                                                               }
                                                               §§goto(addr79);
                                                            }
                                                            acc.send("Refresh");
                                                         }
                                                         addr79:
                                                         return;
                                                      }
                                                      §§goto(addr27);
                                                   }
                                                   §§goto(addr37);
                                                }
                                                §§goto(addr42);
                                             });
                                             c.addMessageHandler("SwapSlots",this.swapslot);
                                             addr217:
                                             c.addMessageHandler("Gold",function(param1:Message):void
                                             {
                                                var _loc3_:Boolean = true;
                                                var _loc4_:Boolean = false;
                                                if(_loc3_)
                                                {
                                                   var m:Message = param1;
                                                   if(_loc3_)
                                                   {
                                                      addr17:
                                                      var C:Client = client;
                                                      if(_loc3_)
                                                      {
                                                         C.payVault.refresh(function():void
                                                         {
                                                            displaygold();
                                                         });
                                                      }
                                                   }
                                                   return;
                                                }
                                                §§goto(addr17);
                                             });
                                             c.addMessageHandler("Inventory",this.inventoryupdate);
                                             if(!_loc6_)
                                             {
                                                c.addMessageHandler("Shop",this.shopupdate);
                                                c.addMessageHandler("Enchant",this.enchantresult);
                                                c.addMessageHandler("Craft",function(param1:Message):void
                                                {
                                                   var _loc2_:Boolean = false;
                                                   var _loc3_:Boolean = true;
                                                   if(craftmc)
                                                   {
                                                      if(_loc3_)
                                                      {
                                                         craftmc.refreshnew();
                                                      }
                                                   }
                                                });
                                                c.addMessageHandler("AddItems",this.additems);
                                                addr230:
                                                if(_loc5_)
                                                {
                                                   c.addMessageHandler("Items",this.swaplist);
                                                   c.addMessageHandler("Loot",this.loot);
                                                }
                                                addr336:
                                                c.addMessageHandler("Rep",function(param1:Message, param2:int):void
                                                {
                                                   var _loc4_:Boolean = true;
                                                   var _loc5_:Boolean = false;
                                                   §§push(param2);
                                                   if(!_loc5_)
                                                   {
                                                      §§push(int(§§pop() - account.Reputation));
                                                   }
                                                   var _loc3_:* = §§pop();
                                                   if(_loc4_)
                                                   {
                                                      if(onKong)
                                                      {
                                                         if(_loc4_)
                                                         {
                                                            kongregate.stats.submit("Reputation",param2);
                                                            if(!_loc5_)
                                                            {
                                                               addr27:
                                                               account.Reputation = param2;
                                                            }
                                                            return;
                                                         }
                                                      }
                                                   }
                                                   §§goto(addr27);
                                                });
                                                c.addMessageHandler("ShopSlot",function(param1:Message, param2:int):void
                                                {
                                                   var _loc3_:Boolean = true;
                                                   var _loc4_:Boolean = false;
                                                   account.ShopSlots = param2;
                                                   if(!_loc4_)
                                                   {
                                                      if(pshopmc)
                                                      {
                                                         if(!_loc4_)
                                                         {
                                                            addr14:
                                                            pshopmc.list();
                                                         }
                                                      }
                                                      return;
                                                   }
                                                   §§goto(addr14);
                                                });
                                                c.addMessageHandler("Skills",function(param1:Message, param2:String, param3:String):void
                                                {
                                                   var _loc4_:Boolean = false;
                                                   var _loc5_:Boolean = true;
                                                   pChar.Skills[param2] = param3.split(",");
                                                   if(!_loc4_)
                                                   {
                                                      if(skillmc)
                                                      {
                                                         if(_loc5_)
                                                         {
                                                            addr18:
                                                            skillmc.generate();
                                                         }
                                                      }
                                                      return;
                                                   }
                                                   §§goto(addr18);
                                                });
                                                c.addMessageHandler("SkillPoints",function(param1:Message, param2:int):void
                                                {
                                                   var _loc3_:Boolean = false;
                                                   var _loc4_:Boolean = true;
                                                   pChar.Skills.Points = param2;
                                                   if(!_loc3_)
                                                   {
                                                      if(skillmc)
                                                      {
                                                         if(_loc4_)
                                                         {
                                                            skillmc.pointtxt.text = param2;
                                                         }
                                                      }
                                                   }
                                                });
                                                if(!_loc6_)
                                                {
                                                   c.addMessageHandler("Maps",mapsgot);
                                                   if(_loc5_)
                                                   {
                                                      c.addMessageHandler("OldMaps",oldmapsgot);
                                                      c.addMessageHandler("PlayerStats",function(param1:Message, param2:int, param3:String, param4:Number, param5:uint, param6:Number, param7:Number, param8:Number, param9:int, param10:int, param11:int, param12:int, param13:int, param14:int, param15:Number, param16:Number, param17:Number, param18:Number, param19:Number, param20:Number, param21:Number, param22:Number, param23:Number, param24:Number, param25:Number):void
                                                      {
                                                         var _loc26_:Boolean = false;
                                                         var _loc27_:Boolean = true;
                                                         playerstats.ATK = new String(param3);
                                                         playerstats.PVPWIN = new int(param2);
                                                         playerstats.CRIT = new Number(param4);
                                                         playerstats.BLOCK = new Number(param6);
                                                         playerstats.DEF = new uint(param5);
                                                         if(!_loc26_)
                                                         {
                                                            playerstats.DODGE = new Number(param7);
                                                            playerstats.LUCK = new Number(param8);
                                                            if(_loc27_)
                                                            {
                                                               playerstats.STR = new int(param10);
                                                               if(_loc27_)
                                                               {
                                                                  playerstats.END = new int(param11);
                                                                  if(!_loc26_)
                                                                  {
                                                                     addr59:
                                                                     playerstats.WIS = new int(param12);
                                                                     if(_loc27_)
                                                                     {
                                                                        playerstats.LUK = new int(param13);
                                                                        if(_loc27_)
                                                                        {
                                                                           playerstats.INT = new int(param14);
                                                                           playerstats.FIRE = new Number(param15);
                                                                           if(_loc27_)
                                                                           {
                                                                              playerstats.ICE = new Number(param16);
                                                                              addr91:
                                                                              playerstats.WATER = new Number(param17);
                                                                              playerstats.LIGHTNING = new Number(param18);
                                                                              if(!_loc26_)
                                                                              {
                                                                                 addr104:
                                                                                 playerstats.EARTH = new Number(param19);
                                                                                 playerstats.PLANT = new Number(param20);
                                                                                 playerstats.DARKNESS = new Number(param21);
                                                                                 addr119:
                                                                                 playerstats.LIGHT = new Number(param22);
                                                                                 addr124:
                                                                                 playerstats.FLYING = new Number(param23);
                                                                                 playerstats.MECHANIC = new Number(param24);
                                                                                 if(!_loc26_)
                                                                                 {
                                                                                    addr136:
                                                                                    playerstats.BEAST = new Number(param25);
                                                                                    pChar.Skills.Points = param9;
                                                                                    if(!_loc26_)
                                                                                    {
                                                                                       if(skillmc)
                                                                                       {
                                                                                          if(!_loc26_)
                                                                                          {
                                                                                             skillmc.pointtxt.text = param9;
                                                                                             if(_loc27_)
                                                                                             {
                                                                                                addr158:
                                                                                                if(elementmc)
                                                                                                {
                                                                                                   if(_loc27_)
                                                                                                   {
                                                                                                      addr163:
                                                                                                      elementmc.list();
                                                                                                   }
                                                                                                }
                                                                                             }
                                                                                          }
                                                                                          return;
                                                                                       }
                                                                                    }
                                                                                 }
                                                                                 §§goto(addr158);
                                                                              }
                                                                              §§goto(addr163);
                                                                           }
                                                                           §§goto(addr124);
                                                                        }
                                                                        §§goto(addr158);
                                                                     }
                                                                     §§goto(addr91);
                                                                  }
                                                                  §§goto(addr119);
                                                               }
                                                               §§goto(addr104);
                                                            }
                                                            §§goto(addr136);
                                                         }
                                                         §§goto(addr59);
                                                      });
                                                      if(!_loc6_)
                                                      {
                                                         addr381:
                                                         c.addMessageHandler("TU",this.tu);
                                                         addr387:
                                                         c.addMessageHandler("ET",endtrade);
                                                         if(!_loc6_)
                                                         {
                                                            c.addMessageHandler("ST",stoptrade);
                                                            if(!_loc6_)
                                                            {
                                                               c.addMessageHandler("TL",this.tradelock);
                                                               c.addMessageHandler("TI",this.tradeinv);
                                                               if(!_loc6_)
                                                               {
                                                                  c.addMessageHandler("Trade",this.tradem);
                                                                  addr424:
                                                                  c.addMessageHandler("OpenTrade",this.opentrade);
                                                                  c.addMessageHandler("GlobalStats",function(param1:Message, param2:String, param3:uint, param4:uint):void
                                                                  {
                                                                     var _loc6_:Boolean = true;
                                                                     var _loc7_:Boolean = false;
                                                                     if(param2 == pChar.key)
                                                                     {
                                                                        if(_loc6_)
                                                                        {
                                                                           playerstats.HP = new uint(param3);
                                                                           if(!_loc6_)
                                                                           {
                                                                           }
                                                                           addr23:
                                                                           var _loc5_:MovieClip;
                                                                           §§push(!(_loc5_ = pmcs[param2 + "_mc"]));
                                                                           if(_loc6_)
                                                                           {
                                                                              §§push(§§pop());
                                                                              if(_loc6_)
                                                                              {
                                                                                 if(!§§pop())
                                                                                 {
                                                                                    if(!_loc7_)
                                                                                    {
                                                                                       §§pop();
                                                                                       §§push(_loc5_ == null);
                                                                                       if(_loc7_)
                                                                                       {
                                                                                       }
                                                                                       addr52:
                                                                                       §§pop();
                                                                                       if(_loc5_.stage == null)
                                                                                       {
                                                                                          if(!_loc7_)
                                                                                          {
                                                                                             return;
                                                                                          }
                                                                                          §§goto(addr80);
                                                                                       }
                                                                                       else
                                                                                       {
                                                                                          _loc5_.maxhp = param3;
                                                                                          _loc5_.maxmp = param4;
                                                                                          if(!_loc7_)
                                                                                          {
                                                                                             if(!battle)
                                                                                             {
                                                                                                if(!_loc7_)
                                                                                                {
                                                                                                   _loc5_.hp = param3;
                                                                                                   _loc5_.mp = param4;
                                                                                                }
                                                                                             }
                                                                                             addr80:
                                                                                             if(_loc5_.hpmc)
                                                                                             {
                                                                                                if(!_loc7_)
                                                                                                {
                                                                                                   _loc5_.createhp();
                                                                                                }
                                                                                             }
                                                                                             if(charmc)
                                                                                             {
                                                                                                charmc.generate();
                                                                                             }
                                                                                             statschanged = false;
                                                                                             if(param2 == pChar.key)
                                                                                             {
                                                                                                addr98:
                                                                                                generatePI(_loc5_,true);
                                                                                             }
                                                                                             return;
                                                                                          }
                                                                                       }
                                                                                       §§goto(addr98);
                                                                                    }
                                                                                    §§goto(addr52);
                                                                                 }
                                                                                 §§push(§§pop());
                                                                              }
                                                                              if(!§§pop())
                                                                              {
                                                                                 if(!_loc7_)
                                                                                 {
                                                                                    §§goto(addr52);
                                                                                 }
                                                                              }
                                                                           }
                                                                           §§goto(addr52);
                                                                        }
                                                                        playerstats.MP = new uint(param4);
                                                                     }
                                                                     §§goto(addr23);
                                                                  });
                                                                  addr435:
                                                                  c.addMessageHandler("LevelUp",function(param1:Message, param2:String, param3:Boolean = false):void
                                                                  {
                                                                     var _loc4_:Boolean = true;
                                                                     var _loc5_:Boolean = false;
                                                                     if(param3)
                                                                     {
                                                                        if(!_loc5_)
                                                                        {
                                                                           updatequeue.push("LevelUp:" + param2);
                                                                           if(!_loc4_)
                                                                           {
                                                                           }
                                                                           §§goto(addr30);
                                                                        }
                                                                        addr22:
                                                                        if(param2 == pChar.key)
                                                                        {
                                                                           if(_loc4_)
                                                                           {
                                                                              statchange();
                                                                           }
                                                                        }
                                                                     }
                                                                     else
                                                                     {
                                                                        lvlup(param2);
                                                                        if(_loc4_)
                                                                        {
                                                                           §§goto(addr22);
                                                                        }
                                                                     }
                                                                     addr30:
                                                                  });
                                                                  if(!_loc6_)
                                                                  {
                                                                     c.addMessageHandler("PosList",function(param1:Message, param2:String, param3:int, param4:Boolean = false):void
                                                                     {
                                                                        setBattleList(param2,param3,param4);
                                                                     });
                                                                  }
                                                                  c.addMessageHandler("PlayerLeft",function(param1:Message, param2:String, param3:String = "", param4:int = 0, param5:String = "City"):void
                                                                  {
                                                                     var _loc8_:Boolean = false;
                                                                     var _loc9_:Boolean = true;
                                                                     if(param2 == pChar.key)
                                                                     {
                                                                        if(!_loc8_)
                                                                        {
                                                                           return;
                                                                        }
                                                                     }
                                                                     else
                                                                     {
                                                                        clearblends(param2);
                                                                     }
                                                                     var _loc6_:MovieClip = pmcs[param2 + "_mc"];
                                                                     var _loc7_:Boolean = true;
                                                                     if(_loc9_)
                                                                     {
                                                                        §§push(Boolean(q.vectorContains(pChars,_loc6_)));
                                                                        if(!_loc8_)
                                                                        {
                                                                           §§push(§§pop());
                                                                           if(_loc9_)
                                                                           {
                                                                              if(§§pop())
                                                                              {
                                                                                 §§pop();
                                                                                 if(_loc9_)
                                                                                 {
                                                                                    addr47:
                                                                                    §§push(Boolean(lobbymc));
                                                                                    if(Boolean(lobbymc))
                                                                                    {
                                                                                       §§pop();
                                                                                       §§push(param5);
                                                                                       if(!_loc8_)
                                                                                       {
                                                                                          §§push("City");
                                                                                          if(_loc9_)
                                                                                          {
                                                                                             §§push(§§pop() === §§pop());
                                                                                             if(_loc9_)
                                                                                             {
                                                                                                addr63:
                                                                                                if(!§§pop())
                                                                                                {
                                                                                                   _loc7_ = false;
                                                                                                }
                                                                                                if(!_loc6_)
                                                                                                {
                                                                                                   return;
                                                                                                }
                                                                                                if(_loc6_.stage == null)
                                                                                                {
                                                                                                   if(!_loc8_)
                                                                                                   {
                                                                                                      addChildAt(_loc6_,getChildIndex(l0) + 1);
                                                                                                      addr83:
                                                                                                      if(param3 !== "")
                                                                                                      {
                                                                                                         if(_loc9_)
                                                                                                         {
                                                                                                            setBattleList(param3,param4,true);
                                                                                                            addr93:
                                                                                                            if(type !== "City")
                                                                                                            {
                                                                                                               §§goto(addr96);
                                                                                                            }
                                                                                                         }
                                                                                                         §§goto(addr107);
                                                                                                      }
                                                                                                   }
                                                                                                   §§goto(addr93);
                                                                                                }
                                                                                                §§goto(addr83);
                                                                                             }
                                                                                             §§goto(addr107);
                                                                                          }
                                                                                       }
                                                                                       §§goto(addr83);
                                                                                    }
                                                                                    §§goto(addr63);
                                                                                 }
                                                                                 addr96:
                                                                                 q.removeValueFromVector(battlelist,_loc6_.pname);
                                                                                 if(!_loc8_)
                                                                                 {
                                                                                    addr103:
                                                                                    if(lobbymc)
                                                                                    {
                                                                                       lobbymc.generate();
                                                                                       addr107:
                                                                                       if(_loc7_)
                                                                                       {
                                                                                          if(!_loc8_)
                                                                                          {
                                                                                             _loc6_.remove();
                                                                                          }
                                                                                       }
                                                                                    }
                                                                                    §§goto(addr107);
                                                                                 }
                                                                                 return;
                                                                              }
                                                                           }
                                                                           §§goto(addr47);
                                                                        }
                                                                        §§goto(addr63);
                                                                     }
                                                                     §§goto(addr103);
                                                                  });
                                                                  if(!_loc6_)
                                                                  {
                                                                     c.addMessageHandler("Dropped",function(param1:Message, param2:String, param3:String):void
                                                                     {
                                                                        var _loc5_:Boolean = false;
                                                                        var _loc6_:Boolean = true;
                                                                        §§push(getTxt(param3) + " " + getTxt("dropped a"));
                                                                        if(!_loc5_)
                                                                        {
                                                                           §§push(" ");
                                                                           if(!_loc5_)
                                                                           {
                                                                              §§push(§§pop() + §§pop());
                                                                              if(_loc6_)
                                                                              {
                                                                                 §§push(param2);
                                                                                 if(!_loc5_)
                                                                                 {
                                                                                    §§push("Recipe");
                                                                                    if(_loc6_)
                                                                                    {
                                                                                       §§push(§§pop().indexOf(§§pop()) >= 0);
                                                                                       if(!_loc5_)
                                                                                       {
                                                                                          if(§§pop())
                                                                                          {
                                                                                             if(!_loc6_)
                                                                                             {
                                                                                             }
                                                                                             §§goto(addr92);
                                                                                          }
                                                                                          else
                                                                                          {
                                                                                             addr64:
                                                                                             if(param2.indexOf("Skill Manual") >= 0)
                                                                                             {
                                                                                                §§push(getTxt(param2.split(" Skill Manual")[0]) + " ");
                                                                                                if(_loc6_)
                                                                                                {
                                                                                                   §§goto(addr77);
                                                                                                }
                                                                                                §§goto(addr83);
                                                                                             }
                                                                                             else
                                                                                             {
                                                                                                §§push(getTxt(param2));
                                                                                             }
                                                                                          }
                                                                                          §§goto(addr89);
                                                                                       }
                                                                                    }
                                                                                 }
                                                                                 §§goto(addr64);
                                                                              }
                                                                              §§goto(addr89);
                                                                           }
                                                                           §§goto(addr51);
                                                                        }
                                                                        addr92:
                                                                        §§push(getTxt(param2.split(" Recipe")[0]) + " ");
                                                                        if(!_loc5_)
                                                                        {
                                                                           addr51:
                                                                           §§push(§§pop() + getTxt("Recipe"));
                                                                           if(_loc6_)
                                                                           {
                                                                              addr89:
                                                                              §§push(§§pop() + §§pop());
                                                                              §§push(".");
                                                                           }
                                                                        }
                                                                        else
                                                                        {
                                                                           addr77:
                                                                           §§push(§§pop() + getTxt("Skill Manual"));
                                                                           if(_loc6_)
                                                                           {
                                                                              addr83:
                                                                              §§goto(addr89);
                                                                              §§push(§§pop());
                                                                           }
                                                                        }
                                                                        var _loc4_:* = §§pop() + §§pop();
                                                                        if(_loc6_)
                                                                        {
                                                                           updatequeue.push("Txt:" + _loc4_);
                                                                        }
                                                                     });
                                                                     addr466:
                                                                     c.addMessageHandler("Chat",function(param1:Message, param2:String, param3:String, param4:int = -1):void
                                                                     {
                                                                        var _loc7_:Boolean = true;
                                                                        var _loc8_:Boolean = false;
                                                                        var _loc5_:String = null;
                                                                        var _loc6_:String = null;
                                                                        §§push(param3);
                                                                        if(!_loc8_)
                                                                        {
                                                                           §§push("You have joined Channel");
                                                                           if(!_loc8_)
                                                                           {
                                                                              if(§§pop().indexOf(§§pop()) >= 0)
                                                                              {
                                                                                 if(!_loc8_)
                                                                                 {
                                                                                    param3 = param3.replace("You have joined Channel",getTxt("You have joined Channel"));
                                                                                    addr30:
                                                                                    §§push(param3);
                                                                                    §§push("You have added");
                                                                                    if(!_loc8_)
                                                                                    {
                                                                                       §§push(§§pop().replace(§§pop(),getTxt("YouAdded")));
                                                                                       if(_loc7_)
                                                                                       {
                                                                                          param3 = §§pop();
                                                                                          if(!_loc8_)
                                                                                          {
                                                                                             param3 = param3.replace("added you as a friend.",getTxt("AddedYou"));
                                                                                             §§push(param3);
                                                                                             §§push("as a friend.");
                                                                                             if(!_loc8_)
                                                                                             {
                                                                                                param3 = §§pop().replace(§§pop(),getTxt("AsFriend"));
                                                                                                §§push(param3);
                                                                                                §§push("is already trading with someone else.");
                                                                                                if(!_loc8_)
                                                                                                {
                                                                                                   §§push(§§pop().replace(§§pop(),getTxt("AlreadyTrade")));
                                                                                                   if(_loc7_)
                                                                                                   {
                                                                                                      param3 = §§pop();
                                                                                                      §§push(param3.replace("has declined the trade.",getTxt("DeclinedTrade")));
                                                                                                      if(!_loc8_)
                                                                                                      {
                                                                                                         param3 = §§pop();
                                                                                                         if(!_loc8_)
                                                                                                         {
                                                                                                            addr93:
                                                                                                            param3 = param3.replace("You can\'t trade with more than one player",getTxt("MultiTrade"));
                                                                                                            if(_loc7_)
                                                                                                            {
                                                                                                               addr102:
                                                                                                               §§push(param3);
                                                                                                               §§push("died, and lost");
                                                                                                               if(_loc7_)
                                                                                                               {
                                                                                                                  param3 = §§pop().replace(§§pop(),getTxt("Died"));
                                                                                                                  §§push(param3);
                                                                                                                  §§push("failed to escape!");
                                                                                                                  if(!_loc8_)
                                                                                                                  {
                                                                                                                     param3 = §§pop().replace(§§pop(),getTxt("EscapeFail"));
                                                                                                                     §§push(param3);
                                                                                                                     §§push("Used Mining Ticket.");
                                                                                                                     if(_loc7_)
                                                                                                                     {
                                                                                                                        addr127:
                                                                                                                        param3 = §§pop().replace(§§pop(),getTxt("UsedMining"));
                                                                                                                        if(_loc7_)
                                                                                                                        {
                                                                                                                           §§push(param3);
                                                                                                                           if(!_loc8_)
                                                                                                                           {
                                                                                                                              addr140:
                                                                                                                              param3 = §§pop().replace("New character slot unlocked!",getTxt("NewSlot"));
                                                                                                                              param3 = param3.replace("Your skills have been reset!",getTxt("SkillReset"));
                                                                                                                              addr146:
                                                                                                                              §§push(param3);
                                                                                                                              if(!_loc8_)
                                                                                                                              {
                                                                                                                                 addr158:
                                                                                                                                 §§push(§§pop().replace("New personal shop slot unlocked!",getTxt("NewShopSlot")));
                                                                                                                                 if(!_loc8_)
                                                                                                                                 {
                                                                                                                                    param3 = §§pop();
                                                                                                                                    if(_loc7_)
                                                                                                                                    {
                                                                                                                                       §§push(param3);
                                                                                                                                       if(!_loc8_)
                                                                                                                                       {
                                                                                                                                          addr189:
                                                                                                                                          §§push(§§pop().replace("New warehouse slot unlocked!",getTxt("NewWarehouseSlot")));
                                                                                                                                          if(_loc7_)
                                                                                                                                          {
                                                                                                                                             addr181:
                                                                                                                                             param3 = §§pop();
                                                                                                                                             §§push(param3);
                                                                                                                                          }
                                                                                                                                          param3 = §§pop().replace("has resurrected",getTxt("HasResurrected"));
                                                                                                                                          §§push(param3);
                                                                                                                                          §§push("has declined your guild invitation.");
                                                                                                                                          if(_loc7_)
                                                                                                                                          {
                                                                                                                                             addr199:
                                                                                                                                             param3 = §§pop().replace(§§pop(),getTxt("DeclinedGuild"));
                                                                                                                                             §§push(param3);
                                                                                                                                             if(!_loc8_)
                                                                                                                                             {
                                                                                                                                                §§push("You have invited");
                                                                                                                                                if(_loc7_)
                                                                                                                                                {
                                                                                                                                                   §§push(§§pop().replace(§§pop(),getTxt("YouGuildInvited")));
                                                                                                                                                   if(_loc7_)
                                                                                                                                                   {
                                                                                                                                                      param3 = §§pop();
                                                                                                                                                      if(!_loc8_)
                                                                                                                                                      {
                                                                                                                                                         param3 = param3.replace("to join your guild.",getTxt("JoinGuildInvite"));
                                                                                                                                                         §§push(param3);
                                                                                                                                                         if(_loc7_)
                                                                                                                                                         {
                                                                                                                                                            param3 = §§pop().replace("joined the battle.",getTxt("JoinedBattle"));
                                                                                                                                                            §§push(param3);
                                                                                                                                                            if(!_loc8_)
                                                                                                                                                            {
                                                                                                                                                               addr239:
                                                                                                                                                               §§push("Your level is not high enough to equip this item.");
                                                                                                                                                               if(_loc7_)
                                                                                                                                                               {
                                                                                                                                                                  addr243:
                                                                                                                                                                  §§push(§§pop().replace(§§pop(),getTxt("LevelNotEnough")));
                                                                                                                                                                  if(_loc7_)
                                                                                                                                                                  {
                                                                                                                                                                     param3 = §§pop();
                                                                                                                                                                     addr252:
                                                                                                                                                                     §§push(param3);
                                                                                                                                                                     §§push("You have unpacked your");
                                                                                                                                                                     if(_loc7_)
                                                                                                                                                                     {
                                                                                                                                                                        addr255:
                                                                                                                                                                        if(§§pop().indexOf(§§pop()) >= 0)
                                                                                                                                                                        {
                                                                                                                                                                           addr264:
                                                                                                                                                                           _loc5_ = param3.split("You have unpacked your ")[1];
                                                                                                                                                                           §§push(param3);
                                                                                                                                                                           if(!_loc8_)
                                                                                                                                                                           {
                                                                                                                                                                              addr279:
                                                                                                                                                                              param3 = §§pop().replace("You have unpacked your",getTxt("You have unpacked your")).replace(_loc5_,getTxt(_loc5_));
                                                                                                                                                                              addr269:
                                                                                                                                                                              if(!_loc8_)
                                                                                                                                                                              {
                                                                                                                                                                                 addr282:
                                                                                                                                                                                 §§push(param3);
                                                                                                                                                                                 if(_loc7_)
                                                                                                                                                                                 {
                                                                                                                                                                                    addr285:
                                                                                                                                                                                    §§push("You don\'t have enough inventory space.");
                                                                                                                                                                                    if(_loc7_)
                                                                                                                                                                                    {
                                                                                                                                                                                       addr289:
                                                                                                                                                                                       §§push(§§pop().replace(§§pop(),getTxt("InventorySpace")));
                                                                                                                                                                                       if(!_loc8_)
                                                                                                                                                                                       {
                                                                                                                                                                                          param3 = §§pop();
                                                                                                                                                                                          addr299:
                                                                                                                                                                                          §§push(param3.replace("Your inventory is full.",getTxt("InventorySpace")));
                                                                                                                                                                                          if(_loc7_)
                                                                                                                                                                                          {
                                                                                                                                                                                             param3 = §§pop();
                                                                                                                                                                                             §§push(param3);
                                                                                                                                                                                             if(_loc7_)
                                                                                                                                                                                             {
                                                                                                                                                                                                addr312:
                                                                                                                                                                                                §§push("Mining is restricted to 30 mins. Purchase a Mining Ticket to mine for longer periods of time.");
                                                                                                                                                                                                if(!_loc8_)
                                                                                                                                                                                                {
                                                                                                                                                                                                   §§push(§§pop().replace(§§pop(),getTxt("MiningRestricted")));
                                                                                                                                                                                                   if(_loc7_)
                                                                                                                                                                                                   {
                                                                                                                                                                                                      param3 = §§pop();
                                                                                                                                                                                                      if(chattxt)
                                                                                                                                                                                                      {
                                                                                                                                                                                                         addr326:
                                                                                                                                                                                                         §§push(param2 + ": ");
                                                                                                                                                                                                         if(!_loc8_)
                                                                                                                                                                                                         {
                                                                                                                                                                                                            §§push(§§pop() + param3);
                                                                                                                                                                                                            if(!_loc8_)
                                                                                                                                                                                                            {
                                                                                                                                                                                                               addr336:
                                                                                                                                                                                                               _loc6_ = §§pop();
                                                                                                                                                                                                               if(!_loc8_)
                                                                                                                                                                                                               {
                                                                                                                                                                                                                  addr342:
                                                                                                                                                                                                                  if(param2 == "")
                                                                                                                                                                                                                  {
                                                                                                                                                                                                                     if(_loc7_)
                                                                                                                                                                                                                     {
                                                                                                                                                                                                                        §§push(param4);
                                                                                                                                                                                                                        if(_loc7_)
                                                                                                                                                                                                                        {
                                                                                                                                                                                                                           §§push(-1);
                                                                                                                                                                                                                           if(!_loc8_)
                                                                                                                                                                                                                           {
                                                                                                                                                                                                                              if(§§pop() == §§pop())
                                                                                                                                                                                                                              {
                                                                                                                                                                                                                                 §§push(16776960);
                                                                                                                                                                                                                                 if(!_loc8_)
                                                                                                                                                                                                                                 {
                                                                                                                                                                                                                                    param4 = §§pop();
                                                                                                                                                                                                                                    if(!_loc7_)
                                                                                                                                                                                                                                    {
                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                    addr372:
                                                                                                                                                                                                                                    q.addChatTxt(chattxt,_loc6_,"Public",param4);
                                                                                                                                                                                                                                    if(!_loc8_)
                                                                                                                                                                                                                                    {
                                                                                                                                                                                                                                       addr380:
                                                                                                                                                                                                                                       if(mapchat)
                                                                                                                                                                                                                                       {
                                                                                                                                                                                                                                          if(!_loc8_)
                                                                                                                                                                                                                                          {
                                                                                                                                                                                                                                             q.addChatTxt(mapchat,_loc6_,"Public",param4);
                                                                                                                                                                                                                                             §§goto(addr391);
                                                                                                                                                                                                                                          }
                                                                                                                                                                                                                                          §§goto(addr400);
                                                                                                                                                                                                                                       }
                                                                                                                                                                                                                                       §§goto(addr391);
                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                    §§goto(addr400);
                                                                                                                                                                                                                                 }
                                                                                                                                                                                                                                 else
                                                                                                                                                                                                                                 {
                                                                                                                                                                                                                                    addr371:
                                                                                                                                                                                                                                    param4 = §§pop();
                                                                                                                                                                                                                                    §§goto(addr372);
                                                                                                                                                                                                                                 }
                                                                                                                                                                                                                              }
                                                                                                                                                                                                                              addr362:
                                                                                                                                                                                                                              _loc6_ = param3;
                                                                                                                                                                                                                              addr361:
                                                                                                                                                                                                                              if(!_loc8_)
                                                                                                                                                                                                                              {
                                                                                                                                                                                                                                 addr366:
                                                                                                                                                                                                                              }
                                                                                                                                                                                                                              §§goto(addr391);
                                                                                                                                                                                                                           }
                                                                                                                                                                                                                           else
                                                                                                                                                                                                                           {
                                                                                                                                                                                                                              addr369:
                                                                                                                                                                                                                              if(§§pop() == §§pop())
                                                                                                                                                                                                                              {
                                                                                                                                                                                                                                 §§goto(addr371);
                                                                                                                                                                                                                                 §§push(16777215);
                                                                                                                                                                                                                              }
                                                                                                                                                                                                                           }
                                                                                                                                                                                                                           §§goto(addr372);
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        else
                                                                                                                                                                                                                        {
                                                                                                                                                                                                                           addr368:
                                                                                                                                                                                                                           §§push(-1);
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        §§goto(addr369);
                                                                                                                                                                                                                     }
                                                                                                                                                                                                                     §§goto(addr380);
                                                                                                                                                                                                                  }
                                                                                                                                                                                                                  else
                                                                                                                                                                                                                  {
                                                                                                                                                                                                                     §§push(param4);
                                                                                                                                                                                                                  }
                                                                                                                                                                                                                  §§goto(addr368);
                                                                                                                                                                                                               }
                                                                                                                                                                                                               §§goto(addr366);
                                                                                                                                                                                                            }
                                                                                                                                                                                                            §§goto(addr391);
                                                                                                                                                                                                         }
                                                                                                                                                                                                         §§goto(addr336);
                                                                                                                                                                                                      }
                                                                                                                                                                                                      addr391:
                                                                                                                                                                                                      if(param2 + "_mc" in pmcs)
                                                                                                                                                                                                      {
                                                                                                                                                                                                         trace("Set bubble");
                                                                                                                                                                                                         addr400:
                                                                                                                                                                                                         pmcs[param2 + "_mc"].bubble.setTxt(param3);
                                                                                                                                                                                                         §§goto(addr408);
                                                                                                                                                                                                      }
                                                                                                                                                                                                      addr408:
                                                                                                                                                                                                      return;
                                                                                                                                                                                                   }
                                                                                                                                                                                                }
                                                                                                                                                                                                §§goto(addr342);
                                                                                                                                                                                             }
                                                                                                                                                                                             §§goto(addr326);
                                                                                                                                                                                          }
                                                                                                                                                                                          §§goto(addr361);
                                                                                                                                                                                       }
                                                                                                                                                                                       §§goto(addr312);
                                                                                                                                                                                    }
                                                                                                                                                                                 }
                                                                                                                                                                                 §§goto(addr342);
                                                                                                                                                                              }
                                                                                                                                                                              §§goto(addr400);
                                                                                                                                                                           }
                                                                                                                                                                           §§goto(addr312);
                                                                                                                                                                        }
                                                                                                                                                                        §§goto(addr282);
                                                                                                                                                                     }
                                                                                                                                                                     §§goto(addr269);
                                                                                                                                                                  }
                                                                                                                                                                  §§goto(addr299);
                                                                                                                                                               }
                                                                                                                                                               §§goto(addr342);
                                                                                                                                                            }
                                                                                                                                                            §§goto(addr252);
                                                                                                                                                         }
                                                                                                                                                         §§goto(addr239);
                                                                                                                                                      }
                                                                                                                                                      §§goto(addr326);
                                                                                                                                                   }
                                                                                                                                                   §§goto(addr279);
                                                                                                                                                }
                                                                                                                                                §§goto(addr299);
                                                                                                                                             }
                                                                                                                                             §§goto(addr362);
                                                                                                                                          }
                                                                                                                                          §§goto(addr289);
                                                                                                                                       }
                                                                                                                                       §§goto(addr181);
                                                                                                                                    }
                                                                                                                                    §§goto(addr252);
                                                                                                                                 }
                                                                                                                                 §§goto(addr199);
                                                                                                                              }
                                                                                                                              §§goto(addr189);
                                                                                                                           }
                                                                                                                           §§goto(addr264);
                                                                                                                        }
                                                                                                                        §§goto(addr146);
                                                                                                                     }
                                                                                                                     §§goto(addr299);
                                                                                                                  }
                                                                                                                  §§goto(addr255);
                                                                                                               }
                                                                                                               §§goto(addr127);
                                                                                                            }
                                                                                                            §§goto(addr400);
                                                                                                         }
                                                                                                         §§goto(addr102);
                                                                                                      }
                                                                                                      §§goto(addr239);
                                                                                                   }
                                                                                                   §§goto(addr285);
                                                                                                }
                                                                                                §§goto(addr140);
                                                                                             }
                                                                                             §§goto(addr243);
                                                                                          }
                                                                                          §§goto(addr181);
                                                                                       }
                                                                                       §§goto(addr140);
                                                                                    }
                                                                                    §§goto(addr158);
                                                                                 }
                                                                                 §§goto(addr181);
                                                                              }
                                                                              §§goto(addr30);
                                                                           }
                                                                           §§goto(addr93);
                                                                        }
                                                                        §§goto(addr312);
                                                                     });
                                                                     if(!_loc6_)
                                                                     {
                                                                        addr474:
                                                                        c.addMessageHandler("PlayerList",function(param1:Message, param2:String, param3:String):void
                                                                        {
                                                                           var _loc18_:Boolean = false;
                                                                           var _loc19_:Boolean = true;
                                                                           var _loc9_:Vector.<String> = null;
                                                                           var _loc10_:* = null;
                                                                           var _loc11_:MovieClip = null;
                                                                           var _loc12_:* = false;
                                                                           var _loc13_:Boolean = false;
                                                                           var _loc14_:int = 0;
                                                                           if(_loc19_)
                                                                           {
                                                                              trace(param3);
                                                                           }
                                                                           var _loc4_:Vector.<String> = new Vector.<String>();
                                                                           var _loc5_:String = "instant";
                                                                           if(_loc19_)
                                                                           {
                                                                              if(param2 == pChar.key)
                                                                              {
                                                                                 if(_loc19_)
                                                                                 {
                                                                                    addr42:
                                                                                    _loc5_ = "instant";
                                                                                 }
                                                                              }
                                                                              var _loc6_:Vector.<String> = Vector.<String>(param3.split(","));
                                                                              if(_loc19_)
                                                                              {
                                                                                 trace("Vector list: " + _loc6_);
                                                                              }
                                                                              var _loc7_:int = _loc6_.length - 1;
                                                                              var _loc8_:int = 0;
                                                                              while(_loc8_ < _loc7_)
                                                                              {
                                                                                 _loc9_ = Vector.<String>(_loc6_[_loc8_].split("/"));
                                                                                 trace("Data vector: " + _loc9_);
                                                                                 if(_loc19_)
                                                                                 {
                                                                                    §§push(_loc9_[0]);
                                                                                    if(_loc19_)
                                                                                    {
                                                                                       §§push(String);
                                                                                       if(!_loc18_)
                                                                                       {
                                                                                          §§push(§§pop() as §§pop());
                                                                                          if(_loc19_)
                                                                                          {
                                                                                             addr106:
                                                                                             _loc10_ = §§pop();
                                                                                             if(_loc19_)
                                                                                             {
                                                                                                addr109:
                                                                                                _loc4_.push(_loc10_);
                                                                                                §§push(_loc10_);
                                                                                                if(!_loc18_)
                                                                                                {
                                                                                                   addr115:
                                                                                                   §§push(§§pop() in pCount);
                                                                                                   if(!_loc18_)
                                                                                                   {
                                                                                                      if(!§§pop())
                                                                                                      {
                                                                                                         pCount[_loc10_] = 0;
                                                                                                      }
                                                                                                      var _loc15_:*;
                                                                                                      var _loc16_:*;
                                                                                                      var _loc17_:* = (_loc15_ = pCount)[_loc16_ = _loc10_] + 1;
                                                                                                      if(_loc19_)
                                                                                                      {
                                                                                                         _loc15_[_loc16_] = _loc17_;
                                                                                                      }
                                                                                                      if(_loc19_)
                                                                                                      {
                                                                                                         trace(pmcs);
                                                                                                         addr148:
                                                                                                         _loc12_ = false;
                                                                                                         if(_loc19_)
                                                                                                         {
                                                                                                            _loc13_ = false;
                                                                                                            §§push(_loc10_);
                                                                                                            if(_loc19_)
                                                                                                            {
                                                                                                               §§push(§§pop() in ao);
                                                                                                               if(!_loc18_)
                                                                                                               {
                                                                                                                  §§push(!§§pop());
                                                                                                                  if(!_loc18_)
                                                                                                                  {
                                                                                                                     §§push(§§pop());
                                                                                                                     if(_loc19_)
                                                                                                                     {
                                                                                                                        if(!§§pop())
                                                                                                                        {
                                                                                                                           §§pop();
                                                                                                                           §§push(type === "City");
                                                                                                                           if(!_loc18_)
                                                                                                                           {
                                                                                                                              addr179:
                                                                                                                              §§push(!§§pop());
                                                                                                                              if(!§§pop())
                                                                                                                              {
                                                                                                                                 §§pop();
                                                                                                                                 if(!_loc18_)
                                                                                                                                 {
                                                                                                                                    addr184:
                                                                                                                                    §§push("standing2");
                                                                                                                                    if(!_loc18_)
                                                                                                                                    {
                                                                                                                                       addr192:
                                                                                                                                       if(!(§§pop() in ao[_loc10_]))
                                                                                                                                       {
                                                                                                                                          if(!_loc18_)
                                                                                                                                          {
                                                                                                                                             §§push(true);
                                                                                                                                             if(!_loc18_)
                                                                                                                                             {
                                                                                                                                                addr198:
                                                                                                                                                _loc12_ = §§pop();
                                                                                                                                             }
                                                                                                                                             addr219:
                                                                                                                                             if(§§pop())
                                                                                                                                             {
                                                                                                                                                if(!_loc18_)
                                                                                                                                                {
                                                                                                                                                   _loc11_ = pmcs[_loc10_ + "_mc"];
                                                                                                                                                   if(_loc19_)
                                                                                                                                                   {
                                                                                                                                                      addr250:
                                                                                                                                                      trace("New mc");
                                                                                                                                                      §§push(_loc10_);
                                                                                                                                                      if(_loc19_)
                                                                                                                                                      {
                                                                                                                                                         if(§§pop() == pChar.key)
                                                                                                                                                         {
                                                                                                                                                            if(_loc19_)
                                                                                                                                                            {
                                                                                                                                                               _loc11_.x = 400;
                                                                                                                                                               _loc11_.y = mapy;
                                                                                                                                                               addr267:
                                                                                                                                                               _loc11_.escaped = false;
                                                                                                                                                               if(_loc19_)
                                                                                                                                                               {
                                                                                                                                                                  if(_loc11_.stage == null)
                                                                                                                                                                  {
                                                                                                                                                                     if(!_loc18_)
                                                                                                                                                                     {
                                                                                                                                                                        _loc11_.pname = _loc10_;
                                                                                                                                                                        if(_loc19_)
                                                                                                                                                                        {
                                                                                                                                                                           _loc11_.worldx = Number(_loc9_[1].split("_")[0] as String);
                                                                                                                                                                           _loc11_.worldy = Number(_loc9_[1].split("_")[1] as String);
                                                                                                                                                                           if(_loc19_)
                                                                                                                                                                           {
                                                                                                                                                                              _loc11_.plvl = _loc9_[2];
                                                                                                                                                                              if(!_loc18_)
                                                                                                                                                                              {
                                                                                                                                                                                 addr320:
                                                                                                                                                                                 _loc11_.pclass = _loc9_[3] as String;
                                                                                                                                                                                 if(!_loc19_)
                                                                                                                                                                                 {
                                                                                                                                                                                    continue;
                                                                                                                                                                                 }
                                                                                                                                                                                 _loc11_.gotoAndStop(_loc11_.pclass);
                                                                                                                                                                                 root.q.toggleMC(_loc11_,"stop");
                                                                                                                                                                                 if(!_loc18_)
                                                                                                                                                                                 {
                                                                                                                                                                                    addr340:
                                                                                                                                                                                    trace("Class: " + _loc11_.pclass);
                                                                                                                                                                                    if(!_loc18_)
                                                                                                                                                                                    {
                                                                                                                                                                                       trace("Class data: " + _loc9_[3]);
                                                                                                                                                                                       if(!_loc18_)
                                                                                                                                                                                       {
                                                                                                                                                                                          _loc11_.pface = _loc9_[4];
                                                                                                                                                                                          trace("Face spawn: " + _loc11_.pface);
                                                                                                                                                                                          if(_loc19_)
                                                                                                                                                                                          {
                                                                                                                                                                                             addr371:
                                                                                                                                                                                             _loc11_.pskin = _loc9_[5];
                                                                                                                                                                                             trace(_loc11_.pskin);
                                                                                                                                                                                             _loc11_.pequip = Vector.<String>((_loc9_[6] as String).split("-"));
                                                                                                                                                                                             if(!_loc18_)
                                                                                                                                                                                             {
                                                                                                                                                                                                _loc11_.guild = _loc9_[7];
                                                                                                                                                                                                if(_loc19_)
                                                                                                                                                                                                {
                                                                                                                                                                                                   addr405:
                                                                                                                                                                                                   §§push(_loc10_);
                                                                                                                                                                                                   if(_loc19_)
                                                                                                                                                                                                   {
                                                                                                                                                                                                      addr408:
                                                                                                                                                                                                      if(§§pop() == pChar.key)
                                                                                                                                                                                                      {
                                                                                                                                                                                                         _loc11_.hp = _loc11_.maxhp = playerstats.HP;
                                                                                                                                                                                                         _loc11_.mp = _loc11_.maxmp = playerstats.MP;
                                                                                                                                                                                                         if(!_loc18_)
                                                                                                                                                                                                         {
                                                                                                                                                                                                            trace("Player health: " + _loc11_.hp);
                                                                                                                                                                                                            addr440:
                                                                                                                                                                                                            if(type == "City")
                                                                                                                                                                                                            {
                                                                                                                                                                                                               _loc14_ = 1;
                                                                                                                                                                                                               addr445:
                                                                                                                                                                                                               trace("add at: " + _loc14_);
                                                                                                                                                                                                               if(_loc19_)
                                                                                                                                                                                                               {
                                                                                                                                                                                                                  if(l1m)
                                                                                                                                                                                                                  {
                                                                                                                                                                                                                     if(_loc19_)
                                                                                                                                                                                                                     {
                                                                                                                                                                                                                        trace("Layer 1: " + getChildIndex(l1m));
                                                                                                                                                                                                                     }
                                                                                                                                                                                                                  }
                                                                                                                                                                                                                  addChildAt(_loc11_,npcindex + 1);
                                                                                                                                                                                                                  if(!_loc18_)
                                                                                                                                                                                                                  {
                                                                                                                                                                                                                     _loc11_.iadd = _loc14_;
                                                                                                                                                                                                                     if(!_loc18_)
                                                                                                                                                                                                                     {
                                                                                                                                                                                                                        addr479:
                                                                                                                                                                                                                        if(_loc10_ == pChar.key)
                                                                                                                                                                                                                        {
                                                                                                                                                                                                                           pChars.unshift(_loc11_);
                                                                                                                                                                                                                           addr485:
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        else
                                                                                                                                                                                                                        {
                                                                                                                                                                                                                           pChars.push(_loc11_);
                                                                                                                                                                                                                           if(_loc18_)
                                                                                                                                                                                                                           {
                                                                                                                                                                                                                           }
                                                                                                                                                                                                                           addr517:
                                                                                                                                                                                                                           updateLobby = true;
                                                                                                                                                                                                                           if(!_loc18_)
                                                                                                                                                                                                                           {
                                                                                                                                                                                                                              addr529:
                                                                                                                                                                                                                              trace(battlelist);
                                                                                                                                                                                                                              addr532:
                                                                                                                                                                                                                              trace("loc3");
                                                                                                                                                                                                                              §§push(_loc12_);
                                                                                                                                                                                                                              if(!_loc18_)
                                                                                                                                                                                                                              {
                                                                                                                                                                                                                                 if(§§pop())
                                                                                                                                                                                                                                 {
                                                                                                                                                                                                                                    if(!_loc18_)
                                                                                                                                                                                                                                    {
                                                                                                                                                                                                                                       raster(_loc11_,_loc5_,afterraster,type);
                                                                                                                                                                                                                                       if(_loc19_)
                                                                                                                                                                                                                                       {
                                                                                                                                                                                                                                          addr572:
                                                                                                                                                                                                                                          _loc8_++;
                                                                                                                                                                                                                                          continue;
                                                                                                                                                                                                                                          addr550:
                                                                                                                                                                                                                                       }
                                                                                                                                                                                                                                       else
                                                                                                                                                                                                                                       {
                                                                                                                                                                                                                                          addr564:
                                                                                                                                                                                                                                          §§push(Boolean(updateLobby));
                                                                                                                                                                                                                                       }
                                                                                                                                                                                                                                       §§goto(addr572);
                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                    else
                                                                                                                                                                                                                                    {
                                                                                                                                                                                                                                       addr554:
                                                                                                                                                                                                                                       §§push(Boolean(lobbymc));
                                                                                                                                                                                                                                       if(!_loc18_)
                                                                                                                                                                                                                                       {
                                                                                                                                                                                                                                          if(§§pop())
                                                                                                                                                                                                                                          {
                                                                                                                                                                                                                                             if(!_loc18_)
                                                                                                                                                                                                                                             {
                                                                                                                                                                                                                                                addr563:
                                                                                                                                                                                                                                                §§pop();
                                                                                                                                                                                                                                                §§goto(addr564);
                                                                                                                                                                                                                                             }
                                                                                                                                                                                                                                          }
                                                                                                                                                                                                                                       }
                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                    if(§§pop())
                                                                                                                                                                                                                                    {
                                                                                                                                                                                                                                       if(!_loc19_)
                                                                                                                                                                                                                                       {
                                                                                                                                                                                                                                          continue;
                                                                                                                                                                                                                                       }
                                                                                                                                                                                                                                       addr570:
                                                                                                                                                                                                                                       lobbymc.generate();
                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                 }
                                                                                                                                                                                                                                 else if(type !== "City")
                                                                                                                                                                                                                                 {
                                                                                                                                                                                                                                    §§goto(addr554);
                                                                                                                                                                                                                                 }
                                                                                                                                                                                                                                 §§goto(addr572);
                                                                                                                                                                                                                              }
                                                                                                                                                                                                                              §§goto(addr563);
                                                                                                                                                                                                                              addr523:
                                                                                                                                                                                                                           }
                                                                                                                                                                                                                           §§goto(addr570);
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        §§goto(addr517);
                                                                                                                                                                                                                     }
                                                                                                                                                                                                                     §§goto(addr532);
                                                                                                                                                                                                                  }
                                                                                                                                                                                                                  if(!_loc11_.titleb)
                                                                                                                                                                                                                  {
                                                                                                                                                                                                                     if(!_loc18_)
                                                                                                                                                                                                                     {
                                                                                                                                                                                                                        _loc11_.init();
                                                                                                                                                                                                                        addr499:
                                                                                                                                                                                                                        _loc11_.visible = false;
                                                                                                                                                                                                                        trace("loc2");
                                                                                                                                                                                                                        if(type !== "City")
                                                                                                                                                                                                                        {
                                                                                                                                                                                                                           trace("poo");
                                                                                                                                                                                                                           battlelist = _loc4_;
                                                                                                                                                                                                                           trace(_loc4_);
                                                                                                                                                                                                                           §§goto(addr517);
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        else
                                                                                                                                                                                                                        {
                                                                                                                                                                                                                           updateLobby = false;
                                                                                                                                                                                                                           if(!_loc18_)
                                                                                                                                                                                                                           {
                                                                                                                                                                                                                              §§goto(addr529);
                                                                                                                                                                                                                           }
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        §§goto(addr572);
                                                                                                                                                                                                                     }
                                                                                                                                                                                                                     §§goto(addr554);
                                                                                                                                                                                                                  }
                                                                                                                                                                                                                  §§goto(addr499);
                                                                                                                                                                                                               }
                                                                                                                                                                                                               §§goto(addr529);
                                                                                                                                                                                                            }
                                                                                                                                                                                                            §§goto(addr499);
                                                                                                                                                                                                         }
                                                                                                                                                                                                      }
                                                                                                                                                                                                      §§goto(addr440);
                                                                                                                                                                                                   }
                                                                                                                                                                                                   §§goto(addr479);
                                                                                                                                                                                                }
                                                                                                                                                                                                §§goto(addr499);
                                                                                                                                                                                             }
                                                                                                                                                                                             §§goto(addr523);
                                                                                                                                                                                          }
                                                                                                                                                                                          §§goto(addr517);
                                                                                                                                                                                       }
                                                                                                                                                                                       §§goto(addr499);
                                                                                                                                                                                    }
                                                                                                                                                                                    §§goto(addr445);
                                                                                                                                                                                 }
                                                                                                                                                                                 §§goto(addr485);
                                                                                                                                                                              }
                                                                                                                                                                              §§goto(addr371);
                                                                                                                                                                           }
                                                                                                                                                                           §§goto(addr340);
                                                                                                                                                                        }
                                                                                                                                                                        §§goto(addr405);
                                                                                                                                                                     }
                                                                                                                                                                     §§goto(addr340);
                                                                                                                                                                  }
                                                                                                                                                                  §§goto(addr499);
                                                                                                                                                               }
                                                                                                                                                               §§goto(addr320);
                                                                                                                                                            }
                                                                                                                                                            §§goto(addr440);
                                                                                                                                                         }
                                                                                                                                                         §§goto(addr267);
                                                                                                                                                      }
                                                                                                                                                      §§goto(addr408);
                                                                                                                                                   }
                                                                                                                                                   §§goto(addr550);
                                                                                                                                                }
                                                                                                                                                else
                                                                                                                                                {
                                                                                                                                                   addr235:
                                                                                                                                                   _loc11_ = new ZPlayer() as MovieClip;
                                                                                                                                                   if(_loc19_)
                                                                                                                                                   {
                                                                                                                                                      pmcs[_loc10_ + "_mc"] = _loc11_;
                                                                                                                                                   }
                                                                                                                                                }
                                                                                                                                                §§goto(addr250);
                                                                                                                                             }
                                                                                                                                             else
                                                                                                                                             {
                                                                                                                                                _loc13_ = true;
                                                                                                                                                §§goto(addr235);
                                                                                                                                             }
                                                                                                                                          }
                                                                                                                                          §§push(_loc10_);
                                                                                                                                          if(_loc19_)
                                                                                                                                          {
                                                                                                                                             addr203:
                                                                                                                                             if(!(§§pop() in ao))
                                                                                                                                             {
                                                                                                                                                if(_loc19_)
                                                                                                                                                {
                                                                                                                                                   ao[_loc10_] = new Object();
                                                                                                                                                   addr214:
                                                                                                                                                   §§push(_loc10_);
                                                                                                                                                }
                                                                                                                                                §§goto(addr235);
                                                                                                                                             }
                                                                                                                                             §§goto(addr214);
                                                                                                                                          }
                                                                                                                                          addr217:
                                                                                                                                          §§goto(addr219);
                                                                                                                                          §§push(§§pop() + "_mc" in pmcs);
                                                                                                                                       }
                                                                                                                                       §§goto(addr214);
                                                                                                                                    }
                                                                                                                                    §§goto(addr217);
                                                                                                                                 }
                                                                                                                                 §§goto(addr235);
                                                                                                                              }
                                                                                                                              §§goto(addr192);
                                                                                                                           }
                                                                                                                           §§goto(addr198);
                                                                                                                        }
                                                                                                                        §§goto(addr192);
                                                                                                                     }
                                                                                                                  }
                                                                                                               }
                                                                                                               §§goto(addr179);
                                                                                                            }
                                                                                                            §§goto(addr203);
                                                                                                         }
                                                                                                         §§goto(addr184);
                                                                                                      }
                                                                                                      §§goto(addr148);
                                                                                                   }
                                                                                                   §§goto(addr219);
                                                                                                }
                                                                                                §§goto(addr203);
                                                                                             }
                                                                                             §§goto(addr148);
                                                                                          }
                                                                                          §§goto(addr115);
                                                                                       }
                                                                                       §§goto(addr217);
                                                                                    }
                                                                                    §§goto(addr106);
                                                                                 }
                                                                                 §§goto(addr109);
                                                                              }
                                                                              if(_loc19_)
                                                                              {
                                                                                 trace(battlelist);
                                                                                 trace(type);
                                                                                 charn = pChars.length;
                                                                                 trace("pChars: " + pChars);
                                                                                 trace("numchildren: " + numChildren);
                                                                                 if(instance)
                                                                                 {
                                                                                    if(!_loc18_)
                                                                                    {
                                                                                       q.stoploading();
                                                                                       addr605:
                                                                                       cleargame();
                                                                                       if(_loc19_)
                                                                                       {
                                                                                          gotoAndStop(4);
                                                                                       }
                                                                                    }
                                                                                    §§goto(addr605);
                                                                                 }
                                                                                 return;
                                                                              }
                                                                              §§goto(addr605);
                                                                           }
                                                                           §§goto(addr42);
                                                                        });
                                                                        if(!_loc5_)
                                                                        {
                                                                        }
                                                                        §§goto(addr487);
                                                                     }
                                                                     addr454:
                                                                  }
                                                                  c.addMessageHandler("Action",function(param1:Message, param2:String, param3:String):void
                                                                  {
                                                                     var _loc5_:Boolean = false;
                                                                     var _loc6_:Boolean = true;
                                                                     if(param2 == pChar.key)
                                                                     {
                                                                        return;
                                                                     }
                                                                     var _loc4_:MovieClip;
                                                                     §§push(!(_loc4_ = pmcs[param2 + "_mc"]));
                                                                     if(!_loc5_)
                                                                     {
                                                                        if(!§§pop())
                                                                        {
                                                                           if(!_loc5_)
                                                                           {
                                                                              §§goto(addr26);
                                                                           }
                                                                        }
                                                                        §§goto(addr33);
                                                                     }
                                                                     addr26:
                                                                     §§pop();
                                                                     if(!_loc5_)
                                                                     {
                                                                        addr33:
                                                                        if(_loc4_.stage == null)
                                                                        {
                                                                           if(!_loc5_)
                                                                           {
                                                                              return;
                                                                           }
                                                                        }
                                                                        else
                                                                        {
                                                                           _loc4_.actionchain = param3;
                                                                        }
                                                                     }
                                                                  });
                                                               }
                                                               §§goto(addr466);
                                                            }
                                                            addr487:
                                                            return;
                                                         }
                                                         §§goto(addr466);
                                                      }
                                                      §§goto(addr474);
                                                   }
                                                   §§goto(addr424);
                                                }
                                                §§goto(addr435);
                                             }
                                             c.addMessageHandler("StopMine",function(param1:Message, param2:String):void
                                             {
                                                var _loc4_:Boolean = true;
                                                var _loc5_:Boolean = false;
                                                var _loc3_:MovieClip = pmcs[param2 + "_mc"];
                                                if(_loc4_)
                                                {
                                                   if(!_loc3_)
                                                   {
                                                      if(_loc4_)
                                                      {
                                                         return;
                                                      }
                                                   }
                                                   else
                                                   {
                                                      _loc3_.stopmine = true;
                                                   }
                                                }
                                             });
                                             c.addMessageHandler("DeclaredWar",function(param1:Message):void
                                             {
                                                tip(15);
                                             });
                                             c.addMessageHandler("GuildInvite",this.invitedguild);
                                             if(_loc5_)
                                             {
                                                c.addMessageHandler("Equip",this.refreshequip);
                                                if(_loc5_)
                                                {
                                                   c.addMessageHandler("QuestCompleted",this.questcompleted);
                                                   if(_loc5_)
                                                   {
                                                      addr311:
                                                      c.addMessageHandler("QuestDone",function(param1:Message, param2:int, param3:Boolean = false):void
                                                      {
                                                         var _loc4_:Boolean = false;
                                                         var _loc5_:Boolean = true;
                                                         if(!param3)
                                                         {
                                                            if(_loc5_)
                                                            {
                                                               questdone(param2);
                                                               if(!_loc4_)
                                                               {
                                                                  checkQuests();
                                                                  if(!_loc5_)
                                                                  {
                                                                  }
                                                                  §§goto(addr26);
                                                               }
                                                            }
                                                         }
                                                         else
                                                         {
                                                            updatequeue.push("QuestDone:" + param2);
                                                         }
                                                         addr26:
                                                      });
                                                      c.addMessageHandler("QuestState",function(param1:Message, param2:String, param3:int, param4:Boolean = false):void
                                                      {
                                                         var _loc5_:Boolean = true;
                                                         var _loc6_:Boolean = false;
                                                         if(!param4)
                                                         {
                                                            if(_loc5_)
                                                            {
                                                               queststate(param2,param3);
                                                               if(!_loc5_)
                                                               {
                                                               }
                                                               §§goto(addr26);
                                                            }
                                                         }
                                                         else
                                                         {
                                                            updatequeue.push("QuestState:" + param2 + "-" + param3);
                                                         }
                                                         addr26:
                                                      });
                                                      if(_loc5_)
                                                      {
                                                         addr324:
                                                         c.addMessageHandler("QuestInfo",function(param1:Message, param2:String, param3:String):void
                                                         {
                                                            var _loc14_:Boolean = false;
                                                            var _loc15_:Boolean = true;
                                                            var _loc11_:* = null;
                                                            var _loc12_:MovieClip = null;
                                                            var _loc4_:Object = quests[param2] = new Object();
                                                            var _loc5_:Vector.<String> = Vector.<String>(param3.split(";"));
                                                            _loc4_.Level = _loc5_[0];
                                                            if(_loc15_)
                                                            {
                                                               _loc4_.Info = _loc5_[1].split("_")[0];
                                                               if(!_loc14_)
                                                               {
                                                                  addr51:
                                                                  _loc4_.Speech = Vector.<String>([_loc5_[1].split("_")[1],_loc5_[1].split("_")[2]]);
                                                                  _loc4_.XP = _loc5_[2];
                                                                  _loc4_.Money = _loc5_[3];
                                                                  if(_loc15_)
                                                                  {
                                                                     _loc4_.Items = Vector.<String>(_loc5_[4].split(","));
                                                                  }
                                                               }
                                                               var _loc6_:* = 5;
                                                               if(_loc15_)
                                                               {
                                                                  if(_loc5_.length <= 6)
                                                                  {
                                                                     if(!_loc14_)
                                                                     {
                                                                        §§push(-1);
                                                                        if(!_loc14_)
                                                                        {
                                                                           _loc6_ = §§pop();
                                                                           addr114:
                                                                           §§push(5);
                                                                        }
                                                                        var _loc7_:* = §§pop();
                                                                        if(_loc15_)
                                                                        {
                                                                           §§push(_loc6_);
                                                                           if(_loc15_)
                                                                           {
                                                                              §§push(5);
                                                                              if(_loc15_)
                                                                              {
                                                                                 if(§§pop() == §§pop())
                                                                                 {
                                                                                    if(_loc15_)
                                                                                    {
                                                                                       §§push(6);
                                                                                       if(!_loc14_)
                                                                                       {
                                                                                          addr133:
                                                                                          _loc7_ = §§pop();
                                                                                          if(_loc15_)
                                                                                          {
                                                                                             §§goto(addr138);
                                                                                          }
                                                                                          §§goto(addr142);
                                                                                       }
                                                                                       addr138:
                                                                                       §§goto(addr137);
                                                                                    }
                                                                                    addr137:
                                                                                    §§goto(addr139);
                                                                                 }
                                                                                 §§goto(addr138);
                                                                              }
                                                                              addr139:
                                                                              if(_loc6_ == 5)
                                                                              {
                                                                                 if(!_loc14_)
                                                                                 {
                                                                                    addr142:
                                                                                    §§push(_loc5_[_loc6_]);
                                                                                    if(!_loc14_)
                                                                                    {
                                                                                       §§push(§§pop().split("=")[0]);
                                                                                    }
                                                                                    _loc11_ = §§pop();
                                                                                    if(_loc15_)
                                                                                    {
                                                                                       _loc4_["Items" + _loc11_] = Vector.<String>(_loc5_[_loc6_].split("=")[1].split(","));
                                                                                    }
                                                                                 }
                                                                              }
                                                                              var _loc8_:Vector.<String>;
                                                                              var _loc9_:int = (_loc8_ = Vector.<String>(_loc5_[_loc7_].split("/"))).length;
                                                                              if(_loc15_)
                                                                              {
                                                                                 _loc4_.Stages = _loc9_;
                                                                              }
                                                                              var _loc10_:int = 1;
                                                                              if(_loc15_)
                                                                              {
                                                                                 while(_loc10_ <= _loc9_)
                                                                                 {
                                                                                    _loc4_["Stage" + _loc10_] = _loc8_[_loc10_ - 1];
                                                                                    if(!_loc14_)
                                                                                    {
                                                                                       _loc10_++;
                                                                                    }
                                                                                 }
                                                                                 §§push(Boolean(questtalk));
                                                                                 if(_loc15_)
                                                                                 {
                                                                                    §§push(§§pop());
                                                                                    if(!_loc14_)
                                                                                    {
                                                                                       if(§§pop())
                                                                                       {
                                                                                          if(_loc15_)
                                                                                          {
                                                                                             §§pop();
                                                                                             if(!_loc14_)
                                                                                             {
                                                                                                §§push(questtalk.qname == param2);
                                                                                                if(_loc15_)
                                                                                                {
                                                                                                   §§goto(addr240);
                                                                                                }
                                                                                                §§goto(addr292);
                                                                                             }
                                                                                             §§goto(addr241);
                                                                                          }
                                                                                          §§goto(addr292);
                                                                                       }
                                                                                       §§goto(addr240);
                                                                                    }
                                                                                    §§goto(addr292);
                                                                                 }
                                                                                 addr240:
                                                                                 if(§§pop())
                                                                                 {
                                                                                    addr241:
                                                                                    (_loc12_ = new QuestTalk() as MovieClip).x = 231.5;
                                                                                    _loc12_.y = 91.6;
                                                                                    addChildAt(_loc12_,getChildIndex(mouse));
                                                                                    trace("added mc");
                                                                                    if(!_loc14_)
                                                                                    {
                                                                                       _loc12_.quest = questtalk.quest;
                                                                                    }
                                                                                    _loc12_.qname = param2;
                                                                                    _loc12_.a = questtalk.a;
                                                                                    if(_loc15_)
                                                                                    {
                                                                                       _loc12_.done = questtalk.done;
                                                                                       _loc12_.npc = questtalk.npc;
                                                                                    }
                                                                                    questtalk = _loc12_;
                                                                                 }
                                                                                 §§push(Boolean(questlog));
                                                                                 if(!_loc14_)
                                                                                 {
                                                                                    addr292:
                                                                                    if(§§pop())
                                                                                    {
                                                                                       if(!_loc14_)
                                                                                       {
                                                                                          §§pop();
                                                                                          §§push(questlog.questdisplay.split("_")[0].split("*")[0] == param2);
                                                                                       }
                                                                                    }
                                                                                 }
                                                                                 if(§§pop())
                                                                                 {
                                                                                    questlog.display();
                                                                                 }
                                                                                 §§goto(addr313);
                                                                              }
                                                                              addr313:
                                                                              return;
                                                                           }
                                                                           §§goto(addr133);
                                                                        }
                                                                        §§goto(addr138);
                                                                     }
                                                                  }
                                                               }
                                                               §§goto(addr114);
                                                            }
                                                            §§goto(addr51);
                                                         });
                                                         c.addMessageHandler("WarehouseSlots",function(param1:Message, param2:int):void
                                                         {
                                                            var _loc3_:Boolean = false;
                                                            var _loc4_:Boolean = true;
                                                            account.WarehouseSlots = param2;
                                                            if(_loc4_)
                                                            {
                                                               if(warehousemc)
                                                               {
                                                                  if(!_loc3_)
                                                                  {
                                                                     addr14:
                                                                     warehousemc.listinv();
                                                                  }
                                                               }
                                                               return;
                                                            }
                                                            §§goto(addr14);
                                                         });
                                                         if(!_loc6_)
                                                         {
                                                            §§goto(addr336);
                                                         }
                                                         §§goto(addr424);
                                                      }
                                                      §§goto(addr387);
                                                   }
                                                   §§goto(addr454);
                                                }
                                                §§goto(addr474);
                                             }
                                             §§goto(addr424);
                                          }
                                          §§goto(addr336);
                                       }
                                    }
                                    §§goto(addr217);
                                 }
                                 §§goto(addr206);
                              }
                              §§goto(addr181);
                           }
                           §§goto(addr324);
                        }
                        §§goto(addr230);
                     }
                     §§goto(addr311);
                  }
                  §§goto(addr387);
               }
               §§goto(addr200);
            }
            §§goto(addr381);
         }
         §§goto(addr200);
      }
      
      public function rastere(param1:MovieClip) : void
      {
         var _loc3_:Boolean = false;
         var _loc4_:Boolean = true;
         if(_loc4_)
         {
            trace(param1.pname + "_e");
            if(_loc4_)
            {
               trace(this.ao[param1.pname + "_e"]);
            }
         }
         var _loc2_:Object = this.ao[param1.pname + "_e"];
         if(_loc4_)
         {
            _loc2_.Name = new String(param1.pname);
            if(!_loc3_)
            {
               _loc2_.enemy = new Boolean(true);
               if(_loc4_)
               {
                  addr77:
                  this.q.rasterizeToVectorIns(param1.getChildAt(0),"",_loc2_,param1.getChildAt(0).totalFrames,1);
               }
               param1 = null;
               return;
            }
         }
         §§goto(addr77);
      }
      
      public function displaygold() : void
      {
         var _loc1_:Boolean = false;
         var _loc2_:Boolean = true;
         if(_loc2_)
         {
            §§push(Boolean(this.shopmc));
            if(_loc2_)
            {
               if(§§pop())
               {
                  if(_loc2_)
                  {
                     addr36:
                     §§pop();
                     if(!_loc1_)
                     {
                        §§goto(addr50);
                     }
                     §§goto(addr53);
                  }
               }
               addr50:
               §§goto(addr39);
            }
            §§goto(addr36);
         }
         addr39:
         if(this.shopmc.goldtxt)
         {
            if(_loc2_)
            {
               addr53:
               this.shopmc.goldtxt.text = root.getTxt("Gold",this.shopmc.goldtxt) + " " + root.client.payVault.coins;
            }
         }
      }
      
      public function raster(param1:MovieClip, param2:String, param3:Function, param4:String = "City", param5:Boolean = false, param6:int = -1) : void
      {
         var _loc12_:Boolean = true;
         var _loc13_:Boolean = false;
         var _loc10_:uint = 0;
         var _loc7_:Object;
         (_loc7_ = this.ao[param1.pname]).Name = param1.pname;
         var _loc8_:MovieClip;
         (_loc8_ = new ZPlayer() as MovieClip).visible = false;
         if(_loc12_)
         {
            addChild(_loc8_);
            _loc8_.gotoAndStop(param1.pclass);
            if(_loc12_)
            {
               _loc8_.real = param1;
               _loc8_.pskin = param1.pskin;
               if(_loc12_)
               {
                  _loc8_.pequip = param1.pequip;
                  addr63:
                  _loc8_.pface = param1.pface;
                  addr67:
                  _loc8_.pclass = param1.pclass;
                  §§push(param5);
                  if(_loc12_)
                  {
                     if(§§pop())
                     {
                        if(!_loc13_)
                        {
                           addr78:
                           (_loc7_ = this.ao[param1.pname] = new Object()).overwrite = true;
                           if(_loc12_)
                           {
                              addr111:
                              trace(param1.pname);
                              trace("raster: " + _loc7_["standing2"]);
                              if(_loc12_)
                              {
                                 if(param6 > 0)
                                 {
                                    _loc10_ = getTimer();
                                    if(_loc12_)
                                    {
                                       addr140:
                                       this.q.rasterizeToVectorIns(_loc8_.getChildAt(0),"",_loc7_,param6,param6,null,this.setVisual,param1);
                                       _loc8_.getChildAt(0).stop();
                                       if(!_loc12_)
                                       {
                                       }
                                       §§goto(addr164);
                                    }
                                    removeChild(_loc8_);
                                    addr164:
                                    _loc8_ = null;
                                    if(_loc12_)
                                    {
                                       trace("Raster time: " + getTimer() - _loc10_);
                                    }
                                    return;
                                 }
                                 §§push(this.q.rasterizeToVector);
                                 if(_loc12_)
                                 {
                                    §§push(§§pop());
                                 }
                                 var _loc9_:* = §§pop();
                                 if(!_loc13_)
                                 {
                                    §§push(param2);
                                    if(!_loc13_)
                                    {
                                       §§push("instant");
                                       if(!_loc13_)
                                       {
                                          if(§§pop() == §§pop())
                                          {
                                             §§push(this.q.rasterizeToVectorIns);
                                             if(_loc12_)
                                             {
                                                §§push(§§pop());
                                                if(!_loc13_)
                                                {
                                                   addr206:
                                                   _loc9_ = §§pop();
                                                   if(param4 == "City")
                                                   {
                                                      if(!_loc13_)
                                                      {
                                                         §§push(_loc9_);
                                                         if(_loc12_)
                                                         {
                                                            addr215:
                                                            §§pop()(_loc8_.getChildAt(0),"",_loc7_,1,1,param3,this.setVisual,param1);
                                                            addr266:
                                                            _loc8_.real = null;
                                                         }
                                                         else
                                                         {
                                                            §§pop()(_loc8_.getChildAt(0),"",_loc7_,4,1,param3,this.setVisual,param1);
                                                            addr242:
                                                            if(_loc12_)
                                                            {
                                                               §§goto(addr266);
                                                            }
                                                         }
                                                         §§goto(addr269);
                                                      }
                                                      §§goto(addr266);
                                                   }
                                                   else
                                                   {
                                                      trace("Rastering all frames");
                                                      if(_loc12_)
                                                      {
                                                         stage.quality = "high";
                                                         if(_loc12_)
                                                         {
                                                            addr241:
                                                            §§goto(addr242);
                                                            §§push(_loc9_);
                                                         }
                                                         addr269:
                                                         this.q.toggleMC(_loc8_,"stop");
                                                         if(!_loc13_)
                                                         {
                                                            addr277:
                                                            this.q.remove(_loc8_);
                                                         }
                                                         _loc8_ = null;
                                                         return;
                                                      }
                                                   }
                                                   §§goto(addr277);
                                                }
                                                §§goto(addr215);
                                             }
                                          }
                                       }
                                    }
                                    §§goto(addr206);
                                 }
                                 §§goto(addr241);
                              }
                           }
                           §§goto(addr140);
                        }
                     }
                     else
                     {
                        §§push("overwrite" in this.ao);
                        if(!_loc13_)
                        {
                           addr104:
                           if(§§pop())
                           {
                              if(!_loc13_)
                              {
                                 §§push(delete this.ao.overwrite);
                              }
                           }
                           §§goto(addr111);
                        }
                        §§pop();
                     }
                     §§goto(addr111);
                  }
                  §§goto(addr104);
               }
               §§goto(addr78);
            }
            §§goto(addr67);
         }
         §§goto(addr63);
      }
      
      public function setVisual(param1:MovieClip, param2:MovieClip = null, param3:Boolean = false) : void
      {
         var _loc20_:Boolean = true;
         var _loc21_:Boolean = false;
         var _loc7_:MovieClip = null;
         var _loc10_:MovieClip = null;
         var _loc11_:* = 0;
         var _loc12_:MovieClip = null;
         var _loc15_:MovieClip = null;
         var _loc16_:Shape = null;
         var _loc17_:Shape = null;
         var _loc18_:Matrix = null;
         var _loc19_:* = undefined;
         var _loc4_:String = param1.pclass;
         if(!_loc21_)
         {
            if(param2 == null)
            {
               addr50:
               param1 = param1.parent;
               param2 = param1;
            }
            var _loc5_:uint = param2.pskin;
            var _loc6_:uint = param2.pface;
            if(!_loc21_)
            {
               §§push(Boolean(param2.pclass));
               if(!_loc21_)
               {
                  if(§§pop())
                  {
                     if(!_loc21_)
                     {
                        §§pop();
                        if(!_loc21_)
                        {
                           addr84:
                           if(param1 is ZPlayer)
                           {
                              if(_loc20_)
                              {
                                 addr88:
                                 _loc4_ = param2.pclass;
                                 if(!_loc20_)
                                 {
                                 }
                                 addr101:
                                 if(param1.a)
                                 {
                                    addr104:
                                    _loc7_ = param1.a;
                                 }
                                 else
                                 {
                                    _loc7_ = param1.getChildAt(0);
                                 }
                                 var _loc8_:MovieClip;
                                 (_loc8_ = _loc7_.getChildAt(0)).head.gotoAndStop(_loc6_);
                                 if(!_loc21_)
                                 {
                                    if(_loc8_.ikNode_37)
                                    {
                                       if(!_loc21_)
                                       {
                                          _loc8_.ikNode_37.gotoAndStop(_loc6_);
                                       }
                                    }
                                 }
                                 var _loc9_:String = param1.pequip[1].split("_")[0];
                                 if(param1.pequip[6] !== "None")
                                 {
                                    if(!_loc21_)
                                    {
                                       _loc9_ = param1.pequip[6].split("_")[0];
                                       if(_loc20_)
                                       {
                                          addr166:
                                          _loc8_.hat.gotoAndStop(_loc9_);
                                          if(_loc20_)
                                          {
                                             addr173:
                                             if(_loc8_.wep)
                                             {
                                                if(_loc20_)
                                                {
                                                   addr178:
                                                   _loc10_ = _loc8_.wep;
                                                   addr182:
                                                   if(_loc8_.weapon)
                                                   {
                                                      addr185:
                                                      _loc10_ = _loc8_.weapon;
                                                   }
                                                   if(_loc8_.wep1)
                                                   {
                                                      _loc10_ = _loc8_.wep1;
                                                   }
                                                   if(_loc10_)
                                                   {
                                                      addr198:
                                                      _loc10_.gotoAndStop(param1.pequip[2].split("_")[0]);
                                                   }
                                                   §§push(1);
                                                   if(!_loc21_)
                                                   {
                                                      _loc11_ = §§pop();
                                                      while(true)
                                                      {
                                                         §§push(_loc11_);
                                                      }
                                                      addr243:
                                                   }
                                                   for(; §§pop() <= 3; §§goto(addr243))
                                                   {
                                                      if(!_loc10_)
                                                      {
                                                         break;
                                                      }
                                                      if(!(_loc15_ = _loc10_["blend" + _loc11_]))
                                                      {
                                                         if(!_loc21_)
                                                         {
                                                            break;
                                                         }
                                                      }
                                                      else if(_loc15_.stage !== null)
                                                      {
                                                         if(_loc20_)
                                                         {
                                                            _loc15_.parent.removeChild(_loc15_);
                                                            if(_loc21_)
                                                            {
                                                               continue;
                                                            }
                                                         }
                                                      }
                                                      _loc11_++;
                                                   }
                                                   if(_loc8_.wep2)
                                                   {
                                                      _loc12_ = _loc8_.wep2;
                                                   }
                                                   if(_loc8_.weapon2)
                                                   {
                                                      _loc12_ = _loc8_.weapon2;
                                                   }
                                                   if(_loc8_.shield)
                                                   {
                                                      _loc12_ = _loc8_.shield;
                                                   }
                                                   if(_loc12_)
                                                   {
                                                      if(!_loc21_)
                                                      {
                                                         §§push(_loc4_);
                                                         if(_loc20_)
                                                         {
                                                            §§push("Samurai");
                                                            if(!_loc21_)
                                                            {
                                                               if(§§pop() !== §§pop())
                                                               {
                                                                  _loc12_.gotoAndStop(param1.pequip[4].split("_")[0]);
                                                                  addr303:
                                                                  §§push(1);
                                                                  if(_loc20_)
                                                                  {
                                                                     _loc11_ = §§pop();
                                                                     while(true)
                                                                     {
                                                                        §§push(_loc11_);
                                                                     }
                                                                     addr354:
                                                                  }
                                                                  for(; §§pop() <= 3; §§goto(addr354))
                                                                  {
                                                                     trace("wep 2 blend " + _loc11_);
                                                                     _loc15_ = _loc12_["blend" + _loc11_];
                                                                     if(_loc20_)
                                                                     {
                                                                        trace(_loc15_);
                                                                        if(!_loc21_)
                                                                        {
                                                                           if(!_loc15_)
                                                                           {
                                                                              if(!_loc21_)
                                                                              {
                                                                                 addr333:
                                                                                 break;
                                                                              }
                                                                              addr347:
                                                                              _loc15_.parent.removeChild(_loc15_);
                                                                              if(_loc21_)
                                                                              {
                                                                                 continue;
                                                                              }
                                                                           }
                                                                           else if(_loc15_.stage !== null)
                                                                           {
                                                                              if(_loc20_)
                                                                              {
                                                                                 §§goto(addr347);
                                                                              }
                                                                           }
                                                                        }
                                                                        _loc11_++;
                                                                        continue;
                                                                     }
                                                                     §§goto(addr333);
                                                                  }
                                                                  §§push(_loc4_);
                                                                  if(!_loc21_)
                                                                  {
                                                                     addr361:
                                                                     §§push(§§pop() == "Samurai");
                                                                     if(_loc20_)
                                                                     {
                                                                        if(§§pop())
                                                                        {
                                                                           if(!_loc21_)
                                                                           {
                                                                              addr370:
                                                                              §§pop();
                                                                              addr527:
                                                                              if(_loc20_)
                                                                              {
                                                                                 addr373:
                                                                                 §§push(param3);
                                                                                 if(!_loc21_)
                                                                                 {
                                                                                    §§push(!§§pop());
                                                                                 }
                                                                              }
                                                                              var _loc13_:String = param1.pequip[0].split("_")[0];
                                                                              if(!_loc21_)
                                                                              {
                                                                                 if(param1.pequip[5] !== "None")
                                                                                 {
                                                                                    if(!_loc21_)
                                                                                    {
                                                                                       _loc13_ = param1.pequip[5].split("_")[0];
                                                                                       if(!_loc20_)
                                                                                       {
                                                                                       }
                                                                                       addr566:
                                                                                       var _loc14_:uint = _loc8_.body.currentFrame;
                                                                                       if(_loc8_.hand1)
                                                                                       {
                                                                                          _loc8_.hand1.gotoAndStop(_loc14_);
                                                                                       }
                                                                                       if(_loc8_.hand2)
                                                                                       {
                                                                                          if(!_loc21_)
                                                                                          {
                                                                                             _loc8_.hand2.gotoAndStop(_loc14_);
                                                                                             if(_loc20_)
                                                                                             {
                                                                                                addr591:
                                                                                                if(_loc8_.arm1)
                                                                                                {
                                                                                                   _loc8_.arm1.gotoAndStop(_loc14_);
                                                                                                }
                                                                                                if(_loc8_.arm2)
                                                                                                {
                                                                                                   _loc8_.arm2.gotoAndStop(_loc14_);
                                                                                                   if(!_loc20_)
                                                                                                   {
                                                                                                   }
                                                                                                   §§goto(addr695);
                                                                                                }
                                                                                                if(_loc8_.fist1)
                                                                                                {
                                                                                                   _loc8_.fist1.gotoAndStop(_loc14_);
                                                                                                   addr614:
                                                                                                   if(_loc8_.fist2)
                                                                                                   {
                                                                                                      _loc8_.fist2.gotoAndStop(_loc14_);
                                                                                                   }
                                                                                                   if(_loc8_.leg1)
                                                                                                   {
                                                                                                      _loc8_.leg1.gotoAndStop(_loc14_);
                                                                                                   }
                                                                                                   if(_loc8_.leg2)
                                                                                                   {
                                                                                                      if(_loc20_)
                                                                                                      {
                                                                                                         _loc8_.leg2.gotoAndStop(_loc14_);
                                                                                                         if(!_loc21_)
                                                                                                         {
                                                                                                            addr639:
                                                                                                            if(_loc8_.leg3)
                                                                                                            {
                                                                                                               _loc8_.leg3.gotoAndStop(_loc14_);
                                                                                                            }
                                                                                                            if(_loc8_.leg4)
                                                                                                            {
                                                                                                               _loc8_.leg4.gotoAndStop(_loc14_);
                                                                                                            }
                                                                                                            if(_loc8_.foot1)
                                                                                                            {
                                                                                                               if(!_loc21_)
                                                                                                               {
                                                                                                                  _loc8_.foot1.gotoAndStop(_loc14_);
                                                                                                                  if(!_loc21_)
                                                                                                                  {
                                                                                                                     addr672:
                                                                                                                     if(_loc8_.foot2)
                                                                                                                     {
                                                                                                                        if(_loc20_)
                                                                                                                        {
                                                                                                                           _loc8_.foot2.gotoAndStop(_loc14_);
                                                                                                                           addr682:
                                                                                                                           if(_loc8_.dress)
                                                                                                                           {
                                                                                                                              addr685:
                                                                                                                              _loc8_.dress.gotoAndStop(_loc14_);
                                                                                                                              if(_loc21_)
                                                                                                                              {
                                                                                                                              }
                                                                                                                              §§goto(addr695);
                                                                                                                           }
                                                                                                                        }
                                                                                                                        this.generateSkin(_loc7_,_loc5_);
                                                                                                                        §§goto(addr695);
                                                                                                                     }
                                                                                                                     §§goto(addr682);
                                                                                                                  }
                                                                                                                  §§goto(addr685);
                                                                                                               }
                                                                                                            }
                                                                                                         }
                                                                                                         §§goto(addr695);
                                                                                                      }
                                                                                                      §§goto(addr672);
                                                                                                   }
                                                                                                   §§goto(addr639);
                                                                                                }
                                                                                                §§goto(addr614);
                                                                                             }
                                                                                             addr695:
                                                                                             return;
                                                                                          }
                                                                                          §§goto(addr614);
                                                                                       }
                                                                                       §§goto(addr591);
                                                                                    }
                                                                                 }
                                                                                 _loc8_.body.gotoAndStop(_loc13_);
                                                                              }
                                                                              §§goto(addr566);
                                                                           }
                                                                        }
                                                                        if(§§pop())
                                                                        {
                                                                           if(!_loc21_)
                                                                           {
                                                                              if(!_loc8_.s1)
                                                                              {
                                                                                 if(!_loc21_)
                                                                                 {
                                                                                    _loc8_.s1 = new Shape();
                                                                                    if(!_loc21_)
                                                                                    {
                                                                                       _loc8_.addChild(_loc8_.s1);
                                                                                       if(!_loc20_)
                                                                                       {
                                                                                       }
                                                                                    }
                                                                                    §§goto(addr527);
                                                                                 }
                                                                                 addr412:
                                                                                 _loc16_ = _loc8_.s1;
                                                                                 _loc17_ = _loc8_.s2;
                                                                                 (_loc18_ = _loc8_.wep1.p.transform.matrix).concat(_loc8_.wep1.transform.matrix);
                                                                                 (_loc19_ = _loc8_.wep2.p.transform.matrix).concat(_loc8_.wep2.transform.matrix);
                                                                                 _loc16_.graphics.clear();
                                                                                 _loc17_.graphics.clear();
                                                                                 if(!_loc21_)
                                                                                 {
                                                                                    _loc16_.graphics.lineStyle(0,0,0.5);
                                                                                    if(!_loc21_)
                                                                                    {
                                                                                       _loc16_.graphics.moveTo(_loc18_.tx,_loc18_.ty);
                                                                                       if(!_loc8_.mp)
                                                                                       {
                                                                                          _loc16_.graphics.lineTo(_loc8_.fist1.x,_loc8_.fist1.y);
                                                                                       }
                                                                                       else
                                                                                       {
                                                                                          _loc16_.graphics.curveTo(_loc8_.mp.x,_loc8_.mp.y,_loc19_.tx,_loc19_.ty);
                                                                                          addr523:
                                                                                          _loc8_.bag.gotoAndStop("None");
                                                                                          §§goto(addr527);
                                                                                       }
                                                                                    }
                                                                                    §§goto(addr523);
                                                                                 }
                                                                                 _loc17_.graphics.lineStyle(0,0,0.5);
                                                                                 if(_loc20_)
                                                                                 {
                                                                                    _loc17_.graphics.moveTo(_loc19_.tx,_loc19_.ty);
                                                                                    if(_loc20_)
                                                                                    {
                                                                                       _loc17_.graphics.lineTo(_loc8_.fist1.x,_loc8_.fist1.y);
                                                                                    }
                                                                                 }
                                                                                 §§goto(addr523);
                                                                              }
                                                                              if(!_loc8_.s2)
                                                                              {
                                                                                 _loc8_.s2 = new Shape();
                                                                                 _loc8_.addChild(_loc8_.s2);
                                                                                 if(_loc21_)
                                                                                 {
                                                                                 }
                                                                                 §§goto(addr527);
                                                                              }
                                                                           }
                                                                           §§goto(addr412);
                                                                        }
                                                                        §§goto(addr523);
                                                                     }
                                                                  }
                                                                  §§goto(addr370);
                                                               }
                                                               else
                                                               {
                                                                  _loc12_.gotoAndStop(param1.pequip[2].split("_")[0]);
                                                                  if(!_loc21_)
                                                                  {
                                                                     §§goto(addr303);
                                                                  }
                                                               }
                                                               §§goto(addr370);
                                                            }
                                                            §§goto(addr361);
                                                         }
                                                         §§goto(addr370);
                                                      }
                                                      §§goto(addr373);
                                                   }
                                                   §§goto(addr303);
                                                }
                                                §§goto(addr198);
                                             }
                                             §§goto(addr182);
                                          }
                                          §§goto(addr185);
                                       }
                                       §§goto(addr173);
                                    }
                                    §§goto(addr178);
                                 }
                                 §§goto(addr166);
                              }
                              param1.gotoAndStop(param2.pclass);
                              if(!_loc21_)
                              {
                                 §§goto(addr101);
                              }
                              §§goto(addr104);
                           }
                        }
                        §§goto(addr101);
                     }
                  }
               }
               §§goto(addr84);
            }
            §§goto(addr88);
         }
         §§goto(addr50);
      }
      
      public function afterraster(param1:MovieClip) : void
      {
         var _loc2_:Boolean = true;
         var _loc3_:Boolean = false;
         param1.rasterdone = true;
         if(!_loc3_)
         {
            if(param1.ar)
            {
               param1.ar.stop();
               param1.ar.destroy();
               if(_loc2_)
               {
                  param1.ar = null;
                  if(_loc2_)
                  {
                     addr38:
                     if(param1.arold)
                     {
                        if(!_loc3_)
                        {
                           param1.arold.stop();
                           if(_loc2_)
                           {
                              addr48:
                              param1.arold.destroy();
                              param1.arold = null;
                              if(_loc2_)
                              {
                                 addr57:
                                 param1.calc();
                                 stage.quality = "low";
                                 trace("rastered " + param1.pname);
                                 §§push(Boolean(this.lobbymc));
                                 §§push(Boolean(this.lobbymc));
                                 if(!_loc3_)
                                 {
                                    if(§§pop())
                                    {
                                       if(!_loc3_)
                                       {
                                          §§pop();
                                          if(_loc2_)
                                          {
                                             addr91:
                                             if(this.updateLobby)
                                             {
                                                if(_loc2_)
                                                {
                                                   addr94:
                                                   this.lobbymc.generate();
                                                   addr97:
                                                   if(param1.pname == this.pChar.key)
                                                   {
                                                      addr103:
                                                      this.generatePI(param1,true);
                                                      if(_loc2_)
                                                      {
                                                         §§goto(addr109);
                                                      }
                                                      §§goto(addr143);
                                                   }
                                                   addr109:
                                                   this.dialogCheck("TMD1","Tutorial Master","Dialog1");
                                                   §§push(!this.loadmc);
                                                   if(!!this.loadmc)
                                                   {
                                                      if(!_loc3_)
                                                      {
                                                         §§pop();
                                                         if(!_loc3_)
                                                         {
                                                            §§goto(addr129);
                                                         }
                                                         §§goto(addr161);
                                                      }
                                                   }
                                                   addr129:
                                                   if(this.battle)
                                                   {
                                                      if(_loc2_)
                                                      {
                                                         return;
                                                      }
                                                      §§goto(addr164);
                                                   }
                                                   else
                                                   {
                                                      if(this.loadmc)
                                                      {
                                                         addr143:
                                                         this.loadmc.clear();
                                                         if(_loc2_)
                                                         {
                                                            addr148:
                                                            this.q.remove(this.loadmc);
                                                            if(_loc3_)
                                                            {
                                                            }
                                                            addr161:
                                                            gotoAndStop(5);
                                                            §§goto(addr164);
                                                         }
                                                         this.loadmc = null;
                                                         if(!_loc2_)
                                                         {
                                                         }
                                                      }
                                                      §§goto(addr164);
                                                   }
                                                   §§goto(addr164);
                                                }
                                                addr164:
                                                return;
                                             }
                                             §§goto(addr97);
                                          }
                                          §§goto(addr103);
                                       }
                                    }
                                    §§goto(addr91);
                                 }
                                 §§goto(addr109);
                              }
                              §§goto(addr148);
                           }
                           §§goto(addr94);
                        }
                        §§goto(addr48);
                     }
                     §§goto(addr57);
                  }
                  §§goto(addr109);
               }
               §§goto(addr148);
            }
            §§goto(addr38);
         }
         §§goto(addr94);
      }
      
      public function joinedGame(param1:Connection) : void
      {
         var _loc4_:Boolean = false;
         var _loc5_:Boolean = true;
         var _loc2_:Vector.<String> = null;
         if(!_loc4_)
         {
            §§push(Boolean(this.connection));
            if(!_loc4_)
            {
               if(§§pop())
               {
                  if(!_loc4_)
                  {
                     §§pop();
                     if(_loc5_)
                     {
                        §§push(this.connection.connected);
                        if(!_loc4_)
                        {
                           addr40:
                           §§push(Boolean(§§pop()));
                           if(_loc5_)
                           {
                              addr43:
                              if(§§pop())
                              {
                                 return;
                              }
                              if(this.pvpbtn)
                              {
                                 this.pvpbtn.visible = true;
                                 if(_loc5_)
                                 {
                                    addr55:
                                    removeEventListener(Event.ENTER_FRAME,this.battleloop);
                                    removeEventListener(Event.ENTER_FRAME,this.gameloop);
                                    addEventListener(Event.ENTER_FRAME,this.gameloop);
                                    if(this.onKong)
                                    {
                                       if(_loc5_)
                                       {
                                          this.kongregate.stats.submit("Initialized",1);
                                          if(!_loc4_)
                                          {
                                             addr88:
                                             gotoAndStop(5);
                                             this.generateHUD();
                                             if(!_loc4_)
                                             {
                                                this.addHandlers(param1);
                                                if(_loc5_)
                                                {
                                                   addr102:
                                                   this.connection = param1;
                                                   addr105:
                                                   this.createBuffs(new Vector.<String>());
                                                   if(_loc5_)
                                                   {
                                                      trace("h1");
                                                      if(!_loc4_)
                                                      {
                                                         addr119:
                                                         if(!this.RoomData.Mines)
                                                         {
                                                            _loc2_ = Vector.<String>(this.pChar.Map.split("_"));
                                                            addr123:
                                                            if(_loc5_)
                                                            {
                                                               _loc2_[0] = this.RoomData.Map;
                                                               this.pChar.Map = _loc2_.join("_");
                                                               addr161:
                                                               trace("h2");
                                                               if(!_loc4_)
                                                               {
                                                                  this.RoomData.Type = "City";
                                                                  trace(this.gameMC);
                                                                  this.mapend = this.camend = this.gameMC.xp;
                                                                  if(!_loc5_)
                                                                  {
                                                                  }
                                                                  addr246:
                                                                  this.generateMap();
                                                                  trace("h5");
                                                                  if(this.loadmc)
                                                                  {
                                                                     addChildAt(this.loadmc,getChildIndex(this.mouse) - 1);
                                                                     if(_loc5_)
                                                                     {
                                                                        addr272:
                                                                        if(this.RoomData.Map == "Federation Hall")
                                                                        {
                                                                           addr277:
                                                                           this.tip(12);
                                                                        }
                                                                     }
                                                                     return;
                                                                  }
                                                                  §§goto(addr272);
                                                               }
                                                               trace("h3");
                                                               if(_loc5_)
                                                               {
                                                                  if(this.gameMC.camend)
                                                                  {
                                                                     this.camend = this.gameMC.camend;
                                                                  }
                                                                  this.mapbegin = this.gameMC.xn;
                                                                  if(!_loc4_)
                                                                  {
                                                                     §§push(this);
                                                                     §§push(this.mapbegin);
                                                                     if(_loc5_)
                                                                     {
                                                                        §§push(§§pop() - this.gameMC.l0.x);
                                                                        if(!_loc4_)
                                                                        {
                                                                           addr222:
                                                                           §§push(-§§pop());
                                                                        }
                                                                        §§pop().l0n = §§pop();
                                                                        this.l0p = 800 + this.gameMC.l0.x + this.gameMC.l0.width - this.camend;
                                                                        this.emptyAO(true);
                                                                        addr243:
                                                                        trace("h4");
                                                                        §§goto(addr246);
                                                                     }
                                                                     §§goto(addr222);
                                                                  }
                                                                  §§goto(addr277);
                                                               }
                                                               §§goto(addr243);
                                                            }
                                                            §§goto(addr246);
                                                         }
                                                         else
                                                         {
                                                            this.tip(19);
                                                         }
                                                      }
                                                   }
                                                   §§goto(addr123);
                                                }
                                             }
                                             §§goto(addr161);
                                          }
                                          §§goto(addr123);
                                       }
                                       §§goto(addr119);
                                    }
                                    §§goto(addr88);
                                 }
                                 §§goto(addr105);
                              }
                              §§goto(addr55);
                           }
                           §§goto(addr55);
                        }
                        §§goto(addr43);
                     }
                     §§goto(addr102);
                  }
                  §§goto(addr40);
               }
               §§goto(addr43);
            }
            §§goto(addr40);
         }
         §§goto(addr88);
      }
      
      public function generateMap() : void
      {
         var _loc4_:Boolean = true;
         var _loc5_:Boolean = false;
         var l0index:int = 0;
         var aosaves:Vector.<String> = null;
         var i:int = 0;
         var aonum:int = 0;
         if(!_loc5_)
         {
            var ai:int = 0;
            if(_loc4_)
            {
               var pn:int = 0;
               if(_loc4_)
               {
                  var pi:int = 0;
                  var m:MovieClip = null;
                  var pmc:MovieClip = null;
                  var b:DisplayObject = null;
                  var cn:int = 0;
                  if(!_loc5_)
                  {
                     var bi:int = 0;
                     if(!_loc5_)
                     {
                        var bmc:MovieClip = null;
                        var rn:int = 0;
                        if(_loc4_)
                        {
                           addr82:
                           var ri:int = 0;
                           if(_loc4_)
                           {
                              var pmcr:MovieClip = null;
                              if(!_loc5_)
                              {
                                 var rbd:AnimatedBitmapData = null;
                                 if(!_loc5_)
                                 {
                                    var rb:AnimatedBitmap = null;
                                    var bd:AnimatedBitmapData = null;
                                    var mc:MovieClip = null;
                                    if(_loc4_)
                                    {
                                       var p:Point = null;
                                       var aoindex:int = 0;
                                       if(!_loc5_)
                                       {
                                          var opos:Point = null;
                                          if(!_loc5_)
                                          {
                                             addr130:
                                             var abd:AnimatedBitmapData = null;
                                             if(!_loc5_)
                                             {
                                                var ab:AnimatedBitmap = null;
                                                if(_loc4_)
                                                {
                                                   var iadd:int = 0;
                                                   var qhave:String = null;
                                                   if(!_loc5_)
                                                   {
                                                      var earring:String = null;
                                                      if(_loc4_)
                                                      {
                                                         var ihave:String = null;
                                                         if(!_loc5_)
                                                         {
                                                            var tt:TextField = null;
                                                            var tf:TextFormat = null;
                                                            var td:BitmapData = null;
                                                            var t:Bitmap = null;
                                                            addr182:
                                                            var checksaves:* = function():void
                                                            {
                                                               var _loc4_:Boolean = false;
                                                               var _loc5_:Boolean = true;
                                                               var _loc3_:String = null;
                                                               var _loc1_:int = aosaves.length;
                                                               var _loc2_:int = 0;
                                                               if(_loc5_)
                                                               {
                                                                  while(_loc2_ < _loc1_)
                                                                  {
                                                                     _loc3_ = aosaves[_loc2_];
                                                                     if(!_loc4_)
                                                                     {
                                                                        trace("Delete: ao." + _loc3_);
                                                                        if(!_loc4_)
                                                                        {
                                                                           trace("delete " + root.ao[_loc3_]);
                                                                           if(_loc4_)
                                                                           {
                                                                              continue;
                                                                           }
                                                                        }
                                                                        delete root.ao[_loc3_];
                                                                        if(!_loc4_)
                                                                        {
                                                                           _loc2_++;
                                                                        }
                                                                     }
                                                                  }
                                                               }
                                                            };
                                                            var l1index:int = -1000;
                                                            var aoindexes:Vector.<int> = new Vector.<int>();
                                                            if(this.gameMC.ao)
                                                            {
                                                               addr200:
                                                               aonum = this.gameMC.ao.length;
                                                               ai = 0;
                                                               loop0:
                                                               while(true)
                                                               {
                                                                  §§push(ai);
                                                                  if(!_loc5_)
                                                                  {
                                                                     §§push(aonum);
                                                                     if(_loc4_)
                                                                     {
                                                                        if(§§pop() < §§pop())
                                                                        {
                                                                           aoindexes.push(this.gameMC.getChildIndex(this.gameMC.ao[ai]));
                                                                           if(!_loc5_)
                                                                           {
                                                                              §§push(ai);
                                                                              if(_loc4_)
                                                                              {
                                                                                 §§push(§§pop() + 1);
                                                                              }
                                                                              ai = §§pop();
                                                                           }
                                                                           continue;
                                                                        }
                                                                        stage.quality = "high";
                                                                        if(this.gameMC.waterbubbles)
                                                                        {
                                                                           if(!_loc5_)
                                                                           {
                                                                              this.bubbledata = new WatterBubble() as BitmapData;
                                                                              if(_loc4_)
                                                                              {
                                                                                 addr263:
                                                                                 var l:Vector.<MovieClip> = this.gameMC.l;
                                                                                 this.platforms = new Vector.<MovieClip>();
                                                                                 if(_loc4_)
                                                                                 {
                                                                                    if(this.gameMC.p)
                                                                                    {
                                                                                       pn = this.gameMC.p.length;
                                                                                       pi = 0;
                                                                                       if(_loc4_)
                                                                                       {
                                                                                          while(true)
                                                                                          {
                                                                                             §§push(pi);
                                                                                             if(_loc4_)
                                                                                             {
                                                                                                addr999:
                                                                                                §§push(pn);
                                                                                                if(_loc4_)
                                                                                                {
                                                                                                   if(§§pop() < §§pop())
                                                                                                   {
                                                                                                      m = root.addChildAt(this.gameMC.p[pi],0) as MovieClip;
                                                                                                      if(_loc4_)
                                                                                                      {
                                                                                                         m.visible = false;
                                                                                                         if(!_loc5_)
                                                                                                         {
                                                                                                            this.platforms.push(m);
                                                                                                            if(_loc4_)
                                                                                                            {
                                                                                                               §§push(pi);
                                                                                                               if(_loc4_)
                                                                                                               {
                                                                                                                  §§push(§§pop() + 1);
                                                                                                               }
                                                                                                               pi = §§pop();
                                                                                                            }
                                                                                                         }
                                                                                                      }
                                                                                                      continue;
                                                                                                   }
                                                                                                   trace(l);
                                                                                                   this.mapy = 535;
                                                                                                   if(!_loc5_)
                                                                                                   {
                                                                                                      if(this.gameMC.mapy)
                                                                                                      {
                                                                                                         this.mapy = this.gameMC.mapy;
                                                                                                      }
                                                                                                      this.fixedY = this.gameMC.fixedY;
                                                                                                      addr367:
                                                                                                      var ln:int = l.length;
                                                                                                      if(!_loc5_)
                                                                                                      {
                                                                                                         addr375:
                                                                                                         aosaves = new Vector.<String>();
                                                                                                         if(_loc5_)
                                                                                                         {
                                                                                                         }
                                                                                                         addr1000:
                                                                                                         this.npcindex = getChildIndex(this.l0);
                                                                                                         if(!this.gameMC.ao)
                                                                                                         {
                                                                                                            if(_loc4_)
                                                                                                            {
                                                                                                               var _loc2_:*;
                                                                                                               §§push((_loc2_ = this).npcindex);
                                                                                                               if(_loc4_)
                                                                                                               {
                                                                                                                  §§push(§§pop() + 1);
                                                                                                               }
                                                                                                               var _loc3_:* = §§pop();
                                                                                                               if(!_loc5_)
                                                                                                               {
                                                                                                                  _loc2_.npcindex = _loc3_;
                                                                                                               }
                                                                                                               if(this.RoomData.Type == "City")
                                                                                                               {
                                                                                                                  if(_loc4_)
                                                                                                                  {
                                                                                                                     this.gameMC.LOADER.unloadAndStop(true);
                                                                                                                     if(_loc4_)
                                                                                                                     {
                                                                                                                        root.q.toggleMC(this.gameMC,"stop");
                                                                                                                        if(!_loc5_)
                                                                                                                        {
                                                                                                                           addr1051:
                                                                                                                           this.gameMC.LOADER = null;
                                                                                                                           addr1055:
                                                                                                                           root.gameMC = null;
                                                                                                                           §§goto(addr1058);
                                                                                                                        }
                                                                                                                        addr1826:
                                                                                                                        root.gameMC = null;
                                                                                                                        if(_loc4_)
                                                                                                                        {
                                                                                                                           §§goto(addr1839);
                                                                                                                        }
                                                                                                                     }
                                                                                                                     §§goto(addr1843);
                                                                                                                  }
                                                                                                                  addr1808:
                                                                                                                  root.gameMC.LOADER.unloadAndStop(true);
                                                                                                                  if(!_loc5_)
                                                                                                                  {
                                                                                                                     addr1816:
                                                                                                                     root.q.toggleMC(this.gameMC,"stop");
                                                                                                                     addr1822:
                                                                                                                     this.gameMC.LOADER = null;
                                                                                                                     §§goto(addr1826);
                                                                                                                  }
                                                                                                                  §§goto(addr1843);
                                                                                                               }
                                                                                                               addr1058:
                                                                                                               this.collectGarbage();
                                                                                                               §§goto(addr1060);
                                                                                                            }
                                                                                                            addr1060:
                                                                                                            checksaves();
                                                                                                            aosaves = null;
                                                                                                            return;
                                                                                                         }
                                                                                                         var ao:Vector.<MovieClip> = this.gameMC.ao;
                                                                                                         var aon:int = ao.length;
                                                                                                         if(_loc4_)
                                                                                                         {
                                                                                                            addr1085:
                                                                                                            i = 0;
                                                                                                            loop10:
                                                                                                            while(true)
                                                                                                            {
                                                                                                               §§push(i);
                                                                                                               addr1779:
                                                                                                               loop9:
                                                                                                               while(true)
                                                                                                               {
                                                                                                                  §§push(aon);
                                                                                                                  addr1781:
                                                                                                                  while(true)
                                                                                                                  {
                                                                                                                     if(§§pop() >= §§pop())
                                                                                                                     {
                                                                                                                        break loop9;
                                                                                                                     }
                                                                                                                     mc = ao[i];
                                                                                                                     if(mc.name != "Conquistador_Cortez")
                                                                                                                     {
                                                                                                                        if(mc.name == "chest")
                                                                                                                        {
                                                                                                                           §§push(§§newactivation());
                                                                                                                           §§push(this.q.arrayContainsSplit(this.pChar.Quests.Active,"The Treasure Box","*"));
                                                                                                                           if(_loc4_)
                                                                                                                           {
                                                                                                                              §§push(§§pop());
                                                                                                                           }
                                                                                                                           §§pop().§§slot[34] = §§pop();
                                                                                                                           §§push(qhave);
                                                                                                                           §§push("false");
                                                                                                                           if(!_loc5_)
                                                                                                                           {
                                                                                                                              §§push(§§pop() == §§pop());
                                                                                                                              if(_loc4_)
                                                                                                                              {
                                                                                                                                 §§push(§§pop());
                                                                                                                                 if(_loc4_)
                                                                                                                                 {
                                                                                                                                    if(!§§pop())
                                                                                                                                    {
                                                                                                                                       if(!_loc5_)
                                                                                                                                       {
                                                                                                                                          §§pop();
                                                                                                                                          addr1145:
                                                                                                                                          §§push(qhave.split("_")[1] == "D");
                                                                                                                                          if(!_loc5_)
                                                                                                                                          {
                                                                                                                                             addr1152:
                                                                                                                                             if(§§pop())
                                                                                                                                             {
                                                                                                                                                addr1769:
                                                                                                                                                §§push(i);
                                                                                                                                                if(!_loc5_)
                                                                                                                                                {
                                                                                                                                                   addr1773:
                                                                                                                                                   §§push(§§pop() + 1);
                                                                                                                                                }
                                                                                                                                                i = §§pop();
                                                                                                                                                continue loop10;
                                                                                                                                             }
                                                                                                                                             addr1154:
                                                                                                                                             if(mc.name.split("_")[0] == "earring")
                                                                                                                                             {
                                                                                                                                                if(!_loc5_)
                                                                                                                                                {
                                                                                                                                                   earring = mc.name.split("_")[1];
                                                                                                                                                   §§push(§§newactivation());
                                                                                                                                                   §§push(this.q.arrayContainsSplit(this.pChar.Quests.Active,"Lost Earrings","*"));
                                                                                                                                                   if(!_loc5_)
                                                                                                                                                   {
                                                                                                                                                      §§push(§§pop());
                                                                                                                                                   }
                                                                                                                                                   §§pop().§§slot[34] = §§pop();
                                                                                                                                                   §§push(qhave);
                                                                                                                                                   if(!_loc5_)
                                                                                                                                                   {
                                                                                                                                                      §§push(§§pop() == "false");
                                                                                                                                                      §§push(§§pop() == "false");
                                                                                                                                                      if(!_loc5_)
                                                                                                                                                      {
                                                                                                                                                         if(!§§pop())
                                                                                                                                                         {
                                                                                                                                                            §§pop();
                                                                                                                                                            §§push(qhave);
                                                                                                                                                            if(_loc4_)
                                                                                                                                                            {
                                                                                                                                                               §§push("_");
                                                                                                                                                               if(!_loc5_)
                                                                                                                                                               {
                                                                                                                                                                  addr1214:
                                                                                                                                                                  if(§§pop().split(§§pop())[1] == "D")
                                                                                                                                                                  {
                                                                                                                                                                     if(!_loc5_)
                                                                                                                                                                     {
                                                                                                                                                                        §§goto(addr1769);
                                                                                                                                                                     }
                                                                                                                                                                     else
                                                                                                                                                                     {
                                                                                                                                                                        addr1388:
                                                                                                                                                                        ab = new AnimatedBitmap(abd,Event.ENTER_FRAME,60,false,"auto",false);
                                                                                                                                                                        ab._destroyData = true;
                                                                                                                                                                        if(root[mc.name])
                                                                                                                                                                        {
                                                                                                                                                                           tt = new TextField();
                                                                                                                                                                           tf = new TextFormat(this.chatFormat.font,this.chatFormat.size,this.chatFormat.color,this.chatFormat.bold,this.chatFormat.italic,this.chatFormat.underline,this.chatFormat.url,this.chatFormat.target,this.chatFormat.align,this.chatFormat.leftMargin,this.chatFormat.rightMargin,this.chatFormat.indent,this.chatFormat.leading);
                                                                                                                                                                           tf.align = "center";
                                                                                                                                                                           tt.multiline = false;
                                                                                                                                                                           if(!_loc5_)
                                                                                                                                                                           {
                                                                                                                                                                              tf.size = 18;
                                                                                                                                                                              tt.wordWrap = false;
                                                                                                                                                                              if(!_loc5_)
                                                                                                                                                                              {
                                                                                                                                                                                 tt.defaultTextFormat = tf;
                                                                                                                                                                                 tt.filters = [this.blackglow];
                                                                                                                                                                                 tt.width = 160;
                                                                                                                                                                                 addr1495:
                                                                                                                                                                                 tt.height = 28.15;
                                                                                                                                                                                 if(!_loc5_)
                                                                                                                                                                                 {
                                                                                                                                                                                    addr1501:
                                                                                                                                                                                    tt.text = root.getTxt(mc.name.split("_").join(" "),tt);
                                                                                                                                                                                    addr1515:
                                                                                                                                                                                    tt.embedFonts = true;
                                                                                                                                                                                    if(!_loc5_)
                                                                                                                                                                                    {
                                                                                                                                                                                       tt.antiAliasType = AntiAliasType.ADVANCED;
                                                                                                                                                                                       if(!_loc5_)
                                                                                                                                                                                       {
                                                                                                                                                                                          td = new BitmapData(tt.width,tt.height,true,0);
                                                                                                                                                                                          if(_loc4_)
                                                                                                                                                                                          {
                                                                                                                                                                                             stage.quality = "high";
                                                                                                                                                                                             if(_loc4_)
                                                                                                                                                                                             {
                                                                                                                                                                                                td.draw(tt);
                                                                                                                                                                                                if(_loc4_)
                                                                                                                                                                                                {
                                                                                                                                                                                                   addr1556:
                                                                                                                                                                                                   stage.quality = "low";
                                                                                                                                                                                                   if(!_loc5_)
                                                                                                                                                                                                   {
                                                                                                                                                                                                      addr1561:
                                                                                                                                                                                                      t = new Bitmap(td,"auto",true);
                                                                                                                                                                                                      if(!_loc5_)
                                                                                                                                                                                                      {
                                                                                                                                                                                                         t.name = mc.name + "_T";
                                                                                                                                                                                                         if(!_loc5_)
                                                                                                                                                                                                         {
                                                                                                                                                                                                            root[mc.name + "_T"] = addChildAt(t,getChildIndex(this.l0) + 1);
                                                                                                                                                                                                            §§push((_loc2_ = this).npcindex);
                                                                                                                                                                                                            if(!_loc5_)
                                                                                                                                                                                                            {
                                                                                                                                                                                                               §§push(§§pop() + 1);
                                                                                                                                                                                                            }
                                                                                                                                                                                                            _loc3_ = §§pop();
                                                                                                                                                                                                            if(_loc4_)
                                                                                                                                                                                                            {
                                                                                                                                                                                                               _loc2_.npcindex = _loc3_;
                                                                                                                                                                                                            }
                                                                                                                                                                                                            if(_loc4_)
                                                                                                                                                                                                            {
                                                                                                                                                                                                               trace("MCNAME:" + mc.name);
                                                                                                                                                                                                               addr1626:
                                                                                                                                                                                                               ab.x = this.l0.x + p.x;
                                                                                                                                                                                                               if(!_loc5_)
                                                                                                                                                                                                               {
                                                                                                                                                                                                                  addr1638:
                                                                                                                                                                                                                  ab.y = this.l0.y + p.y;
                                                                                                                                                                                                               }
                                                                                                                                                                                                               ab.name = mc.name;
                                                                                                                                                                                                               if(_loc4_)
                                                                                                                                                                                                               {
                                                                                                                                                                                                                  addr1656:
                                                                                                                                                                                                                  this.mapao.push(ab);
                                                                                                                                                                                                                  if(_loc5_)
                                                                                                                                                                                                                  {
                                                                                                                                                                                                                  }
                                                                                                                                                                                                                  addr1691:
                                                                                                                                                                                                                  iadd = getChildIndex(this.l0) + 1;
                                                                                                                                                                                                                  if(_loc5_)
                                                                                                                                                                                                                  {
                                                                                                                                                                                                                     continue loop10;
                                                                                                                                                                                                                  }
                                                                                                                                                                                                                  §§push(aoindex);
                                                                                                                                                                                                                  if(!_loc5_)
                                                                                                                                                                                                                  {
                                                                                                                                                                                                                     §§push(l0index);
                                                                                                                                                                                                                     if(_loc4_)
                                                                                                                                                                                                                     {
                                                                                                                                                                                                                        if(§§pop() < §§pop())
                                                                                                                                                                                                                        {
                                                                                                                                                                                                                           iadd = getChildIndex(this.l0);
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        §§push(l1index);
                                                                                                                                                                                                                        if(_loc4_)
                                                                                                                                                                                                                        {
                                                                                                                                                                                                                           §§push(-1000);
                                                                                                                                                                                                                           if(!_loc5_)
                                                                                                                                                                                                                           {
                                                                                                                                                                                                                              addr1728:
                                                                                                                                                                                                                              §§push(§§pop() !== §§pop());
                                                                                                                                                                                                                              if(§§pop() !== §§pop())
                                                                                                                                                                                                                              {
                                                                                                                                                                                                                                 §§pop();
                                                                                                                                                                                                                                 addr1733:
                                                                                                                                                                                                                                 §§push(aoindex);
                                                                                                                                                                                                                                 if(_loc4_)
                                                                                                                                                                                                                                 {
                                                                                                                                                                                                                                    addr1740:
                                                                                                                                                                                                                                    addr1739:
                                                                                                                                                                                                                                    addr1737:
                                                                                                                                                                                                                                    if(§§pop() < l1index)
                                                                                                                                                                                                                                    {
                                                                                                                                                                                                                                       addr1741:
                                                                                                                                                                                                                                       iadd = getChildIndex(this.l1);
                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                    addChildAt(ab,iadd);
                                                                                                                                                                                                                                    addr1754:
                                                                                                                                                                                                                                    §§push((_loc2_ = this).npcindex);
                                                                                                                                                                                                                                    if(!_loc5_)
                                                                                                                                                                                                                                    {
                                                                                                                                                                                                                                       §§push(§§pop() + 1);
                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                    _loc3_ = §§pop();
                                                                                                                                                                                                                                    if(_loc4_)
                                                                                                                                                                                                                                    {
                                                                                                                                                                                                                                       _loc2_.npcindex = _loc3_;
                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                    §§goto(addr1769);
                                                                                                                                                                                                                                 }
                                                                                                                                                                                                                                 §§goto(addr1773);
                                                                                                                                                                                                                              }
                                                                                                                                                                                                                              §§goto(addr1740);
                                                                                                                                                                                                                           }
                                                                                                                                                                                                                           §§goto(addr1739);
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        §§goto(addr1769);
                                                                                                                                                                                                                     }
                                                                                                                                                                                                                     §§goto(addr1728);
                                                                                                                                                                                                                  }
                                                                                                                                                                                                                  §§goto(addr1737);
                                                                                                                                                                                                               }
                                                                                                                                                                                                               §§goto(addr1691);
                                                                                                                                                                                                            }
                                                                                                                                                                                                            this.mapaoinit.push(p);
                                                                                                                                                                                                            trace("Ao index: " + aoindex);
                                                                                                                                                                                                            addr1674:
                                                                                                                                                                                                            trace("l0index " + l0index);
                                                                                                                                                                                                            this.q.toggleMC(mc,"stop");
                                                                                                                                                                                                            this.q.remove(mc);
                                                                                                                                                                                                            §§goto(addr1691);
                                                                                                                                                                                                         }
                                                                                                                                                                                                         §§goto(addr1754);
                                                                                                                                                                                                      }
                                                                                                                                                                                                      §§goto(addr1740);
                                                                                                                                                                                                   }
                                                                                                                                                                                                   §§goto(addr1741);
                                                                                                                                                                                                }
                                                                                                                                                                                                §§goto(addr1656);
                                                                                                                                                                                             }
                                                                                                                                                                                             §§goto(addr1740);
                                                                                                                                                                                          }
                                                                                                                                                                                          §§goto(addr1656);
                                                                                                                                                                                       }
                                                                                                                                                                                       §§goto(addr1674);
                                                                                                                                                                                    }
                                                                                                                                                                                    §§goto(addr1556);
                                                                                                                                                                                 }
                                                                                                                                                                                 §§goto(addr1561);
                                                                                                                                                                              }
                                                                                                                                                                              §§goto(addr1656);
                                                                                                                                                                           }
                                                                                                                                                                           §§goto(addr1515);
                                                                                                                                                                        }
                                                                                                                                                                        §§goto(addr1626);
                                                                                                                                                                     }
                                                                                                                                                                  }
                                                                                                                                                                  else
                                                                                                                                                                  {
                                                                                                                                                                     §§push(earring);
                                                                                                                                                                     if(!_loc5_)
                                                                                                                                                                     {
                                                                                                                                                                        addr1224:
                                                                                                                                                                        if(§§pop() == "1")
                                                                                                                                                                        {
                                                                                                                                                                           if(!_loc5_)
                                                                                                                                                                           {
                                                                                                                                                                              §§goto(addr1769);
                                                                                                                                                                           }
                                                                                                                                                                           else
                                                                                                                                                                           {
                                                                                                                                                                              addr1348:
                                                                                                                                                                              if(mc.aosave)
                                                                                                                                                                              {
                                                                                                                                                                                 if(!_loc5_)
                                                                                                                                                                                 {
                                                                                                                                                                                    aosaves.push(mc.aosave);
                                                                                                                                                                                    addr1361:
                                                                                                                                                                                    root.ao[mc.aosave] = abd;
                                                                                                                                                                                    addr1369:
                                                                                                                                                                                    mc.x = opos.x;
                                                                                                                                                                                    mc.y = opos.y;
                                                                                                                                                                                    opos = null;
                                                                                                                                                                                    if(!_loc5_)
                                                                                                                                                                                    {
                                                                                                                                                                                       §§goto(addr1388);
                                                                                                                                                                                    }
                                                                                                                                                                                    §§goto(addr1626);
                                                                                                                                                                                 }
                                                                                                                                                                                 §§goto(addr1501);
                                                                                                                                                                              }
                                                                                                                                                                              §§goto(addr1369);
                                                                                                                                                                           }
                                                                                                                                                                        }
                                                                                                                                                                        else
                                                                                                                                                                        {
                                                                                                                                                                           addr1232:
                                                                                                                                                                           §§push(earring == "2");
                                                                                                                                                                           §§push(earring == "2");
                                                                                                                                                                           if(!_loc5_)
                                                                                                                                                                           {
                                                                                                                                                                              if(§§pop())
                                                                                                                                                                              {
                                                                                                                                                                                 §§pop();
                                                                                                                                                                                 if(_loc4_)
                                                                                                                                                                                 {
                                                                                                                                                                                    addr1247:
                                                                                                                                                                                    §§push(this.q.arrayContainsSplit(this.pChar.Inventory,"Synthia\'s Earrings") !== "false");
                                                                                                                                                                                    if(!_loc5_)
                                                                                                                                                                                    {
                                                                                                                                                                                       addr1253:
                                                                                                                                                                                       if(§§pop())
                                                                                                                                                                                       {
                                                                                                                                                                                          §§goto(addr1769);
                                                                                                                                                                                       }
                                                                                                                                                                                       else
                                                                                                                                                                                       {
                                                                                                                                                                                          addr1255:
                                                                                                                                                                                          p = new Point(mc.x - this.l0x,mc.y - this.l0y);
                                                                                                                                                                                          if(_loc4_)
                                                                                                                                                                                          {
                                                                                                                                                                                             §§push(§§newactivation());
                                                                                                                                                                                             §§push(aoindexes[i]);
                                                                                                                                                                                             if(!_loc5_)
                                                                                                                                                                                             {
                                                                                                                                                                                                §§push(int(§§pop()));
                                                                                                                                                                                             }
                                                                                                                                                                                             §§pop().§§slot[29] = §§pop();
                                                                                                                                                                                             if(_loc4_)
                                                                                                                                                                                             {
                                                                                                                                                                                                opos = new Point(mc.x,mc.y);
                                                                                                                                                                                                mc.x = 0;
                                                                                                                                                                                                mc.y = 0;
                                                                                                                                                                                                if(!_loc5_)
                                                                                                                                                                                                {
                                                                                                                                                                                                   addr1311:
                                                                                                                                                                                                   §§push(Boolean(mc.aosave));
                                                                                                                                                                                                   §§push(Boolean(mc.aosave));
                                                                                                                                                                                                   if(_loc4_)
                                                                                                                                                                                                   {
                                                                                                                                                                                                      addr1315:
                                                                                                                                                                                                      if(§§pop())
                                                                                                                                                                                                      {
                                                                                                                                                                                                         if(!_loc5_)
                                                                                                                                                                                                         {
                                                                                                                                                                                                            §§pop();
                                                                                                                                                                                                            if(_loc4_)
                                                                                                                                                                                                            {
                                                                                                                                                                                                               addr1327:
                                                                                                                                                                                                               if(mc.aosave in root.ao)
                                                                                                                                                                                                               {
                                                                                                                                                                                                                  abd = root.ao[mc.aosave];
                                                                                                                                                                                                                  §§goto(addr1369);
                                                                                                                                                                                                               }
                                                                                                                                                                                                               else
                                                                                                                                                                                                               {
                                                                                                                                                                                                                  abd = new AnimatedBitmapData(mc);
                                                                                                                                                                                                                  if(!_loc5_)
                                                                                                                                                                                                                  {
                                                                                                                                                                                                                     §§goto(addr1348);
                                                                                                                                                                                                                  }
                                                                                                                                                                                                                  §§goto(addr1638);
                                                                                                                                                                                                               }
                                                                                                                                                                                                            }
                                                                                                                                                                                                            §§goto(addr1361);
                                                                                                                                                                                                         }
                                                                                                                                                                                                         §§goto(addr1728);
                                                                                                                                                                                                      }
                                                                                                                                                                                                      §§goto(addr1327);
                                                                                                                                                                                                   }
                                                                                                                                                                                                   §§goto(addr1728);
                                                                                                                                                                                                }
                                                                                                                                                                                                §§goto(addr1733);
                                                                                                                                                                                             }
                                                                                                                                                                                          }
                                                                                                                                                                                          §§goto(addr1495);
                                                                                                                                                                                       }
                                                                                                                                                                                    }
                                                                                                                                                                                    §§goto(addr1327);
                                                                                                                                                                                 }
                                                                                                                                                                                 §§goto(addr1733);
                                                                                                                                                                              }
                                                                                                                                                                              §§goto(addr1253);
                                                                                                                                                                           }
                                                                                                                                                                           §§goto(addr1728);
                                                                                                                                                                        }
                                                                                                                                                                        §§goto(addr1728);
                                                                                                                                                                     }
                                                                                                                                                                     §§goto(addr1247);
                                                                                                                                                                  }
                                                                                                                                                                  §§goto(addr1638);
                                                                                                                                                               }
                                                                                                                                                               §§goto(addr1224);
                                                                                                                                                            }
                                                                                                                                                            §§goto(addr1247);
                                                                                                                                                         }
                                                                                                                                                         §§goto(addr1214);
                                                                                                                                                      }
                                                                                                                                                      §§goto(addr1315);
                                                                                                                                                   }
                                                                                                                                                   §§goto(addr1224);
                                                                                                                                                }
                                                                                                                                                §§goto(addr1361);
                                                                                                                                             }
                                                                                                                                             §§goto(addr1255);
                                                                                                                                             §§goto(addr1769);
                                                                                                                                          }
                                                                                                                                          §§goto(addr1311);
                                                                                                                                       }
                                                                                                                                       §§goto(addr1232);
                                                                                                                                    }
                                                                                                                                    §§goto(addr1152);
                                                                                                                                 }
                                                                                                                                 §§goto(addr1728);
                                                                                                                              }
                                                                                                                              §§goto(addr1214);
                                                                                                                           }
                                                                                                                           §§goto(addr1145);
                                                                                                                        }
                                                                                                                        §§goto(addr1154);
                                                                                                                     }
                                                                                                                     §§goto(addr1769);
                                                                                                                  }
                                                                                                                  continue loop10;
                                                                                                               }
                                                                                                               if(_loc4_)
                                                                                                               {
                                                                                                                  checksaves();
                                                                                                                  addr1789:
                                                                                                                  aosaves = null;
                                                                                                                  if(!_loc5_)
                                                                                                                  {
                                                                                                                     this.checkQuests();
                                                                                                                     stage.quality = "low";
                                                                                                                     if(this.RoomData.Type == "City")
                                                                                                                     {
                                                                                                                        if(!_loc5_)
                                                                                                                        {
                                                                                                                           §§goto(addr1808);
                                                                                                                        }
                                                                                                                        §§goto(addr1852);
                                                                                                                     }
                                                                                                                     addr1839:
                                                                                                                     this.collectGarbage();
                                                                                                                     if(!_loc5_)
                                                                                                                     {
                                                                                                                        addr1843:
                                                                                                                        trace("NPC Index final: " + this.npcindex);
                                                                                                                        if(_loc4_)
                                                                                                                        {
                                                                                                                           addr1852:
                                                                                                                           trace("Layer 0 index final: " + getChildIndex(this.l0));
                                                                                                                        }
                                                                                                                     }
                                                                                                                     return;
                                                                                                                  }
                                                                                                                  §§goto(addr1822);
                                                                                                               }
                                                                                                               §§goto(addr1816);
                                                                                                            }
                                                                                                         }
                                                                                                         §§goto(addr1789);
                                                                                                         §§goto(addr1816);
                                                                                                      }
                                                                                                      i = 0;
                                                                                                      while(true)
                                                                                                      {
                                                                                                         §§push(i);
                                                                                                         if(!_loc5_)
                                                                                                         {
                                                                                                            break loop0;
                                                                                                         }
                                                                                                      }
                                                                                                      addr991:
                                                                                                   }
                                                                                                   §§goto(addr367);
                                                                                                }
                                                                                                while(true)
                                                                                                {
                                                                                                   if(§§pop() >= §§pop())
                                                                                                   {
                                                                                                      §§goto(addr1000);
                                                                                                   }
                                                                                                   else
                                                                                                   {
                                                                                                      pmc = l[i];
                                                                                                      if(!_loc5_)
                                                                                                      {
                                                                                                         trace(pmc.name);
                                                                                                         if(pmc.name == "l0")
                                                                                                         {
                                                                                                            l0index = this.gameMC.getChildIndex(pmc);
                                                                                                         }
                                                                                                         if(pmc.name == "l1")
                                                                                                         {
                                                                                                            if(!_loc5_)
                                                                                                            {
                                                                                                               l1index = this.gameMC.getChildIndex(pmc);
                                                                                                               if(_loc4_)
                                                                                                               {
                                                                                                                  addr435:
                                                                                                                  if(pmc.mckeep)
                                                                                                                  {
                                                                                                                     if(_loc4_)
                                                                                                                     {
                                                                                                                        b = pmc;
                                                                                                                        b.mouseChildren = false;
                                                                                                                        if(!_loc5_)
                                                                                                                        {
                                                                                                                           b.mouseEnabled = false;
                                                                                                                           if(!_loc5_)
                                                                                                                           {
                                                                                                                              addChild(b);
                                                                                                                              if(!_loc5_)
                                                                                                                              {
                                                                                                                                 cn = b.numChildren;
                                                                                                                                 addr473:
                                                                                                                                 bi = 0;
                                                                                                                                 loop8:
                                                                                                                                 while(true)
                                                                                                                                 {
                                                                                                                                    §§push(bi);
                                                                                                                                    if(_loc4_)
                                                                                                                                    {
                                                                                                                                       §§push(cn);
                                                                                                                                       if(_loc4_)
                                                                                                                                       {
                                                                                                                                          if(§§pop() >= §§pop())
                                                                                                                                          {
                                                                                                                                             if(_loc4_)
                                                                                                                                             {
                                                                                                                                                if(pmc.rasters)
                                                                                                                                                {
                                                                                                                                                   rn = pmc.rasters.length;
                                                                                                                                                   ri = 0;
                                                                                                                                                   while(true)
                                                                                                                                                   {
                                                                                                                                                      §§push(ri);
                                                                                                                                                      if(_loc4_)
                                                                                                                                                      {
                                                                                                                                                         addr700:
                                                                                                                                                         §§push(rn);
                                                                                                                                                         while(true)
                                                                                                                                                         {
                                                                                                                                                            if(§§pop() >= §§pop())
                                                                                                                                                            {
                                                                                                                                                               addr703:
                                                                                                                                                               removeChild(b);
                                                                                                                                                               if(!_loc5_)
                                                                                                                                                               {
                                                                                                                                                                  addr878:
                                                                                                                                                                  trace("new bitmap");
                                                                                                                                                                  if(_loc4_)
                                                                                                                                                                  {
                                                                                                                                                                     b.x = pmc.x;
                                                                                                                                                                     addr890:
                                                                                                                                                                     b.y = pmc.y;
                                                                                                                                                                     addr896:
                                                                                                                                                                     this[pmc.name + "x"] = b.x;
                                                                                                                                                                     this[pmc.name + "y"] = b.y;
                                                                                                                                                                     trace(pmc.name + "initial x:" + b.x);
                                                                                                                                                                     addChildAt(b,0);
                                                                                                                                                                     if(_loc4_)
                                                                                                                                                                     {
                                                                                                                                                                        addr945:
                                                                                                                                                                        if(!(b is MovieClip))
                                                                                                                                                                        {
                                                                                                                                                                           §§push(b is AnimatedBitmap);
                                                                                                                                                                           break;
                                                                                                                                                                        }
                                                                                                                                                                        if(!_loc5_)
                                                                                                                                                                        {
                                                                                                                                                                           addr948:
                                                                                                                                                                           b.mouseEnabled = false;
                                                                                                                                                                           addr952:
                                                                                                                                                                           b.mouseChildren = false;
                                                                                                                                                                        }
                                                                                                                                                                        addr956:
                                                                                                                                                                        this.q.toggleMC(b,"play");
                                                                                                                                                                        addr978:
                                                                                                                                                                        this[pmc.name] = b;
                                                                                                                                                                        i++;
                                                                                                                                                                        §§goto(addr991);
                                                                                                                                                                        addr962:
                                                                                                                                                                     }
                                                                                                                                                                     §§goto(addr952);
                                                                                                                                                                     addr916:
                                                                                                                                                                  }
                                                                                                                                                                  §§goto(addr978);
                                                                                                                                                                  addr710:
                                                                                                                                                               }
                                                                                                                                                            }
                                                                                                                                                            else
                                                                                                                                                            {
                                                                                                                                                               pmcr = pmc.rasters[ri];
                                                                                                                                                               trace("rasterize minor part " + pmcr.name);
                                                                                                                                                               trace("Frames: " + pmcr.totalFrames);
                                                                                                                                                               trace(pmcr.aosave);
                                                                                                                                                               §§push(Boolean(pmcr.aosave));
                                                                                                                                                               if(!_loc5_)
                                                                                                                                                               {
                                                                                                                                                                  §§push(§§pop());
                                                                                                                                                                  if(!_loc5_)
                                                                                                                                                                  {
                                                                                                                                                                     if(§§pop())
                                                                                                                                                                     {
                                                                                                                                                                        if(!_loc5_)
                                                                                                                                                                        {
                                                                                                                                                                           §§pop();
                                                                                                                                                                           if(_loc4_)
                                                                                                                                                                           {
                                                                                                                                                                              addr598:
                                                                                                                                                                              if(pmcr.aosave in root.ao)
                                                                                                                                                                              {
                                                                                                                                                                                 rbd = root.ao[pmcr.aosave];
                                                                                                                                                                                 while(true)
                                                                                                                                                                                 {
                                                                                                                                                                                    rb = new AnimatedBitmap(rbd,Event.ENTER_FRAME,60);
                                                                                                                                                                                    if(pmcr.randomplay)
                                                                                                                                                                                    {
                                                                                                                                                                                       rb.gotoAndPlay(Math.ceil(Math.random() * pmcr.totalFrames));
                                                                                                                                                                                       if(!_loc5_)
                                                                                                                                                                                       {
                                                                                                                                                                                          addr665:
                                                                                                                                                                                          rb._destroyData = true;
                                                                                                                                                                                          if(_loc4_)
                                                                                                                                                                                          {
                                                                                                                                                                                             rb.blendMode = pmcr.blendMode;
                                                                                                                                                                                             if(_loc4_)
                                                                                                                                                                                             {
                                                                                                                                                                                                rb.replace(pmcr);
                                                                                                                                                                                                rb.play();
                                                                                                                                                                                                if(!_loc5_)
                                                                                                                                                                                                {
                                                                                                                                                                                                   §§push(ri + 1);
                                                                                                                                                                                                   break loop8;
                                                                                                                                                                                                }
                                                                                                                                                                                             }
                                                                                                                                                                                             else
                                                                                                                                                                                             {
                                                                                                                                                                                                addr787:
                                                                                                                                                                                                aosaves.push(pmc.aosave);
                                                                                                                                                                                                if(_loc4_)
                                                                                                                                                                                                {
                                                                                                                                                                                                   trace("pushed " + pmc.aosave);
                                                                                                                                                                                                   addr803:
                                                                                                                                                                                                   root.ao[pmc.aosave] = bd;
                                                                                                                                                                                                   addr811:
                                                                                                                                                                                                   b = new AnimatedBitmap(bd,Event.ENTER_FRAME,60);
                                                                                                                                                                                                   if(pmc.randomplay)
                                                                                                                                                                                                   {
                                                                                                                                                                                                      b.gotoAndPlay(Math.ceil(Math.random() * pmc.totalFrames));
                                                                                                                                                                                                   }
                                                                                                                                                                                                   b.scaleX = pmc.scaleX;
                                                                                                                                                                                                   b.mouseEnabled = false;
                                                                                                                                                                                                   if(!_loc5_)
                                                                                                                                                                                                   {
                                                                                                                                                                                                      addr849:
                                                                                                                                                                                                      b._destroyData = true;
                                                                                                                                                                                                      if(!_loc5_)
                                                                                                                                                                                                      {
                                                                                                                                                                                                         addr872:
                                                                                                                                                                                                         b.name = pmc.name;
                                                                                                                                                                                                         §§goto(addr878);
                                                                                                                                                                                                      }
                                                                                                                                                                                                      §§goto(addr948);
                                                                                                                                                                                                   }
                                                                                                                                                                                                   §§goto(addr956);
                                                                                                                                                                                                }
                                                                                                                                                                                                b.mouseEnabled = false;
                                                                                                                                                                                                if(!_loc4_)
                                                                                                                                                                                                {
                                                                                                                                                                                                }
                                                                                                                                                                                                §§goto(addr956);
                                                                                                                                                                                             }
                                                                                                                                                                                             §§goto(addr890);
                                                                                                                                                                                          }
                                                                                                                                                                                          break;
                                                                                                                                                                                       }
                                                                                                                                                                                       §§goto(addr896);
                                                                                                                                                                                    }
                                                                                                                                                                                    §§goto(addr665);
                                                                                                                                                                                 }
                                                                                                                                                                                 §§goto(addr890);
                                                                                                                                                                                 addr638:
                                                                                                                                                                              }
                                                                                                                                                                              else
                                                                                                                                                                              {
                                                                                                                                                                                 rbd = new AnimatedBitmapData(pmcr);
                                                                                                                                                                                 if(_loc4_)
                                                                                                                                                                                 {
                                                                                                                                                                                    if(pmcr.aosave)
                                                                                                                                                                                    {
                                                                                                                                                                                       while(true)
                                                                                                                                                                                       {
                                                                                                                                                                                          aosaves.push(pmcr.aosave);
                                                                                                                                                                                          if(_loc5_)
                                                                                                                                                                                          {
                                                                                                                                                                                             break;
                                                                                                                                                                                          }
                                                                                                                                                                                          root.ao[pmcr.aosave] = rbd;
                                                                                                                                                                                       }
                                                                                                                                                                                       §§goto(addr710);
                                                                                                                                                                                       addr622:
                                                                                                                                                                                    }
                                                                                                                                                                                    §§goto(addr638);
                                                                                                                                                                                 }
                                                                                                                                                                                 §§goto(addr849);
                                                                                                                                                                              }
                                                                                                                                                                              §§goto(addr849);
                                                                                                                                                                           }
                                                                                                                                                                           §§goto(addr948);
                                                                                                                                                                        }
                                                                                                                                                                        §§goto(addr945);
                                                                                                                                                                     }
                                                                                                                                                                     §§goto(addr598);
                                                                                                                                                                  }
                                                                                                                                                                  else
                                                                                                                                                                  {
                                                                                                                                                                     addr721:
                                                                                                                                                                     if(!§§pop())
                                                                                                                                                                     {
                                                                                                                                                                        if(!_loc5_)
                                                                                                                                                                        {
                                                                                                                                                                           addr724:
                                                                                                                                                                           §§pop();
                                                                                                                                                                           §§push(pmc.blendMode === null);
                                                                                                                                                                           if(!_loc5_)
                                                                                                                                                                           {
                                                                                                                                                                              addr732:
                                                                                                                                                                              if(!§§pop())
                                                                                                                                                                              {
                                                                                                                                                                                 trace("frames is over 1");
                                                                                                                                                                                 §§push(Boolean(pmc.aosave));
                                                                                                                                                                                 if(!_loc5_)
                                                                                                                                                                                 {
                                                                                                                                                                                    addr744:
                                                                                                                                                                                    if(§§pop())
                                                                                                                                                                                    {
                                                                                                                                                                                       if(_loc4_)
                                                                                                                                                                                       {
                                                                                                                                                                                          addr748:
                                                                                                                                                                                          §§pop();
                                                                                                                                                                                          §§push(pmc.aosave in root.ao);
                                                                                                                                                                                       }
                                                                                                                                                                                       break;
                                                                                                                                                                                    }
                                                                                                                                                                                    if(§§pop())
                                                                                                                                                                                    {
                                                                                                                                                                                       if(_loc4_)
                                                                                                                                                                                       {
                                                                                                                                                                                          bd = root.ao[pmc.aosave];
                                                                                                                                                                                          if(!_loc4_)
                                                                                                                                                                                          {
                                                                                                                                                                                             §§goto(addr803);
                                                                                                                                                                                          }
                                                                                                                                                                                       }
                                                                                                                                                                                       else
                                                                                                                                                                                       {
                                                                                                                                                                                          §§goto(addr787);
                                                                                                                                                                                       }
                                                                                                                                                                                       §§goto(addr956);
                                                                                                                                                                                    }
                                                                                                                                                                                    else if(!pmc.mckeep)
                                                                                                                                                                                    {
                                                                                                                                                                                       bd = new AnimatedBitmapData(pmc);
                                                                                                                                                                                       if(pmc.aosave)
                                                                                                                                                                                       {
                                                                                                                                                                                          §§goto(addr787);
                                                                                                                                                                                       }
                                                                                                                                                                                    }
                                                                                                                                                                                    §§goto(addr811);
                                                                                                                                                                                 }
                                                                                                                                                                                 §§goto(addr748);
                                                                                                                                                                              }
                                                                                                                                                                              else
                                                                                                                                                                              {
                                                                                                                                                                                 b = this.q.raster(pmc,false,pmc.blendMode,true,false);
                                                                                                                                                                                 if(_loc4_)
                                                                                                                                                                                 {
                                                                                                                                                                                    §§goto(addr872);
                                                                                                                                                                                 }
                                                                                                                                                                                 §§goto(addr962);
                                                                                                                                                                              }
                                                                                                                                                                           }
                                                                                                                                                                           break;
                                                                                                                                                                        }
                                                                                                                                                                     }
                                                                                                                                                                     §§goto(addr732);
                                                                                                                                                                  }
                                                                                                                                                               }
                                                                                                                                                               §§goto(addr724);
                                                                                                                                                            }
                                                                                                                                                            §§goto(addr956);
                                                                                                                                                            §§goto(addr700);
                                                                                                                                                         }
                                                                                                                                                         if(§§pop())
                                                                                                                                                         {
                                                                                                                                                            if(_loc4_)
                                                                                                                                                            {
                                                                                                                                                               §§goto(addr787);
                                                                                                                                                            }
                                                                                                                                                         }
                                                                                                                                                         §§goto(addr956);
                                                                                                                                                         addr702:
                                                                                                                                                      }
                                                                                                                                                      §§goto(addr956);
                                                                                                                                                   }
                                                                                                                                                   addr695:
                                                                                                                                                }
                                                                                                                                                §§goto(addr703);
                                                                                                                                             }
                                                                                                                                             §§goto(addr849);
                                                                                                                                          }
                                                                                                                                          else
                                                                                                                                          {
                                                                                                                                             if(!(b.getChildAt(bi) is MovieClip))
                                                                                                                                             {
                                                                                                                                                addr509:
                                                                                                                                                while(true)
                                                                                                                                                {
                                                                                                                                                   §§push(bi);
                                                                                                                                                   if(_loc5_)
                                                                                                                                                   {
                                                                                                                                                      break;
                                                                                                                                                   }
                                                                                                                                                   bi = §§pop() + 1;
                                                                                                                                                   continue loop8;
                                                                                                                                                }
                                                                                                                                                addr509:
                                                                                                                                             }
                                                                                                                                             else
                                                                                                                                             {
                                                                                                                                                bmc = b.getChildAt(bi) as MovieClip;
                                                                                                                                                if(bmc.raster)
                                                                                                                                                {
                                                                                                                                                   this.q.raster(bmc,true,null,false);
                                                                                                                                                }
                                                                                                                                                §§goto(addr509);
                                                                                                                                             }
                                                                                                                                             §§goto(addr509);
                                                                                                                                          }
                                                                                                                                       }
                                                                                                                                       §§goto(addr702);
                                                                                                                                    }
                                                                                                                                    break;
                                                                                                                                 }
                                                                                                                                 while(true)
                                                                                                                                 {
                                                                                                                                    ri = §§pop();
                                                                                                                                    §§goto(addr695);
                                                                                                                                 }
                                                                                                                              }
                                                                                                                              §§goto(addr509);
                                                                                                                           }
                                                                                                                           §§goto(addr956);
                                                                                                                        }
                                                                                                                        §§goto(addr622);
                                                                                                                     }
                                                                                                                     §§goto(addr916);
                                                                                                                  }
                                                                                                                  else
                                                                                                                  {
                                                                                                                     §§push(pmc.totalFrames > 1);
                                                                                                                     if(_loc4_)
                                                                                                                     {
                                                                                                                        §§push(§§pop());
                                                                                                                        if(!_loc5_)
                                                                                                                        {
                                                                                                                           §§goto(addr721);
                                                                                                                        }
                                                                                                                        §§goto(addr744);
                                                                                                                     }
                                                                                                                  }
                                                                                                                  §§goto(addr945);
                                                                                                               }
                                                                                                               §§goto(addr367);
                                                                                                            }
                                                                                                            §§goto(addr787);
                                                                                                         }
                                                                                                         §§goto(addr435);
                                                                                                      }
                                                                                                      §§goto(addr473);
                                                                                                   }
                                                                                                }
                                                                                                addr999:
                                                                                             }
                                                                                             §§goto(addr1779);
                                                                                          }
                                                                                       }
                                                                                       §§goto(addr1058);
                                                                                    }
                                                                                    §§goto(addr343);
                                                                                 }
                                                                                 §§goto(addr367);
                                                                              }
                                                                              §§goto(addr1051);
                                                                           }
                                                                           §§goto(addr1000);
                                                                        }
                                                                        §§goto(addr263);
                                                                     }
                                                                     §§goto(addr999);
                                                                  }
                                                                  break;
                                                               }
                                                               while(true)
                                                               {
                                                                  §§push(ln);
                                                                  if(_loc4_)
                                                                  {
                                                                     §§goto(addr999);
                                                                  }
                                                                  §§goto(addr1781);
                                                               }
                                                            }
                                                            §§goto(addr244);
                                                         }
                                                         §§goto(addr1085);
                                                      }
                                                      §§goto(addr1055);
                                                   }
                                                   §§goto(addr1816);
                                                }
                                             }
                                             §§goto(addr375);
                                          }
                                          §§goto(addr1051);
                                       }
                                       §§goto(addr200);
                                    }
                                    §§goto(addr130);
                                 }
                                 §§goto(addr367);
                              }
                              §§goto(addr1843);
                           }
                           §§goto(addr182);
                        }
                        §§goto(addr1051);
                     }
                     §§goto(addr1789);
                  }
                  §§goto(addr82);
               }
               §§goto(addr367);
            }
            §§goto(addr182);
         }
         §§goto(addr343);
      }
      
      public function dialogCheck(param1:String, param2:String, param3:String) : Boolean
      {
         var _loc4_:Boolean = false;
         var _loc5_:Boolean = true;
         if(_loc5_)
         {
            §§push(this.q.arrayContains(this.pChar.Quests.Done,param1));
            if(_loc5_)
            {
               if(!§§pop())
               {
                  if(!_loc4_)
                  {
                     this.dialog(param2,param3);
                     if(_loc5_)
                     {
                        this.getC().send("AddStage",param1,"Player");
                        if(!_loc4_)
                        {
                           addr61:
                           this.pChar.Quests.Done.push(param1);
                        }
                        §§push(true);
                        if(_loc5_)
                        {
                           §§goto(addr70);
                        }
                     }
                  }
                  §§goto(addr61);
               }
               else
               {
                  §§push(false);
               }
               return §§pop();
            }
            addr70:
            return §§pop();
         }
         §§goto(addr61);
      }
      
      public function closegame(param1:MouseEvent) : void
      {
         var _loc2_:Boolean = false;
         var _loc3_:Boolean = true;
         if(!_loc2_)
         {
            this.client = null;
            if(_loc3_)
            {
               addr24:
               this.q.fade(MovieClip(root),2);
            }
            return;
         }
         §§goto(addr24);
      }
      
      public function generateStats(param1:MovieClip, param2:Vector.<int>, param3:Vector.<String> = null) : *
      {
         var _loc11_:Boolean = false;
         var _loc12_:Boolean = true;
         var _loc6_:* = null;
         var _loc7_:* = null;
         var _loc8_:* = 0;
         var _loc9_:* = 0;
         var _loc10_:MovieClip = null;
         if(_loc12_)
         {
            if(param3 == null)
            {
               if(_loc12_)
               {
                  trace("Null");
                  addr39:
                  param3 = param1.stats;
               }
               §§goto(addr39);
            }
            var _loc4_:int = param3.length;
            var _loc5_:int = 0;
            if(!_loc11_)
            {
               while(_loc5_ < _loc4_)
               {
                  §§push(param3[_loc5_]);
                  if(_loc12_)
                  {
                     §§push(§§pop());
                     if(!_loc11_)
                     {
                        addr64:
                        _loc6_ = §§pop();
                        §§push(root.statlabels[_loc5_]);
                     }
                     _loc7_ = §§pop();
                     §§push(param2[_loc5_]);
                     if(_loc12_)
                     {
                        §§push(int(§§pop()));
                        if(!_loc11_)
                        {
                           _loc8_ = §§pop();
                           if(!_loc12_)
                           {
                              continue;
                           }
                           param1[_loc7_ + "label"].text = _loc6_;
                           if(!_loc11_)
                           {
                              param1[_loc7_ + "txt"].text = _loc8_;
                              if(!_loc11_)
                              {
                                 §§push(0);
                                 if(!_loc11_)
                                 {
                                    _loc9_ = §§pop();
                                    if(!_loc11_)
                                    {
                                       loop1:
                                       while(true)
                                       {
                                          §§push(_loc9_);
                                          addr189:
                                          addr191:
                                          for(; §§pop() < 10; continue loop1)
                                          {
                                             if(!(_loc10_ = MovieClip(param1.getChildByName(_loc6_ + _loc9_))))
                                             {
                                                trace("new box");
                                                _loc10_ = new StatBox() as MovieClip;
                                             }
                                             _loc10_.gotoAndStop(1);
                                             if(_loc11_)
                                             {
                                                continue;
                                             }
                                             _loc10_.name = _loc6_ + _loc9_;
                                             if(_loc11_)
                                             {
                                                continue;
                                             }
                                             _loc10_.x = param1.statx + _loc10_.width * _loc9_;
                                             _loc10_.y = param1[_loc6_ + "y"];
                                             if(_loc12_)
                                             {
                                                if(_loc8_ >= _loc9_ + 1)
                                                {
                                                   addr172:
                                                   _loc10_.gotoAndStop(2);
                                                }
                                                param1.addChild(_loc10_);
                                                trace("Added box " + _loc9_ + " for " + _loc6_);
                                                _loc9_++;
                                                continue;
                                             }
                                             §§goto(addr172);
                                          }
                                          addr191:
                                          param1[_loc7_ + "label"].text = this.getTxt(_loc6_,!!param1.statsSet ? null : param1[_loc7_ + "label"]);
                                       }
                                    }
                                    §§goto(addr191);
                                 }
                                 §§goto(addr189);
                              }
                              _loc5_++;
                              continue;
                           }
                           §§goto(addr191);
                        }
                     }
                     §§goto(addr189);
                  }
                  §§goto(addr64);
               }
               if(!_loc11_)
               {
                  addr225:
                  param1.statsSet = true;
               }
               return;
            }
            §§goto(addr225);
         }
         §§goto(addr39);
      }
      
      public function midY(param1:int, param2:MovieClip, param3:String = "down") : int
      {
         var _loc8_:Boolean = false;
         var _loc9_:Boolean = true;
         §§push(param1 - param2.x);
         if(!_loc8_)
         {
            §§push(Number(§§pop()));
         }
         var _loc4_:*;
         §§push(_loc4_ = §§pop());
         if(_loc9_)
         {
            §§push(§§pop() / param2.width);
            if(!_loc8_)
            {
               addr39:
               §§push(Number(§§pop()));
            }
            var _loc5_:* = §§pop();
            var _loc6_:* = int(param2.height * _loc5_);
            if(!_loc8_)
            {
               if(param2.rotation < 0)
               {
                  if(_loc9_)
                  {
                     addr62:
                     §§push(_loc6_);
                     if(!_loc8_)
                     {
                        §§push(int(-§§pop()));
                        if(_loc9_)
                        {
                           §§goto(addr71);
                        }
                        §§goto(addr75);
                     }
                     §§goto(addr71);
                  }
               }
               addr71:
               _loc6_ = §§pop();
               §§push(_loc6_);
               if(!_loc8_)
               {
                  addr75:
                  §§push(int(§§pop() + param2.y));
               }
               return §§pop();
            }
            §§goto(addr62);
         }
         §§goto(addr39);
      }
      
      public function generateSkin(param1:MovieClip, param2:uint) : void
      {
         var _loc10_:Boolean = false;
         var _loc11_:Boolean = true;
         var _loc8_:* = null;
         var _loc9_:MovieClip = null;
         var _loc3_:Vector.<String> = Vector.<String>(["body","arm1","arm2","hand1","hand2","fist1","fist2","head","leg1","leg2","leg3","leg4","foot1","foot2"]);
         var _loc4_:MovieClip = param1.getChildAt(0);
         var _loc5_:int = _loc3_.length;
         var _loc6_:ColorTransform;
         (_loc6_ = new ColorTransform()).color = param2;
         var _loc7_:int = 0;
         if(!_loc10_)
         {
            while(_loc7_ < _loc5_)
            {
               §§push(_loc3_[_loc7_]);
               if(!_loc10_)
               {
                  §§push(§§pop());
               }
               _loc8_ = §§pop();
               if(!_loc10_)
               {
                  if(!_loc4_[_loc8_])
                  {
                     if(_loc10_)
                     {
                        continue;
                     }
                  }
                  else if(!(_loc9_ = _loc4_[_loc8_].skin))
                  {
                     if(_loc11_)
                     {
                        return;
                     }
                  }
                  else
                  {
                     _loc9_.transform.colorTransform = _loc6_;
                  }
                  _loc7_++;
               }
            }
         }
      }
      
      public function copyData(param1:MovieClip, param2:MovieClip) : void
      {
         var _loc3_:Boolean = true;
         var _loc4_:Boolean = false;
         if(_loc3_)
         {
            param2.pname = param1.pname;
            if(!_loc4_)
            {
               param2.plvl = param1.plvl;
               if(_loc3_)
               {
                  param2.pclass = param1.pclass;
                  if(!_loc4_)
                  {
                     addr46:
                     param2.pskin = param1.pskin;
                  }
               }
            }
            return;
         }
         §§goto(addr46);
      }
      
      public function timerhandler(param1:Message, param2:int, param3:int, param4:int, param5:int) : void
      {
         var _loc9_:Boolean = false;
         var _loc10_:Boolean = true;
         §§push(this.turn);
         if(_loc10_)
         {
            §§push(int(§§pop()));
         }
         var _loc6_:* = §§pop();
         §§push(this.team);
         if(!_loc9_)
         {
            §§push(int(§§pop()));
         }
         var _loc7_:* = §§pop();
         if(!_loc9_)
         {
            this.time = param2 * 1000;
            if(_loc10_)
            {
               this.lastTimeSet = getTimer();
               this.turn = param3;
               if(_loc10_)
               {
                  this.team = param4;
                  if(!_loc9_)
                  {
                     addr54:
                     root.turnid = param5;
                     if(!_loc9_)
                     {
                        addChild(this.turnarrow);
                        if(!_loc9_)
                        {
                           addr66:
                           this.turnarrow.play();
                        }
                     }
                  }
                  this.arrowcatch = false;
                  this.timermc.visible = true;
               }
               var _loc8_:MovieClip = this.pmcs[this.pChar.key + "_mc"];
               trace(_loc8_);
               if(!_loc8_)
               {
                  if(_loc10_)
                  {
                     return;
                  }
                  addr135:
                  this.commandmc.removeEventListener(MouseEvent.CLICK,this.command);
                  this.commandmc = null;
                  if(_loc10_)
                  {
                     addr153:
                     §§push(param4);
                     if(_loc10_)
                     {
                        §§push(§§pop() === _loc7_);
                        if(_loc10_)
                        {
                           §§push(!§§pop());
                           if(_loc9_)
                           {
                           }
                           §§goto(addr172);
                        }
                        addr164:
                        if(§§pop())
                        {
                           §§pop();
                           if(!_loc9_)
                           {
                              addr172:
                              if(§§pop())
                              {
                                 this.turnmc = new TurnAnim() as MovieClip;
                                 if(!_loc9_)
                                 {
                                    addr181:
                                    this.turnmc.x = this.turnp.x;
                                    if(!_loc9_)
                                    {
                                       addr189:
                                       this.turnmc.y = this.turnp.y;
                                       if(!_loc9_)
                                       {
                                          addChild(this.turnmc);
                                          this.anims.push(this.turnmc);
                                          addr215:
                                          if(param4 == _loc8_.team)
                                          {
                                          }
                                          §§goto(addr224);
                                       }
                                    }
                                 }
                                 this.turnmc.getChildAt(0).gotoAndStop(2);
                              }
                              addr224:
                              this.mousedepth(false);
                              return;
                              §§push(!this.winlose);
                           }
                           §§goto(addr189);
                        }
                        §§goto(addr172);
                     }
                     §§goto(addr215);
                     addr148:
                  }
                  §§goto(addr181);
               }
               else
               {
                  §§push(_loc8_.team === param4);
                  if(!_loc9_)
                  {
                     §§push(!§§pop());
                     §§push(!§§pop());
                     if(!_loc9_)
                     {
                        if(!§§pop())
                        {
                           if(_loc10_)
                           {
                              §§pop();
                              addr120:
                              §§push(_loc8_.id !== param3);
                              if(_loc9_)
                              {
                              }
                           }
                           §§goto(addr172);
                        }
                        if(§§pop())
                        {
                           if(this.commandmc)
                           {
                              this.q.removeChildFade(this.commandmc);
                              if(_loc9_)
                              {
                              }
                              §§goto(addr135);
                           }
                           §§goto(addr148);
                        }
                        else
                        {
                           this.leavebtn.visible = true;
                        }
                        §§goto(addr153);
                     }
                     §§goto(addr164);
                  }
                  §§goto(addr120);
               }
               §§goto(addr172);
            }
            §§goto(addr66);
         }
         §§goto(addr54);
      }
      
      public function openSkillC(param1:MovieClip, param2:Point, param3:String) : void
      {
         var _loc6_:Boolean = true;
         var _loc7_:Boolean = false;
         var _loc4_:MovieClip;
         (_loc4_ = this.skillmenumc = new SkillMenu() as MovieClip).type = param3;
         if(!_loc7_)
         {
            _loc4_.x = param2.x;
            if(!_loc7_)
            {
               _loc4_.y = param2.y;
               addChildAt(_loc4_,getChildIndex(this.mouse));
               if(_loc6_)
               {
                  this.q.fadeIn(_loc4_);
                  if(!_loc7_)
                  {
                     _loc4_.id = param1.id;
                     trace("Target id: " + param1.id);
                     _loc4_.team = param1.team;
                     if(_loc7_)
                     {
                     }
                     §§goto(addr95);
                  }
               }
               _loc4_.pname = param1.pname;
            }
            §§goto(addr95);
         }
         addr95:
         _loc4_.addEventListener(MouseEvent.CLICK,this.skillclick);
         this.q.stageBoundary(_loc4_);
      }
      
      public function skillclick(param1:MouseEvent) : void
      {
         var _loc3_:Boolean = true;
         var _loc4_:Boolean = false;
         var _loc2_:int = 0;
         if(_loc3_)
         {
            §§push(param1.target.name.indexOf("s") >= 0);
            if(!_loc4_)
            {
               if(§§pop())
               {
                  if(!_loc4_)
                  {
                     §§goto(addr41);
                  }
               }
               §§goto(addr48);
            }
            addr41:
            §§pop();
            if(!_loc4_)
            {
               addr48:
               if(param1.target.item)
               {
                  if(!_loc4_)
                  {
                     _loc2_ = param1.target.parent.id;
                     if(!_loc4_)
                     {
                        trace("Attack " + _loc2_);
                        if(_loc3_)
                        {
                           addr76:
                           this.battle.send("BattleAction",param1.target.item,_loc2_);
                        }
                     }
                  }
                  §§goto(addr76);
               }
            }
            return;
         }
         §§goto(addr76);
      }
      
      public function openCommand(param1:MovieClip) : void
      {
         var _loc5_:Boolean = false;
         var _loc6_:Boolean = true;
         if(_loc6_)
         {
            trace("Open Command");
            if(_loc6_)
            {
               trace(this.team);
               if(!_loc5_)
               {
                  trace(this.turn);
               }
            }
         }
         var _loc2_:MovieClip = this.pmcs[this.pChar.key + "_mc"];
         if(_loc6_)
         {
            §§push(this.team);
            if(_loc6_)
            {
               §§push(§§pop() === _loc2_.team);
               if(!_loc5_)
               {
                  §§push(!§§pop());
                  if(!_loc5_)
                  {
                     addr62:
                     if(!§§pop())
                     {
                        if(_loc6_)
                        {
                           §§goto(addr66);
                        }
                        §§goto(addr77);
                     }
                     §§goto(addr78);
                  }
                  addr66:
                  §§pop();
                  if(!_loc5_)
                  {
                     addr72:
                     §§push(this.turn === _loc2_.id);
                     if(_loc6_)
                     {
                        addr78:
                        addr77:
                        if(!§§pop())
                        {
                           if(!_loc5_)
                           {
                              §§goto(addr81);
                           }
                           else
                           {
                              this.commandmc.removeEventListener(MouseEvent.CLICK,this.command);
                              addr87:
                              if(!_loc5_)
                              {
                                 addr103:
                                 this.q.removeChildFade(this.commandmc);
                              }
                           }
                        }
                        else if(this.commandmc)
                        {
                           if(!_loc5_)
                           {
                              §§goto(addr87);
                           }
                           §§goto(addr103);
                        }
                        var _loc3_:MovieClip = this.commandmc = new Command() as MovieClip;
                        this.anims.push(_loc3_);
                        _loc3_.x = mouseX;
                        _loc3_.y = mouseY;
                        if(!_loc5_)
                        {
                           addChildAt(_loc3_,getChildIndex(this.mouse));
                           if(_loc6_)
                           {
                              addr143:
                              _loc3_.bagmc.gotoAndStop(2);
                              _loc3_.skillmc.gotoAndStop(3);
                           }
                           if(param1.team == _loc2_.team)
                           {
                              _loc3_.attackmc.visible = false;
                           }
                           _loc3_.id = param1.id;
                           trace("Target id: " + param1.id);
                           _loc3_.team = param1.team;
                           if(!_loc5_)
                           {
                              _loc3_.pname = param1.pname;
                              _loc3_.mc = param1;
                           }
                           _loc3_.addEventListener(MouseEvent.CLICK,this.command);
                           return;
                        }
                        §§goto(addr143);
                     }
                     §§goto(addr78);
                  }
                  addr81:
                  return;
               }
               §§goto(addr62);
            }
         }
         §§goto(addr72);
      }
      
      public function command(param1:MouseEvent) : void
      {
         var _loc4_:Boolean = false;
         var _loc5_:Boolean = true;
         var _loc2_:String = param1.target.name;
         var _loc3_:int = param1.target.parent.id;
         if(_loc5_)
         {
            §§push(_loc2_);
            if(!_loc4_)
            {
               §§push("attackmc");
               if(_loc5_)
               {
                  if(§§pop() == §§pop())
                  {
                     if(!_loc4_)
                     {
                        trace("Attack " + _loc3_);
                        if(_loc5_)
                        {
                           this.battle.send("BattleAction","Attack",_loc3_);
                        }
                        §§goto(addr116);
                     }
                     §§goto(addr95);
                  }
                  else
                  {
                     §§push(_loc2_);
                     if(_loc5_)
                     {
                        addr65:
                        §§push("skillmc");
                        if(!_loc4_)
                        {
                           addr68:
                           if(§§pop() == §§pop())
                           {
                              if(!_loc4_)
                              {
                                 this.openSkillC(param1.target.parent.mc,new Point(param1.target.parent.x,param1.target.parent.y),"Skill");
                                 addr95:
                              }
                              else
                              {
                                 addr99:
                                 this.openSkillC(param1.target.parent.mc,new Point(param1.target.parent.x,param1.target.parent.y),"Potion");
                              }
                              §§goto(addr116);
                           }
                           else
                           {
                              addr97:
                              §§push(_loc2_);
                              §§push("bagmc");
                           }
                           §§goto(addr116);
                        }
                        if(§§pop() == §§pop())
                        {
                           §§goto(addr99);
                        }
                        §§goto(addr116);
                     }
                     §§goto(addr97);
                  }
               }
               §§goto(addr68);
            }
            §§goto(addr65);
         }
         addr116:
      }
      
      public function getMC(param1:int, param2:int) : MovieClip
      {
         var _loc4_:Boolean = true;
         var _loc5_:Boolean = false;
         if(!_loc5_)
         {
            if(root["battlepos" + param2].length >= 1)
            {
               var _loc3_:MovieClip = MovieClip(root).getChildByName(MovieClip(root)["battlepos" + param2][param1].split("_")[0] + "_" + param1);
               if(_loc4_)
               {
                  trace("Get mc: " + MovieClip(root)["battlepos" + param2][param1].split("_")[0] + "_" + param1);
                  if(_loc4_)
                  {
                     addr90:
                     trace(_loc3_);
                  }
                  return _loc3_;
               }
               §§goto(addr90);
            }
         }
      }
      
      public function healthchain(param1:Message, param2:String, param3:int) : void
      {
         var _loc11_:Boolean = true;
         var _loc12_:Boolean = false;
         var _loc7_:Vector.<String> = null;
         var _loc8_:int = 0;
         var _loc9_:uint = 0;
         var _loc10_:MovieClip = null;
         var _loc4_:Vector.<String>;
         var _loc5_:int = (_loc4_ = Vector.<String>(param2.split(","))).length;
         var _loc6_:int = 0;
         if(!_loc12_)
         {
            while(_loc6_ < _loc5_)
            {
               _loc7_ = Vector.<String>(_loc4_[_loc6_].split(":"));
               if(!_loc12_)
               {
                  _loc8_ = int(_loc7_[0]);
                  if(_loc11_)
                  {
                     if(_loc7_.length <= 1)
                     {
                        if(!_loc11_)
                        {
                           continue;
                        }
                     }
                     else
                     {
                        _loc9_ = uint(_loc7_[1].split("=")[1]);
                        if(!_loc11_)
                        {
                           continue;
                        }
                        addr99:
                        §§push(!(_loc10_ = this.getMC(_loc8_,param3)));
                        if(!_loc12_)
                        {
                           if(!§§pop())
                           {
                              if(!_loc12_)
                              {
                                 addr120:
                                 §§pop();
                                 if(!_loc12_)
                                 {
                                    addr126:
                                    if(_loc10_ == null)
                                    {
                                       if(!_loc11_)
                                       {
                                       }
                                       addr135:
                                       _loc6_++;
                                       continue;
                                    }
                                    this.modifyHP(_loc10_,_loc9_);
                                    §§goto(addr135);
                                 }
                                 §§goto(addr135);
                              }
                           }
                           §§goto(addr126);
                        }
                        §§goto(addr120);
                     }
                     §§goto(addr135);
                  }
               }
               §§goto(addr99);
            }
         }
      }
      
      public function battleAction(param1:Message, param2:int, param3:int, param4:String, param5:int, param6:String, param7:int, param8:int, param9:Boolean, param10:uint, param11:Boolean, param12:Boolean = false, param13:Boolean = false) : void
      {
         var _loc24_:Boolean = true;
         var _loc25_:Boolean = false;
         var _loc15_:MovieClip = null;
         var _loc19_:* = null;
         var _loc20_:* = 0;
         var _loc21_:* = 0;
         var _loc22_:int = 0;
         var _loc23_:uint = 0;
         trace("strikes: " + param6);
         trace("team: " + param3);
         if(!_loc25_)
         {
            trace(param2);
            if(param4 == "Cooldown Reset")
            {
               if(!_loc25_)
               {
                  §§push(-1);
                  if(!_loc25_)
                  {
                     _loc20_ = §§pop();
                     addr56:
                     §§push(root.pChar.key + "_LastUsed");
                     if(!_loc25_)
                     {
                        §§push(§§pop() + param4);
                     }
                     §§push(§§pop() in this.cooldowns);
                     if(_loc24_)
                     {
                        if(§§pop())
                        {
                           §§push(int(root.cooldowns[root.pChar.key + "_LastUsed" + param4]));
                           if(!_loc25_)
                           {
                              addr86:
                              _loc20_ = §§pop();
                              addr87:
                              this.cooldowns = {};
                              §§push(_loc20_);
                           }
                           if(§§pop() > -1)
                           {
                              if(_loc24_)
                              {
                                 this.cooldowns[root.pChar.key + "_LastUsed" + param4] = _loc20_;
                                 addr107:
                                 §§push(false);
                              }
                           }
                           §§goto(addr107);
                        }
                        §§goto(addr87);
                     }
                     var _loc14_:* = §§pop();
                     if(!_loc25_)
                     {
                        trace("here");
                        if(!_loc25_)
                        {
                           if(param13)
                           {
                              addr119:
                              (_loc15_ = root[param2 + "/" + param3 + "Trap"]).play();
                              trace("here2");
                           }
                           else
                           {
                              _loc15_ = this.getMC(param2,param3);
                           }
                           if(!_loc15_)
                           {
                              if(_loc24_)
                              {
                                 return;
                              }
                              addr160:
                              if(!param13)
                              {
                                 trace("Set turn used " + _loc15_.pname + "_LastUsed" + param4 + " = " + this.turnid);
                                 if(_loc24_)
                                 {
                                    root.cooldowns[_loc15_.pname + "_LastUsed" + param4] = this.turnid;
                                    addr192:
                                    §§push(param13);
                                    if(!_loc25_)
                                    {
                                       if(!§§pop())
                                       {
                                          addr196:
                                          if(_loc15_.mp !== param10)
                                          {
                                             if(_loc24_)
                                             {
                                                §§push(true);
                                                if(_loc24_)
                                                {
                                                   addr207:
                                                   _loc14_ = §§pop();
                                                }
                                                addr214:
                                                if(§§pop())
                                                {
                                                   addr215:
                                                   _loc15_.createhp();
                                                   addr217:
                                                   var _loc16_:MovieClip = this.getMC(param7,param8);
                                                   if(_loc24_)
                                                   {
                                                      trace("Enemy id:" + param7);
                                                      trace("Enemy team:" + param8);
                                                      if(_loc24_)
                                                      {
                                                         trace(_loc16_);
                                                         if(_loc24_)
                                                         {
                                                            if(_loc15_)
                                                            {
                                                               _loc15_.strikes = Vector.<String>(param6.split(","));
                                                               _loc15_.atkNum = _loc15_.strikes[0].split("_").length - 1;
                                                               _loc15_.strike = 0;
                                                               if(_loc24_)
                                                               {
                                                                  addr274:
                                                                  §§push(param13);
                                                                  if(_loc24_)
                                                                  {
                                                                     if(§§pop())
                                                                     {
                                                                        §§push(0);
                                                                        if(!_loc25_)
                                                                        {
                                                                           _loc21_ = §§pop();
                                                                           if(!_loc25_)
                                                                           {
                                                                              while(true)
                                                                              {
                                                                                 §§push(_loc21_);
                                                                              }
                                                                              addr303:
                                                                           }
                                                                           else
                                                                           {
                                                                              addr326:
                                                                              _loc15_.consumed = param12;
                                                                              if(!_loc25_)
                                                                              {
                                                                                 _loc15_.battleaction = param4;
                                                                                 _loc15_.ranged = param9;
                                                                                 _loc15_.slash = param11;
                                                                                 _loc15_.actiongroup = this.group;
                                                                                 _loc15_.target = _loc16_;
                                                                                 _loc15_.targetp = new Point(_loc16_.x,_loc16_.y);
                                                                                 _loc16_.targetted = true;
                                                                                 _loc15_.halfhalf = _loc16_.w / 2 + _loc15_.w / 2;
                                                                                 if(!_loc25_)
                                                                                 {
                                                                                    if(_loc15_.worldx < _loc15_.target.worldx)
                                                                                    {
                                                                                       _loc15_.targetxwant = _loc15_.target.worldx - _loc15_.halfhalf;
                                                                                       if(_loc24_)
                                                                                       {
                                                                                          addr389:
                                                                                       }
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                       _loc15_.targetxwant = _loc15_.target.worldx + _loc15_.halfhalf;
                                                                                    }
                                                                                    _loc15_.targetdist = new Point(_loc15_.targetxwant - _loc15_.worldx,_loc16_.worldy - _loc15_.worldy);
                                                                                    if(_loc24_)
                                                                                    {
                                                                                       addr414:
                                                                                       _loc15_.atkAnim = param5;
                                                                                    }
                                                                                    §§goto(addr430);
                                                                                 }
                                                                                 §§goto(addr417);
                                                                              }
                                                                              §§goto(addr389);
                                                                           }
                                                                           §§goto(addr430);
                                                                        }
                                                                        while(§§pop() < 3)
                                                                        {
                                                                           this.strike(_loc15_,_loc16_);
                                                                           if(!_loc25_)
                                                                           {
                                                                              _loc21_++;
                                                                           }
                                                                           §§goto(addr303);
                                                                        }
                                                                        §§push(delete root[param2 + "/" + param3 + "Trap"]);
                                                                        if(_loc25_)
                                                                        {
                                                                           §§goto(addr424);
                                                                        }
                                                                     }
                                                                     else
                                                                     {
                                                                        this.inAction = true;
                                                                        _loc15_.action = "Action";
                                                                        §§goto(addr326);
                                                                     }
                                                                     §§goto(addr326);
                                                                  }
                                                                  §§pop();
                                                               }
                                                               return;
                                                            }
                                                            if(_loc24_)
                                                            {
                                                               return;
                                                            }
                                                            addr417:
                                                            §§push(param4 in root.items);
                                                            if(_loc24_)
                                                            {
                                                               addr424:
                                                               §§push(§§pop());
                                                               if(_loc24_)
                                                               {
                                                                  if(§§pop())
                                                                  {
                                                                     addr441:
                                                                     if(!_loc25_)
                                                                     {
                                                                        addr430:
                                                                        §§pop();
                                                                        §§push("Gold Price" in root.items[param4]);
                                                                        if(!_loc25_)
                                                                        {
                                                                           addr439:
                                                                           §§push(Boolean(§§pop()));
                                                                        }
                                                                     }
                                                                     var _loc17_:*;
                                                                     if(!(_loc17_ = §§pop()))
                                                                     {
                                                                        if(_loc24_)
                                                                        {
                                                                           this.timermc.visible = false;
                                                                           if(_loc24_)
                                                                           {
                                                                              this.leavebtn.visible = false;
                                                                           }
                                                                        }
                                                                     }
                                                                     var _loc18_:Object;
                                                                     §§push(!(_loc18_ = this.ao[_loc15_.pname]));
                                                                     if(_loc24_)
                                                                     {
                                                                        if(!§§pop())
                                                                        {
                                                                           if(!_loc25_)
                                                                           {
                                                                              §§pop();
                                                                              if(!_loc25_)
                                                                              {
                                                                                 §§push(param12);
                                                                                 if(!_loc25_)
                                                                                 {
                                                                                    addr479:
                                                                                    §§push(Boolean(§§pop()));
                                                                                    if(_loc24_)
                                                                                    {
                                                                                       §§goto(addr482);
                                                                                    }
                                                                                 }
                                                                                 §§goto(addr516);
                                                                              }
                                                                              §§goto(addr566);
                                                                           }
                                                                           §§goto(addr479);
                                                                        }
                                                                        addr482:
                                                                        if(§§pop())
                                                                        {
                                                                           if(_loc24_)
                                                                           {
                                                                              return;
                                                                           }
                                                                           addr523:
                                                                           _loc15_.getChildAt(0).gotoAndStop(_loc19_);
                                                                           if(!_loc25_)
                                                                           {
                                                                              _loc23_ = getTimer();
                                                                              if(_loc24_)
                                                                              {
                                                                                 this.raster(_loc15_,"",null,"Battle",false,_loc15_.getChildAt(0).currentFrame);
                                                                                 trace("Raster time: ");
                                                                                 trace(getTimer() - _loc23_);
                                                                                 if(!_loc25_)
                                                                                 {
                                                                                    addr566:
                                                                                    _loc15_.getChildAt(0).gotoAndStop(_loc22_);
                                                                                 }
                                                                              }
                                                                           }
                                                                           §§goto(addr566);
                                                                        }
                                                                        else
                                                                        {
                                                                           §§push(param4);
                                                                           if(_loc24_)
                                                                           {
                                                                              if(§§pop() == "Attack")
                                                                              {
                                                                                 §§push("attack");
                                                                                 if(!_loc25_)
                                                                                 {
                                                                                    §§push(§§pop() + param5);
                                                                                 }
                                                                                 §§push(§§pop());
                                                                                 if(_loc24_)
                                                                                 {
                                                                                    _loc19_ = §§pop();
                                                                                    if(_loc24_)
                                                                                    {
                                                                                       addr513:
                                                                                       §§push(_loc19_);
                                                                                    }
                                                                                    §§goto(addr566);
                                                                                 }
                                                                                 else
                                                                                 {
                                                                                    addr508:
                                                                                    §§push(§§pop());
                                                                                    if(!_loc25_)
                                                                                    {
                                                                                       addr512:
                                                                                       _loc19_ = §§pop();
                                                                                       §§goto(addr513);
                                                                                    }
                                                                                 }
                                                                              }
                                                                              else
                                                                              {
                                                                                 §§push(param4);
                                                                                 if(_loc24_)
                                                                                 {
                                                                                    §§goto(addr508);
                                                                                 }
                                                                              }
                                                                              addr516:
                                                                              if(!(§§pop() in _loc18_))
                                                                              {
                                                                                 _loc22_ = _loc15_.getChildAt(0).currentFrame;
                                                                                 §§goto(addr523);
                                                                              }
                                                                              §§goto(addr571);
                                                                           }
                                                                           §§goto(addr512);
                                                                        }
                                                                        addr571:
                                                                        return;
                                                                     }
                                                                     §§goto(addr516);
                                                                  }
                                                                  §§goto(addr439);
                                                               }
                                                               §§goto(addr441);
                                                            }
                                                            §§goto(addr430);
                                                            §§goto(addr430);
                                                         }
                                                         §§goto(addr274);
                                                      }
                                                      §§goto(addr326);
                                                   }
                                                   §§goto(addr414);
                                                }
                                             }
                                             §§goto(addr217);
                                          }
                                          _loc15_.mp = param10;
                                          if(!_loc25_)
                                          {
                                             addr213:
                                             §§goto(addr214);
                                             §§push(_loc14_);
                                          }
                                       }
                                       §§goto(addr215);
                                    }
                                    §§goto(addr214);
                                 }
                                 §§goto(addr196);
                              }
                              §§goto(addr192);
                           }
                           else
                           {
                              §§push(param4 !== "Attack");
                              if(_loc24_)
                              {
                                 if(§§pop())
                                 {
                                    §§pop();
                                    if(_loc24_)
                                    {
                                       §§goto(addr160);
                                    }
                                    §§goto(addr213);
                                 }
                                 §§goto(addr160);
                              }
                           }
                           §§goto(addr207);
                        }
                     }
                     §§goto(addr119);
                  }
               }
               §§goto(addr86);
            }
            §§goto(addr107);
         }
         §§goto(addr56);
      }
      
      public function setBattleList(param1:String, param2:int, param3:Boolean = false) : void
      {
         var _loc5_:Boolean = true;
         var _loc6_:Boolean = false;
         var _loc4_:Vector.<String> = Vector.<String>(param1.split(","));
         trace("setting battle pos" + param2);
         trace(_loc4_);
         MovieClip(root)["battlepos" + param2] = _loc4_;
         trace(MovieClip(root)["battlepos" + param2]);
         if(_loc5_)
         {
            §§push(!this.lobbymc);
            if(_loc5_)
            {
               if(!§§pop())
               {
                  if(_loc5_)
                  {
                     §§pop();
                     if(!_loc6_)
                     {
                        §§push(param3);
                        if(!_loc6_)
                        {
                           addr85:
                           if(!§§pop())
                           {
                              §§goto(addr86);
                           }
                           else
                           {
                              this.lobbymc.generatePos();
                           }
                        }
                        §§goto(addr85);
                     }
                     return;
                  }
               }
            }
            §§goto(addr85);
         }
         addr86:
      }
      
      public function setDepth(param1:MovieClip, param2:Vector.<MovieClip>) : void
      {
         var _loc11_:Boolean = false;
         var _loc12_:Boolean = true;
         var _loc7_:MovieClip = null;
         var _loc8_:int = 0;
         var _loc9_:AnimatedBitmap = null;
         var _loc10_:* = 0;
         if(_loc12_)
         {
            if(param1.ar)
            {
               var _loc3_:AnimatedBitmap = param1.ar;
               var _loc4_:int = param2.length;
               var _loc5_:* = int(param1.ar.parent.getChildIndex(param1.ar));
               var _loc6_:int = 0;
               if(!_loc11_)
               {
                  loop0:
                  while(_loc6_ < _loc4_)
                  {
                     _loc8_ = (_loc7_ = param2[_loc6_]).w2 + param1.w2;
                     if(_loc12_)
                     {
                        §§push(_loc7_.group === this.group);
                        if(_loc12_)
                        {
                           §§push(!§§pop());
                           if(_loc12_)
                           {
                              §§push(§§pop());
                              if(_loc12_)
                              {
                                 if(!§§pop())
                                 {
                                    §§pop();
                                    §§push(param1 == _loc7_);
                                    if(!_loc11_)
                                    {
                                       addr90:
                                       §§push(§§pop());
                                       if(!_loc11_)
                                       {
                                          addr94:
                                          if(!§§pop())
                                          {
                                             §§pop();
                                             addr99:
                                             §§push(!_loc7_.ar);
                                             §§push(!_loc7_.ar);
                                             if(!_loc11_)
                                             {
                                                addr102:
                                                if(!§§pop())
                                                {
                                                   if(!_loc11_)
                                                   {
                                                      addr105:
                                                      §§pop();
                                                      §§push(_loc3_.x < _loc7_.ar.x - _loc8_);
                                                   }
                                                }
                                                §§push(§§pop());
                                             }
                                             if(!§§pop())
                                             {
                                                if(!_loc11_)
                                                {
                                                   §§pop();
                                                   §§push(_loc3_.x > _loc7_.ar.x + _loc8_);
                                                }
                                             }
                                             if(§§pop())
                                             {
                                                if(!_loc12_)
                                                {
                                                   continue;
                                                }
                                             }
                                             else
                                             {
                                                _loc9_ = _loc7_.ar;
                                                if(!_loc11_)
                                                {
                                                   §§push(int(getChildIndex(_loc9_)));
                                                   if(_loc12_)
                                                   {
                                                      _loc10_ = §§pop();
                                                      loop1:
                                                      while(true)
                                                      {
                                                         §§push(_loc3_.y < _loc9_.y);
                                                         if(_loc12_)
                                                         {
                                                            §§push(§§pop());
                                                            if(!_loc11_)
                                                            {
                                                               if(§§pop())
                                                               {
                                                                  if(!_loc11_)
                                                                  {
                                                                     addr192:
                                                                     §§pop();
                                                                     §§push(_loc5_);
                                                                     loop9:
                                                                     while(true)
                                                                     {
                                                                        §§push(_loc10_);
                                                                        if(_loc12_)
                                                                        {
                                                                           §§push(§§pop() > §§pop());
                                                                           if(!_loc11_)
                                                                           {
                                                                              while(true)
                                                                              {
                                                                                 if(!§§pop())
                                                                                 {
                                                                                    if(_loc12_)
                                                                                    {
                                                                                       addr203:
                                                                                    }
                                                                                 }
                                                                                 else
                                                                                 {
                                                                                    trace("Lower index");
                                                                                    §§push(_loc5_);
                                                                                    if(_loc12_)
                                                                                    {
                                                                                       §§push(§§pop() - 1);
                                                                                       if(!_loc11_)
                                                                                       {
                                                                                          §§push(int(§§pop()));
                                                                                          if(_loc12_)
                                                                                          {
                                                                                             addr167:
                                                                                             _loc5_ = §§pop();
                                                                                             if(_loc12_)
                                                                                             {
                                                                                                setChildIndex(_loc3_,_loc5_);
                                                                                                if(!_loc11_)
                                                                                                {
                                                                                                   continue loop1;
                                                                                                }
                                                                                                addr257:
                                                                                                loop3:
                                                                                                while(true)
                                                                                                {
                                                                                                   §§push(_loc3_.y > _loc9_.y);
                                                                                                   if(!_loc11_)
                                                                                                   {
                                                                                                      §§push(§§pop());
                                                                                                      break loop1;
                                                                                                   }
                                                                                                   addr247:
                                                                                                   loop2:
                                                                                                   while(true)
                                                                                                   {
                                                                                                      if(!§§pop())
                                                                                                      {
                                                                                                         param1.iadd = _loc5_;
                                                                                                         addr261:
                                                                                                         if(!_loc11_)
                                                                                                         {
                                                                                                            §§push(int(getChildIndex(_loc9_)));
                                                                                                            break loop3;
                                                                                                         }
                                                                                                         _loc6_++;
                                                                                                         continue loop0;
                                                                                                      }
                                                                                                      §§push(_loc5_);
                                                                                                      if(!_loc11_)
                                                                                                      {
                                                                                                         §§push(1);
                                                                                                         if(_loc11_)
                                                                                                         {
                                                                                                            break loop9;
                                                                                                         }
                                                                                                         §§push(§§pop() + §§pop());
                                                                                                         while(true)
                                                                                                         {
                                                                                                            _loc5_ = int(§§pop());
                                                                                                            if(_loc11_)
                                                                                                            {
                                                                                                               break loop2;
                                                                                                            }
                                                                                                            setChildIndex(_loc3_,_loc5_);
                                                                                                            continue loop3;
                                                                                                         }
                                                                                                      }
                                                                                                      else
                                                                                                      {
                                                                                                         while(true)
                                                                                                         {
                                                                                                            §§push(_loc10_);
                                                                                                            break loop9;
                                                                                                         }
                                                                                                         addr245:
                                                                                                      }
                                                                                                   }
                                                                                                   addr258:
                                                                                                   _loc7_.iadd = _loc10_;
                                                                                                   §§goto(addr261);
                                                                                                }
                                                                                                addr257:
                                                                                                _loc10_ = §§pop();
                                                                                                §§goto(addr258);
                                                                                                addr222:
                                                                                             }
                                                                                             break;
                                                                                          }
                                                                                          §§goto(addr257);
                                                                                       }
                                                                                       §§goto(addr213);
                                                                                    }
                                                                                    §§goto(addr167);
                                                                                 }
                                                                                 §§goto(addr222);
                                                                              }
                                                                              while(true)
                                                                              {
                                                                                 §§push(_loc5_);
                                                                                 if(_loc12_)
                                                                                 {
                                                                                    §§goto(addr245);
                                                                                 }
                                                                                 §§goto(addr257);
                                                                              }
                                                                              addr200:
                                                                              addr242:
                                                                           }
                                                                           §§goto(addr247);
                                                                        }
                                                                        break;
                                                                     }
                                                                     while(true)
                                                                     {
                                                                     }
                                                                     addr194:
                                                                  }
                                                                  §§goto(addr247);
                                                               }
                                                               §§goto(addr200);
                                                            }
                                                            break;
                                                         }
                                                         §§goto(addr192);
                                                      }
                                                      while(true)
                                                      {
                                                         if(§§pop())
                                                         {
                                                            if(!_loc11_)
                                                            {
                                                               §§pop();
                                                               §§goto(addr242);
                                                            }
                                                         }
                                                         §§goto(addr247);
                                                      }
                                                   }
                                                   §§goto(addr194);
                                                }
                                                §§goto(addr203);
                                             }
                                             §§goto(addr261);
                                          }
                                          §§goto(addr99);
                                       }
                                       §§goto(addr102);
                                    }
                                    §§goto(addr99);
                                 }
                                 §§goto(addr90);
                              }
                              §§goto(addr94);
                           }
                           §§goto(addr90);
                        }
                        §§goto(addr105);
                     }
                     §§goto(addr99);
                  }
               }
               return;
            }
         }
      }
      
      public function checkCollide(param1:Bitmap, param2:MovieClip) : void
      {
         var _loc7_:Boolean = true;
         var _loc8_:Boolean = false;
         if(_loc7_)
         {
            if(param2)
            {
               var _loc3_:int = param1.x + param1.width;
               var _loc4_:int = param2.team;
               var _loc5_:Bitmap;
               §§push(!(_loc5_ = param2.titleb));
               if(!_loc8_)
               {
                  if(!§§pop())
                  {
                     if(_loc7_)
                     {
                        §§goto(addr43);
                     }
                  }
                  §§goto(addr49);
               }
               addr43:
               §§pop();
               if(_loc7_)
               {
                  addr49:
                  if(_loc5_.visible)
                  {
                     var _loc6_:int = _loc5_.x + _loc5_.width;
                     §§push(_loc4_);
                     if(_loc7_)
                     {
                        §§push(2);
                        if(_loc7_)
                        {
                           §§push(§§pop() == §§pop());
                           if(!_loc8_)
                           {
                              §§push(§§pop());
                              if(_loc7_)
                              {
                                 if(§§pop())
                                 {
                                    if(_loc7_)
                                    {
                                       §§pop();
                                       if(!_loc8_)
                                       {
                                          §§push(_loc3_);
                                          if(_loc7_)
                                          {
                                             §§push(§§pop() > _loc5_.x);
                                             if(_loc7_)
                                             {
                                                §§goto(addr97);
                                             }
                                             §§goto(addr123);
                                          }
                                          §§goto(addr114);
                                       }
                                       §§goto(addr129);
                                    }
                                    §§goto(addr119);
                                 }
                                 addr97:
                                 if(§§pop())
                                 {
                                    param1.x = _loc5_.x - param1.width;
                                 }
                                 else
                                 {
                                    addr114:
                                    §§push(_loc4_ == 1);
                                    if(!_loc8_)
                                    {
                                       addr119:
                                       if(§§pop())
                                       {
                                          if(_loc7_)
                                          {
                                             addr123:
                                             §§pop();
                                             §§push(param1.x < _loc6_);
                                          }
                                       }
                                    }
                                    if(§§pop())
                                    {
                                       addr129:
                                       param1.x = _loc6_;
                                    }
                                 }
                                 return;
                              }
                              §§goto(addr119);
                           }
                           §§goto(addr123);
                        }
                     }
                     §§goto(addr114);
                  }
               }
               return;
            }
         }
      }
      
      public function generatePI(param1:MovieClip, param2:Boolean = false) : void
      {
         var _loc7_:Boolean = true;
         var _loc8_:Boolean = false;
         var _loc3_:MovieClip = null;
         var _loc5_:MovieClip = null;
         trace(this.pi);
         §§push(!this.pi.a.mc);
         if(!_loc8_)
         {
            §§push(§§pop());
            if(_loc7_)
            {
               if(!§§pop())
               {
                  §§pop();
                  if(_loc7_)
                  {
                     §§push(param2);
                     if(!_loc8_)
                     {
                        §§push(Boolean(§§pop()));
                        if(_loc7_)
                        {
                           addr48:
                           if(§§pop())
                           {
                              if(!_loc8_)
                              {
                                 if(this.pi.a.mc)
                                 {
                                    if(!_loc8_)
                                    {
                                       this.q.remove(this.pi.a.mc);
                                       if(_loc7_)
                                       {
                                          addr67:
                                          _loc3_ = this.pi.a.mc = new ZPlayer() as MovieClip;
                                          if(!_loc8_)
                                          {
                                             addChild(_loc3_);
                                             _loc3_.gotoAndStop(param1.pclass);
                                             if(!_loc8_)
                                             {
                                                _loc3_.getChildAt(0).gotoAndStop("standing");
                                                this.q.toggleMC(_loc3_,"stop");
                                                if(_loc7_)
                                                {
                                                   addr104:
                                                   _loc3_.pclass = param1.pclass;
                                                }
                                                _loc3_.pequip = param1.pequip;
                                                if(!_loc8_)
                                                {
                                                   addr114:
                                                   this.setVisual(_loc3_,param1);
                                                }
                                                (_loc5_ = this.pi.a.addChild(_loc3_.getChildAt(0).getChildAt(0))).x = this.pi.a[param1.pclass + "Point"].x;
                                                if(!_loc8_)
                                                {
                                                   _loc5_.y = this.pi.a[param1.pclass + "Point"].y;
                                                   _loc5_.stop();
                                                   _loc3_.removeChild(_loc3_.titlemc);
                                                   _loc3_.removeChild(_loc3_.bubble);
                                                   _loc3_.x = this.pi.a.point.x;
                                                   _loc3_.y = this.pi.a.point.y;
                                                   _loc5_.mask = this.pi.a.maskmc;
                                                   if(_loc7_)
                                                   {
                                                      _loc3_.getChildAt(0).stop();
                                                      if(!_loc7_)
                                                      {
                                                      }
                                                      addr205:
                                                      this.pi.a.mc = _loc5_;
                                                      §§push(Boolean(root.connection));
                                                      if(_loc7_)
                                                      {
                                                         addr215:
                                                         if(§§pop())
                                                         {
                                                            §§pop();
                                                            if(!_loc8_)
                                                            {
                                                               addr224:
                                                               if(root.connection.connected)
                                                               {
                                                                  param1.hp = param1.maxhp;
                                                                  if(!_loc7_)
                                                                  {
                                                                  }
                                                                  addr255:
                                                                  this.pi.mpbar.bar.scaleX = param1.mp / param1.maxmp;
                                                                  addr265:
                                                                  this.pi.mptxt.text = param1.mp + "/" + param1.maxmp;
                                                                  var _loc4_:BitmapData = new BitmapData(this.pi.width,this.pi.height,true,0);
                                                                  if(!_loc8_)
                                                                  {
                                                                     stage.quality = "high";
                                                                     _loc4_.draw(this.pi);
                                                                     if(!_loc8_)
                                                                     {
                                                                        stage.quality = "low";
                                                                        if(this.pi.b)
                                                                        {
                                                                           if(!_loc8_)
                                                                           {
                                                                              this.pi.b.bitmapData.dispose();
                                                                           }
                                                                           this.q.remove(this.pi.b);
                                                                           addr319:
                                                                           this.pi.b = null;
                                                                           if(!_loc8_)
                                                                           {
                                                                              addr325:
                                                                              this.pi.b = new Bitmap(_loc4_,"auto",true);
                                                                              if(!_loc8_)
                                                                              {
                                                                                 addChildAt(this.pi.b,getChildIndex(this.chatmin));
                                                                                 this.pi.b.x = this.pi.x;
                                                                                 if(_loc7_)
                                                                                 {
                                                                                    this.pi.b.y = this.pi.y;
                                                                                    if(!_loc8_)
                                                                                    {
                                                                                       addr370:
                                                                                       this.pi.visible = false;
                                                                                    }
                                                                                 }
                                                                                 _loc3_ = null;
                                                                                 if(_loc7_)
                                                                                 {
                                                                                    this.mousedepth();
                                                                                 }
                                                                                 return;
                                                                              }
                                                                           }
                                                                           §§goto(addr370);
                                                                        }
                                                                        §§goto(addr325);
                                                                     }
                                                                  }
                                                                  §§goto(addr319);
                                                               }
                                                            }
                                                            this.pi.hpbar.bar.scaleX = param1.hp / param1.maxhp;
                                                            addr241:
                                                            this.pi.hptxt.text = param1.hp + "/" + param1.maxhp;
                                                            if(_loc8_)
                                                            {
                                                            }
                                                            §§goto(addr255);
                                                         }
                                                      }
                                                      §§goto(addr224);
                                                   }
                                                   this.q.remove(_loc3_);
                                                }
                                                §§goto(addr205);
                                             }
                                             §§goto(addr114);
                                          }
                                          §§goto(addr104);
                                       }
                                       §§goto(addr265);
                                    }
                                    §§goto(addr255);
                                 }
                                 §§goto(addr67);
                              }
                              §§goto(addr241);
                           }
                           §§goto(addr205);
                        }
                        §§goto(addr215);
                     }
                  }
                  §§goto(addr224);
               }
               §§goto(addr48);
            }
            §§goto(addr215);
         }
         §§goto(addr224);
      }
      
      public function slotSearch(param1:MovieClip, param2:String) : void
      {
         var _loc5_:Boolean = false;
         var _loc6_:Boolean = true;
         if(_loc6_)
         {
            §§push(param2);
            if(!_loc5_)
            {
               §§push("None");
               if(_loc6_)
               {
                  if(§§pop() == §§pop())
                  {
                     if(!_loc5_)
                     {
                        param1.gotoAndStop(1);
                        if(_loc5_)
                        {
                           §§goto(addr39);
                        }
                     }
                     return;
                  }
                  addr36:
                  if(param2 == "Locked")
                  {
                     if(!_loc5_)
                     {
                        §§goto(addr39);
                     }
                  }
                  else
                  {
                     var _loc3_:int = param1.totalFrames;
                     §§push(param2);
                     if(_loc6_)
                     {
                        §§push("Recipe");
                        if(_loc6_)
                        {
                           if(§§pop().indexOf(§§pop()) >= 0)
                           {
                              param1.gotoAndStop("Recipe");
                              this.q.containsLabel(param1.a,param2,true);
                              if(!_loc5_)
                              {
                                 return;
                              }
                           }
                           else
                           {
                              addr80:
                              if(param2.indexOf("Skill Manual") >= 0)
                              {
                                 param1.gotoAndStop("Skill Manual");
                                 param1.a.gotoAndStop("Skill Manual");
                              }
                              else
                              {
                                 var _loc4_:int = 2;
                                 if(!_loc5_)
                                 {
                                    while(_loc4_ <= _loc3_)
                                    {
                                       param1.gotoAndStop(_loc4_);
                                       if(!_loc5_)
                                       {
                                          if(this.q.containsLabel(param1.a,param2,true))
                                          {
                                             if(!_loc5_)
                                             {
                                                return;
                                             }
                                          }
                                          else
                                          {
                                             _loc4_++;
                                          }
                                       }
                                    }
                                    if(!_loc5_)
                                    {
                                       trace("Label not found in slot");
                                       if(_loc6_)
                                       {
                                          addr134:
                                          param1.gotoAndStop(1);
                                       }
                                    }
                                    return;
                                 }
                                 §§goto(addr134);
                              }
                           }
                           return;
                        }
                     }
                     §§goto(addr80);
                  }
                  §§goto(addr39);
               }
            }
            §§goto(addr36);
         }
         addr39:
         param1.gotoAndStop("Locked");
      }
      
      public function setSlot(param1:MovieClip, param2:String, param3:Boolean = false) : void
      {
         var _loc9_:Boolean = false;
         var _loc10_:Boolean = true;
         var _loc4_:* = uint(1);
         if(!_loc9_)
         {
            if(param2.indexOf("_") >= 0)
            {
               §§push(uint(uint(param2.split("_")[1].split("?")[0])));
               if(!_loc9_)
               {
                  _loc4_ = §§pop();
                  if(!_loc9_)
                  {
                     addr45:
                     param1.item = param2;
                     param1.q = _loc4_;
                     param1.qtxt.text = "";
                     addr56:
                     if(_loc4_ > 1)
                     {
                        if(_loc10_)
                        {
                           param1.qtxt.text = String(_loc4_);
                           §§goto(addr66);
                        }
                        §§goto(addr140);
                     }
                     addr66:
                     if(param1.a.currentFrameLabel == param2)
                     {
                        if(_loc10_)
                        {
                           return;
                        }
                        addr110:
                        trace("already got slot " + param1.id);
                        if(!_loc10_)
                        {
                           addr126:
                           param1.b.bitmapData.dispose();
                           param1.removeChild(param1.b);
                           param1.b = null;
                           if(_loc10_)
                           {
                              addr140:
                              this.slotSearch(param1,param2.split("_")[0].split("?")[0]);
                              param1.a.visible = true;
                              addr163:
                              var _loc5_:BitmapData = param1.bd = new BitmapData(param1.width,param1.height,true,0);
                              if(!_loc9_)
                              {
                                 param1.qtxt.visible = false;
                                 if(_loc10_)
                                 {
                                    this.scaleContentsX(param1,param1.scaleX,param1.scaleY);
                                 }
                              }
                              var _loc6_:Rectangle = param1.getBounds(param1);
                              if(!_loc9_)
                              {
                                 stage.quality = "high";
                                 if(!_loc9_)
                                 {
                                    addr210:
                                    _loc5_.draw(param1,new Matrix(1,0,0,1,-_loc6_.x,-_loc6_.y));
                                    if(_loc10_)
                                    {
                                       stage.quality = "low";
                                       if(!_loc10_)
                                       {
                                       }
                                       addr240:
                                       _loc6_ = param1.getBounds(param1);
                                       if(_loc10_)
                                       {
                                          param1.qtxt.visible = true;
                                          if(!_loc9_)
                                          {
                                             param1.a.visible = false;
                                          }
                                       }
                                       var _loc7_:Bitmap;
                                       (_loc7_ = param1.b = new Bitmap(_loc5_,"auto",true)).name = param2.split("_")[0];
                                       if(_loc10_)
                                       {
                                          _loc7_.scaleX /= param1.scaleX;
                                          if(_loc10_)
                                          {
                                             addr291:
                                             _loc7_.scaleY /= param1.scaleY;
                                             if(!_loc9_)
                                             {
                                                _loc7_.x = _loc6_.x;
                                                if(_loc10_)
                                                {
                                                   _loc7_.y = _loc6_.y;
                                                   if(_loc10_)
                                                   {
                                                      param1.addChildAt(_loc7_,0);
                                                   }
                                                }
                                             }
                                          }
                                          _loc7_ = null;
                                          return;
                                       }
                                       §§goto(addr291);
                                    }
                                    this.scaleContentsDivide(param1,param1.scaleX,param1.scaleY);
                                 }
                                 §§goto(addr240);
                              }
                              §§goto(addr210);
                              addr152:
                           }
                           §§goto(addr152);
                        }
                     }
                     else
                     {
                        param1.qtxt.mouseEnabled = false;
                        if(_loc10_)
                        {
                           param1.mouseChildren = false;
                           param1.slot = true;
                           §§push(Boolean(param1.b));
                           if(_loc10_)
                           {
                              if(§§pop())
                              {
                                 if(_loc10_)
                                 {
                                    §§goto(addr96);
                                 }
                              }
                              if(§§pop())
                              {
                                 §§goto(addr110);
                              }
                              else if(param1.b)
                              {
                                 §§goto(addr126);
                              }
                              §§goto(addr140);
                           }
                           §§goto(addr96);
                        }
                     }
                     param1.a.visible = false;
                     §§goto(addr96);
                  }
                  addr96:
                  §§pop();
                  if(_loc10_)
                  {
                     §§push(param1.b.name == param2.split("_")[0]);
                  }
                  return;
               }
               §§goto(addr56);
            }
            §§goto(addr45);
         }
         §§goto(addr163);
      }
      
      public function additems(param1:Message, param2:String) : void
      {
         var _loc4_:Boolean = true;
         var _loc5_:Boolean = false;
         var mc:MovieClip = null;
         var itemsv:Vector.<String> = null;
         var q:String = null;
         var item:String = null;
         var m:Message = param1;
         var items:String = param2;
         if(_loc4_)
         {
            var additem:* = function(param1:int):void
            {
               var _loc3_:Boolean = false;
               var _loc4_:Boolean = true;
               if(!_loc3_)
               {
                  var i2:int = param1;
                  if(_loc4_)
                  {
                     if(i2 > itemsv.length - 1)
                     {
                        if(!_loc3_)
                        {
                           return;
                        }
                     }
                     else
                     {
                        var item:String = itemsv[i2];
                        addr33:
                        if(item == "")
                        {
                           if(_loc4_)
                           {
                              additem(i2 + 1);
                              return;
                           }
                        }
                        else
                        {
                           var s:MovieClip = new Slot() as MovieClip;
                           setSlot(s,item);
                           addChild(s);
                           if(!_loc3_)
                           {
                              s.x = mc.x;
                              if(_loc4_)
                              {
                                 addr74:
                                 s.y = mc.y - 50;
                              }
                              txtFly(s,new Point(invbtn.x,invbtn.y),function():void
                              {
                                 additem(i2 + 1);
                              });
                              §§goto(addr92);
                           }
                        }
                     }
                     §§goto(addr74);
                  }
                  §§goto(addr33);
               }
               addr92:
            };
            if(!_loc5_)
            {
               addr50:
               mc = this.pmcs[this.pChar.key + "_mc"];
               if(_loc4_)
               {
                  addr64:
                  itemsv = Vector.<String>(items.split(","));
                  if(!_loc5_)
                  {
                     addr79:
                     var n:int = itemsv.length;
                     if(!_loc5_)
                     {
                        addr88:
                        var i:int = 0;
                     }
                     while(i < n)
                     {
                        §§push(itemsv[i]);
                        if(!_loc5_)
                        {
                           §§push("_");
                           if(!_loc5_)
                           {
                              if(§§pop().split(§§pop())[0] != "")
                              {
                                 q = "";
                                 if(_loc4_)
                                 {
                                    addr123:
                                    if(itemsv[i].indexOf("_") >= 0)
                                    {
                                       if(!_loc4_)
                                       {
                                          continue;
                                       }
                                       q = itemsv[i].split("_")[1] + " ";
                                    }
                                 }
                                 §§push(§§newactivation());
                                 §§push(itemsv[i]);
                                 if(!_loc5_)
                                 {
                                    §§push(§§pop().split("_")[0]);
                                 }
                                 §§pop().§§slot[9] = §§pop();
                                 if(!_loc4_)
                                 {
                                    continue;
                                 }
                                 if(this.chattxt)
                                 {
                                    MovieClip(root).q.addChatTxt(this.chattxt,this.getTxt("Received") + " " + q + (item.indexOf("Recipe") >= 0 ? this.getTxt(item.split(" Recipe")[0]) + " " + this.getTxt("Recipe") : (item.indexOf("Skill Manual") >= 0 ? this.getTxt(item.split(" Skill Manual")[0]) + " " + this.getTxt("Skill Manual") : this.getTxt(item))) + ".","Public",16776960);
                                 }
                              }
                              §§push(i);
                              if(_loc4_)
                              {
                                 §§push(§§pop() + 1);
                              }
                              i = §§pop();
                              continue;
                           }
                        }
                        §§goto(addr123);
                     }
                     if(!mc)
                     {
                        return;
                     }
                     additem(0);
                     return;
                  }
                  §§goto(addr88);
               }
               §§goto(addr79);
            }
            §§goto(addr64);
         }
         §§goto(addr50);
      }
      
      public function inventoryupdate(param1:Message, param2:String = "", param3:uint = 1, param4:int = -1) : *
      {
         var _loc6_:Boolean = false;
         var _loc7_:Boolean = true;
         var _loc5_:int = 0;
         if(_loc7_)
         {
            §§push(param2);
            if(!_loc6_)
            {
               §§push("");
               if(_loc7_)
               {
                  if(§§pop() !== §§pop())
                  {
                     trace("New inventory: " + param2);
                     addr35:
                     if(param2.indexOf("Potion") >= 0)
                     {
                        if(!_loc6_)
                        {
                           this.tip(10);
                           addr43:
                           this.pChar.Inventory = param2.split(",");
                           if(!_loc6_)
                           {
                              if(this.invmc)
                              {
                                 if(!_loc6_)
                                 {
                                    this.invmc.listinv();
                                    addr67:
                                    if(this.enchantmc)
                                    {
                                       if(!_loc6_)
                                       {
                                          this.enchantmc.refresh();
                                          addr75:
                                          if(this.charmc)
                                          {
                                             if(_loc7_)
                                             {
                                                addr80:
                                                this.charmc.listequip();
                                                if(_loc7_)
                                                {
                                                   addr85:
                                                   §§push(param3);
                                                   if(!_loc6_)
                                                   {
                                                      §§goto(addr119);
                                                   }
                                                   _loc5_ = §§pop() - this.pChar.Money;
                                                   if(this.onKong)
                                                   {
                                                      this.kongregate.stats.submit("Denars",param3);
                                                      addr113:
                                                      this.pChar.Money = param3;
                                                      this.displaymoney();
                                                   }
                                                   §§goto(addr113);
                                                }
                                             }
                                          }
                                          §§goto(addr85);
                                       }
                                       addr119:
                                       if(§§pop() > -1)
                                       {
                                          addr97:
                                          §§push(param3);
                                       }
                                       return;
                                    }
                                    §§goto(addr75);
                                 }
                                 §§goto(addr113);
                              }
                              §§goto(addr67);
                           }
                           §§goto(addr80);
                        }
                        §§goto(addr67);
                     }
                     §§goto(addr43);
                  }
                  §§goto(addr85);
               }
            }
            §§goto(addr35);
         }
         §§goto(addr97);
      }
      
      public function swapslot(param1:Message, param2:int, param3:int, param4:String, param5:String, param6:String, param7:String) : void
      {
         var _loc12_:Boolean = true;
         var _loc13_:Boolean = false;
         trace(param2);
         trace(param3);
         trace(param4);
         trace(param5);
         if(!_loc13_)
         {
            trace(param6);
            trace(param7);
         }
         var _loc8_:DatabaseObject = this.pChar;
         var _loc9_:DatabaseObject = this.pChar;
         if(_loc12_)
         {
            §§push(param4);
            if(_loc12_)
            {
               §§push("Warehouse");
               if(!_loc13_)
               {
                  if(§§pop() == §§pop())
                  {
                     if(_loc12_)
                     {
                        addr56:
                        _loc8_ = this.account;
                        addr60:
                        addr62:
                        addr61:
                        if(param5 == "Warehouse")
                        {
                           addr63:
                           _loc9_ = this.account;
                        }
                        var _loc10_:Object = _loc8_[param4];
                        var _loc11_:Object = _loc9_[param5];
                        if(_loc12_)
                        {
                           §§push(param4);
                           if(_loc12_)
                           {
                              §§push(".");
                              if(!_loc13_)
                              {
                                 if(§§pop().indexOf(§§pop()) >= 0)
                                 {
                                    _loc10_ = this.pChar[param4.split(".")[0]][param4.split(".")[1]];
                                 }
                                 §§push(param5);
                                 if(!_loc13_)
                                 {
                                    §§push(".");
                                    if(!_loc13_)
                                    {
                                       if(§§pop().indexOf(§§pop()) >= 0)
                                       {
                                          if(_loc12_)
                                          {
                                             _loc11_ = this.pChar[param5.split(".")[0]][param5.split(".")[1]];
                                             addr139:
                                             _loc10_[param2] = param6;
                                             _loc11_[param3] = param7;
                                             §§push(param4);
                                             if(_loc12_)
                                             {
                                                addr150:
                                                §§push("Inventory");
                                                if(!_loc13_)
                                                {
                                                   §§push(§§pop().indexOf(§§pop()) >= 0);
                                                   if(!_loc13_)
                                                   {
                                                      §§push(§§pop());
                                                      if(!_loc13_)
                                                      {
                                                         if(!§§pop())
                                                         {
                                                            if(!_loc13_)
                                                            {
                                                               §§pop();
                                                               if(_loc12_)
                                                               {
                                                                  §§push(param5);
                                                                  if(!_loc13_)
                                                                  {
                                                                     §§push("Inventory");
                                                                     if(!_loc13_)
                                                                     {
                                                                        addr179:
                                                                        §§push(§§pop().indexOf(§§pop()) >= 0);
                                                                        §§push(§§pop().indexOf(§§pop()) >= 0);
                                                                        if(!_loc13_)
                                                                        {
                                                                           if(§§pop())
                                                                           {
                                                                              addr232:
                                                                              if(!_loc13_)
                                                                              {
                                                                                 §§pop();
                                                                                 §§push(Boolean(this.invmc));
                                                                              }
                                                                              if(§§pop())
                                                                              {
                                                                                 this.statchange();
                                                                                 addr235:
                                                                                 if(this.charmc)
                                                                                 {
                                                                                    this.charmc.listequip();
                                                                                    if(!_loc13_)
                                                                                    {
                                                                                       addr244:
                                                                                       if(this.enchantmc)
                                                                                       {
                                                                                          addr247:
                                                                                          this.enchantmc.refresh();
                                                                                       }
                                                                                    }
                                                                                    return;
                                                                                 }
                                                                              }
                                                                              §§goto(addr244);
                                                                           }
                                                                           if(§§pop())
                                                                           {
                                                                              if(!_loc13_)
                                                                              {
                                                                                 addr194:
                                                                                 this.invmc.listinv();
                                                                                 addr197:
                                                                                 if(this.warehousemc)
                                                                                 {
                                                                                    if(!_loc13_)
                                                                                    {
                                                                                       addr203:
                                                                                       this.warehousemc.listinv();
                                                                                    }
                                                                                    §§goto(addr235);
                                                                                 }
                                                                                 §§push(param4);
                                                                                 if(_loc12_)
                                                                                 {
                                                                                    §§push("Equip");
                                                                                    if(!_loc13_)
                                                                                    {
                                                                                       addr216:
                                                                                       §§push(§§pop().indexOf(§§pop()) >= 0);
                                                                                       if(!(§§pop().indexOf(§§pop()) >= 0))
                                                                                       {
                                                                                          §§pop();
                                                                                          if(!_loc13_)
                                                                                          {
                                                                                             addr229:
                                                                                             §§goto(addr232);
                                                                                             §§push(param5.indexOf("Equip") >= 0);
                                                                                          }
                                                                                          §§goto(addr247);
                                                                                       }
                                                                                       §§goto(addr232);
                                                                                    }
                                                                                 }
                                                                                 §§goto(addr229);
                                                                              }
                                                                              §§goto(addr244);
                                                                           }
                                                                           §§goto(addr197);
                                                                        }
                                                                     }
                                                                     §§goto(addr216);
                                                                  }
                                                                  §§goto(addr229);
                                                               }
                                                               §§goto(addr194);
                                                            }
                                                            §§goto(addr232);
                                                         }
                                                         §§goto(addr179);
                                                      }
                                                      §§goto(addr216);
                                                   }
                                                   §§goto(addr232);
                                                }
                                             }
                                             §§goto(addr229);
                                          }
                                          §§goto(addr203);
                                       }
                                       §§goto(addr139);
                                    }
                                 }
                              }
                              §§goto(addr229);
                           }
                           §§goto(addr150);
                        }
                        §§goto(addr235);
                     }
                     §§goto(addr63);
                  }
                  §§goto(addr60);
               }
               §§goto(addr62);
            }
            §§goto(addr61);
         }
         §§goto(addr56);
      }
      
      public function refreshequip(param1:Message, param2:String, param3:String, param4:Boolean = true) : void
      {
         var _loc6_:Boolean = false;
         var _loc7_:Boolean = true;
         if(_loc7_)
         {
            var mc:MovieClip = null;
            if(_loc7_)
            {
               var l:Loader = null;
               if(_loc7_)
               {
                  var done:* = undefined;
                  var m:Message = param1;
                  var p:String = param2;
                  var e:String = param3;
                  var r:Boolean = param4;
                  trace("Refresh Equip now");
                  var equip:Vector.<String> = Vector.<String>(e.split("-"));
                  mc = this.pmcs[p + "_mc"];
                  if(_loc7_)
                  {
                     §§push(!mc);
                     if(!_loc6_)
                     {
                        §§push(§§pop());
                        if(!_loc6_)
                        {
                           if(!§§pop())
                           {
                              §§pop();
                              §§push(!mc.stage);
                           }
                           if(§§pop())
                           {
                              return;
                           }
                           mc.pequip = equip;
                           if(!_loc6_)
                           {
                              mc.getChildAt(0).getChildAt(0)[mc.wep1].gotoAndStop(mc.pequip[2].split("_")[0]);
                              if(mc.getChildAt(0).getChildAt(0)[mc.wep2])
                              {
                                 if(mc.pclass !== "Samurai")
                                 {
                                    if(!_loc6_)
                                    {
                                       mc.getChildAt(0).getChildAt(0)[mc.wep2].gotoAndStop(mc.pequip[4].split("_")[0]);
                                       addr184:
                                       §§push(mc.pequip[3].split("_")[0] === "None");
                                       if(_loc7_)
                                       {
                                          §§push(!§§pop());
                                          §§push(!§§pop());
                                          if(!_loc6_)
                                          {
                                             if(§§pop())
                                             {
                                                if(!_loc6_)
                                                {
                                                   §§pop();
                                                   addr228:
                                                   if(mc.pequip[3].split("_")[0] !== mc.back)
                                                   {
                                                      §§goto(addr229);
                                                   }
                                                   else
                                                   {
                                                      §§push(Boolean(mc.backmc));
                                                      §§push(Boolean(mc.backmc));
                                                      if(!_loc6_)
                                                      {
                                                         §§goto(addr317);
                                                      }
                                                      §§goto(addr364);
                                                   }
                                                }
                                                §§goto(addr403);
                                             }
                                             §§goto(addr228);
                                          }
                                          §§goto(addr364);
                                       }
                                       §§goto(addr228);
                                    }
                                    addr229:
                                    done = function(param1:Event):void
                                    {
                                       var _loc2_:Boolean = true;
                                       var _loc3_:Boolean = false;
                                       §§push(Boolean(mc.backmc));
                                       if(!_loc3_)
                                       {
                                          if(§§pop())
                                          {
                                             if(_loc2_)
                                             {
                                                §§pop();
                                                §§push(mc.backmc.stage === null);
                                                if(_loc2_)
                                                {
                                                   addr22:
                                                   §§push(!§§pop());
                                                }
                                             }
                                          }
                                          if(§§pop())
                                          {
                                             q.remove(mc.backmc);
                                             if(_loc2_)
                                             {
                                                §§goto(addr30);
                                             }
                                             §§goto(addr62);
                                          }
                                          addr30:
                                          mc.backmc = l.content.a;
                                          if(!_loc3_)
                                          {
                                             mc.backmc.mc = mc;
                                             root.backDecs.push(mc.backmc);
                                             if(_loc2_)
                                             {
                                                addChild(mc.backmc);
                                                if(!_loc3_)
                                                {
                                                   l.unloadAndStop();
                                                }
                                             }
                                             mc.backmc.mouseChildren = false;
                                             addr62:
                                             mc.backmc.mouseEnabled = false;
                                             if(_loc2_)
                                             {
                                                l.contentLoaderInfo.removeEventListener(Event.COMPLETE,done);
                                             }
                                             l = null;
                                          }
                                          return;
                                       }
                                       §§goto(addr22);
                                    };
                                    if(!_loc6_)
                                    {
                                       §§push(Boolean(mc.backmc));
                                       if(_loc7_)
                                       {
                                          §§push(§§pop());
                                          if(_loc7_)
                                          {
                                             addr246:
                                             if(§§pop())
                                             {
                                                if(!_loc6_)
                                                {
                                                   §§pop();
                                                   §§push(mc.backmc.stage === null);
                                                }
                                                §§push(!§§pop());
                                                if(!_loc7_)
                                                {
                                                   addr336:
                                                   if(§§pop())
                                                   {
                                                      if(!_loc6_)
                                                      {
                                                         this.q.remove(mc.backmc);
                                                         §§goto(addr345);
                                                      }
                                                      §§goto(addr375);
                                                   }
                                                }
                                                §§goto(addr355);
                                             }
                                             if(§§pop())
                                             {
                                                addr261:
                                                this.q.remove(mc.backmc);
                                             }
                                             mc.back = mc.pequip[3].split("_")[0];
                                             if(!_loc6_)
                                             {
                                                l = new Loader();
                                                §§goto(addr286);
                                             }
                                             §§goto(addr364);
                                          }
                                          else
                                          {
                                             addr317:
                                             if(§§pop())
                                             {
                                                if(_loc7_)
                                                {
                                                   §§pop();
                                                   §§push(mc.pequip[3].split("_")[0] == "None");
                                                   if(!_loc6_)
                                                   {
                                                      §§goto(addr336);
                                                   }
                                                   §§goto(addr364);
                                                }
                                             }
                                          }
                                          §§goto(addr336);
                                       }
                                       §§goto(addr403);
                                    }
                                    addr286:
                                    l.load(new URLRequest("http://mallorca-immobilien@mallorca-immobilien.biz/Esgrima2/Back/" + mc.back + ".swf"));
                                    if(_loc7_)
                                    {
                                       l.contentLoaderInfo.addEventListener(Event.COMPLETE,done);
                                       §§goto(addr355);
                                    }
                                    else
                                    {
                                       addr345:
                                       mc.backmc = null;
                                       if(_loc7_)
                                       {
                                          mc.back = "None";
                                          addr355:
                                          root.generateBlends(mc);
                                          if(!_loc6_)
                                          {
                                             addr361:
                                             var type:String = "City";
                                             addr364:
                                             §§push(Boolean(this.battle));
                                             if(Boolean(this.battle))
                                             {
                                                §§pop();
                                                addr374:
                                                if(this.battle.connected)
                                                {
                                                   addr375:
                                                   type = "Battle";
                                                   if(_loc6_)
                                                   {
                                                   }
                                                   addr385:
                                                   if(p == this.pChar.key)
                                                   {
                                                      §§goto(addr398);
                                                   }
                                                   §§goto(addr403);
                                                }
                                                var ins:String = "instant";
                                                if(!_loc6_)
                                                {
                                                   §§goto(addr385);
                                                }
                                                §§goto(addr408);
                                             }
                                             §§goto(addr374);
                                          }
                                          §§goto(addr375);
                                       }
                                       §§goto(addr398);
                                    }
                                 }
                                 else
                                 {
                                    mc.getChildAt(0).getChildAt(0)[mc.wep2].gotoAndStop(mc.getChildAt(0).getChildAt(0)[mc.wep1].currentFrame);
                                 }
                              }
                              §§goto(addr184);
                           }
                           §§goto(addr361);
                        }
                        §§goto(addr246);
                     }
                     §§goto(addr374);
                  }
                  §§goto(addr345);
               }
               §§goto(addr261);
            }
            addr398:
            ins = "instant";
            if(!_loc6_)
            {
               addr403:
               if(r)
               {
                  if(_loc7_)
                  {
                     addr408:
                     this.raster(mc,ins,this.afterraster,type,true);
                  }
               }
            }
            return;
         }
         §§goto(addr355);
      }
      
      public function generateTool(param1:String, param2:String = "Default", param3:int = -1, param4:int = -1, param5:Boolean = false) : void
      {
         var _loc46_:Boolean = false;
         var _loc47_:Boolean = true;
         var _loc7_:* = uint(0);
         var _loc8_:* = null;
         var _loc9_:MovieClip = null;
         var _loc10_:String = null;
         var _loc11_:* = null;
         var _loc12_:Object = null;
         var _loc13_:* = 0;
         var _loc14_:* = null;
         var _loc15_:Boolean = false;
         var _loc16_:String = null;
         var _loc17_:BitmapData = null;
         var _loc18_:Bitmap = null;
         var _loc19_:* = false;
         var _loc20_:Vector.<String> = null;
         var _loc21_:* = null;
         var _loc22_:* = null;
         var _loc23_:* = 0;
         var _loc24_:* = 0;
         var _loc25_:* = 0;
         var _loc26_:Vector.<String> = null;
         var _loc27_:* = 0;
         var _loc28_:* = null;
         var _loc29_:* = null;
         var _loc30_:* = 0;
         var _loc31_:* = null;
         var _loc32_:* = 0;
         var _loc33_:* = 0;
         var _loc34_:String = null;
         var _loc35_:* = null;
         var _loc36_:TextFormat = null;
         var _loc37_:* = 0;
         var _loc38_:MovieClip = null;
         var _loc39_:* = null;
         var _loc40_:String = null;
         var _loc41_:* = null;
         var _loc42_:String = null;
         var _loc43_:String = null;
         if(_loc47_)
         {
            trace("generating tooltip");
         }
         var _loc6_:Boolean = false;
         §§push(uint(0));
         if(!_loc46_)
         {
            _loc7_ = §§pop();
            if(_loc47_)
            {
               §§push(param1);
               if(!_loc46_)
               {
                  §§push("?");
                  if(_loc47_)
                  {
                     if(§§pop().indexOf(§§pop()) >= 0)
                     {
                        addr151:
                        _loc7_ = uint(uint(param1.split("?")[1]));
                        addr143:
                        §§push(param1);
                        if(_loc47_)
                        {
                           §§push("?");
                           if(!_loc46_)
                           {
                              §§push(§§pop().split(§§pop())[0]);
                              if(_loc47_)
                              {
                                 addr167:
                                 param1 = §§pop();
                                 addr168:
                                 §§push(param1);
                                 if(_loc47_)
                                 {
                                    addr173:
                                    §§push(§§pop().split("_")[0]);
                                 }
                                 _loc8_ = §§pop();
                                 if(_loc47_)
                                 {
                                    if(this.toolb)
                                    {
                                       this.toolb.bitmapData.dispose();
                                       removeChild(this.toolb);
                                    }
                                 }
                                 (_loc9_ = this.toolmc = new Tooltip() as MovieClip).item = param1;
                                 this.slotSearch(_loc9_.slot,_loc8_);
                                 trace(_loc8_);
                                 §§push(param1);
                                 §§push("_");
                                 if(_loc47_)
                                 {
                                    _loc10_ = §§pop().split(§§pop())[0];
                                    if(!_loc46_)
                                    {
                                       §§push("Name");
                                       if(!_loc46_)
                                       {
                                          §§push(§§pop() in this.items[_loc8_]);
                                          if(_loc47_)
                                          {
                                             if(§§pop())
                                             {
                                                if(_loc47_)
                                                {
                                                   _loc10_ = this.items[_loc8_].Name.split("_")[1];
                                                   if(_loc47_)
                                                   {
                                                      addr254:
                                                      §§push("");
                                                      if(_loc47_)
                                                      {
                                                         _loc11_ = §§pop();
                                                         §§push(_loc10_);
                                                         if(!_loc46_)
                                                         {
                                                            §§push("Skill Manual");
                                                            if(_loc47_)
                                                            {
                                                               if(§§pop().indexOf(§§pop()) >= 0)
                                                               {
                                                                  if(!_loc46_)
                                                                  {
                                                                     §§push("Skill Manual");
                                                                     if(_loc47_)
                                                                     {
                                                                        _loc11_ = §§pop();
                                                                        addr298:
                                                                        if(_loc11_ !== "")
                                                                        {
                                                                           _loc9_.nametxt.text = root.getTxt(_loc10_.split(" " + _loc11_)[0],_loc9_.nametxt) + " " + root.getTxt(_loc11_);
                                                                           addr321:
                                                                           _loc9_.txt.defaultTextFormat = _loc9_.nametxt.defaultTextFormat;
                                                                           if(!_loc46_)
                                                                           {
                                                                              _loc9_.txt2.defaultTextFormat = _loc9_.nametxt.defaultTextFormat;
                                                                              §§push("");
                                                                              if(_loc47_)
                                                                              {
                                                                                 addr340:
                                                                                 _loc14_ = §§pop();
                                                                                 §§push("Type");
                                                                              }
                                                                           }
                                                                           _loc9_.txt2.appendText(_loc12_.Points[_loc12_.LevelHave]);
                                                                           if(_loc7_ > 0)
                                                                           {
                                                                              if(!_loc46_)
                                                                              {
                                                                                 addr1557:
                                                                                 (_loc36_ = new TextFormat()).color = 16762424;
                                                                                 if(!_loc46_)
                                                                                 {
                                                                                    §§push(int(_loc9_.txt.length));
                                                                                    if(!_loc46_)
                                                                                    {
                                                                                       _loc37_ = §§pop();
                                                                                       _loc9_.txt.appendText(this.getTxt("Sale Price"));
                                                                                       _loc9_.txt.setTextFormat(_loc36_,_loc37_,_loc9_.txt.length);
                                                                                       addr1587:
                                                                                       §§push(int(_loc9_.txt2.length));
                                                                                    }
                                                                                    _loc37_ = §§pop();
                                                                                    if(!_loc46_)
                                                                                    {
                                                                                       _loc9_.txt2.appendText(this.q.comma(String(_loc7_)));
                                                                                       if(_loc46_)
                                                                                       {
                                                                                       }
                                                                                       addr1615:
                                                                                       _loc9_.r.height = _loc9_.txt.height + 20;
                                                                                       trace(param1);
                                                                                       if(_loc47_)
                                                                                       {
                                                                                          addr1631:
                                                                                          addr1630:
                                                                                          if(param1.split("_").length > 2)
                                                                                          {
                                                                                             addr1635:
                                                                                             §§push(int(param1.split("_").length));
                                                                                             if(_loc47_)
                                                                                             {
                                                                                                addr1643:
                                                                                                _loc27_ = §§pop();
                                                                                                addr1644:
                                                                                                §§push(2);
                                                                                                if(_loc47_)
                                                                                                {
                                                                                                   _loc30_ = §§pop();
                                                                                                   addr1649:
                                                                                                   while(true)
                                                                                                   {
                                                                                                      §§push(_loc30_);
                                                                                                   }
                                                                                                   addr1753:
                                                                                                }
                                                                                             }
                                                                                             for(; §§pop() < _loc27_; §§goto(addr1753))
                                                                                             {
                                                                                                _loc38_ = new Enhancement() as MovieClip;
                                                                                                if(!_loc46_)
                                                                                                {
                                                                                                   §§push(param1);
                                                                                                   §§push("_");
                                                                                                   if(_loc47_)
                                                                                                   {
                                                                                                      §§push(§§pop().split(§§pop())[_loc30_]);
                                                                                                      if(!_loc46_)
                                                                                                      {
                                                                                                         _loc39_ = §§pop();
                                                                                                         if(_loc46_)
                                                                                                         {
                                                                                                            continue;
                                                                                                         }
                                                                                                         _loc40_ = root.getTxt(_loc39_.split(";")[0],_loc38_.txt);
                                                                                                         if(!_loc46_)
                                                                                                         {
                                                                                                            §§push(_loc39_);
                                                                                                            §§push(";");
                                                                                                            if(!_loc46_)
                                                                                                            {
                                                                                                               §§push(§§pop().split(§§pop())[1].split(":")[0]);
                                                                                                               if(_loc47_)
                                                                                                               {
                                                                                                                  _loc41_ = §§pop();
                                                                                                                  if(!_loc46_)
                                                                                                                  {
                                                                                                                     addr1706:
                                                                                                                     §§push(_loc39_);
                                                                                                                     §§push(":");
                                                                                                                     if(!_loc46_)
                                                                                                                     {
                                                                                                                        addr1713:
                                                                                                                        _loc42_ = §§pop().split(§§pop())[1];
                                                                                                                        §§push(_loc40_);
                                                                                                                        if(_loc47_)
                                                                                                                        {
                                                                                                                           addr1718:
                                                                                                                           §§push(§§pop() + " ");
                                                                                                                           if(_loc47_)
                                                                                                                           {
                                                                                                                              §§push(_loc41_);
                                                                                                                              if(_loc47_)
                                                                                                                              {
                                                                                                                                 §§push(§§pop() + §§pop());
                                                                                                                                 if(!_loc46_)
                                                                                                                                 {
                                                                                                                                    §§push(§§pop() + " ");
                                                                                                                                    if(!_loc47_)
                                                                                                                                    {
                                                                                                                                    }
                                                                                                                                    addr1735:
                                                                                                                                    _loc43_ = §§pop();
                                                                                                                                    addr1734:
                                                                                                                                    if(_loc47_)
                                                                                                                                    {
                                                                                                                                       _loc38_.y = _loc9_.height;
                                                                                                                                       _loc38_.txt.text = _loc43_;
                                                                                                                                       if(!_loc46_)
                                                                                                                                       {
                                                                                                                                          addr1749:
                                                                                                                                          _loc9_.addChild(_loc38_);
                                                                                                                                       }
                                                                                                                                    }
                                                                                                                                    _loc30_++;
                                                                                                                                    continue;
                                                                                                                                 }
                                                                                                                                 §§push(_loc42_);
                                                                                                                              }
                                                                                                                              §§push(§§pop() + §§pop());
                                                                                                                           }
                                                                                                                           §§goto(addr1734);
                                                                                                                        }
                                                                                                                        §§goto(addr1735);
                                                                                                                        addr1709:
                                                                                                                     }
                                                                                                                     §§goto(addr1718);
                                                                                                                  }
                                                                                                                  §§goto(addr1749);
                                                                                                               }
                                                                                                               §§goto(addr1706);
                                                                                                            }
                                                                                                            §§goto(addr1709);
                                                                                                         }
                                                                                                         §§goto(addr1706);
                                                                                                      }
                                                                                                   }
                                                                                                }
                                                                                                §§goto(addr1713);
                                                                                             }
                                                                                          }
                                                                                          _loc17_ = new BitmapData(_loc9_.width,_loc9_.height,true,0);
                                                                                          if(_loc47_)
                                                                                          {
                                                                                             stage.quality = "high";
                                                                                             if(_loc47_)
                                                                                             {
                                                                                                _loc17_.draw(_loc9_);
                                                                                                if(_loc47_)
                                                                                                {
                                                                                                   addr1779:
                                                                                                   stage.quality = "low";
                                                                                                }
                                                                                             }
                                                                                             (_loc18_ = this.toolb = new Bitmap(_loc17_,"auto",true)).x = mouseX;
                                                                                             if(_loc47_)
                                                                                             {
                                                                                                _loc18_.y = mouseY;
                                                                                                if(!_loc46_)
                                                                                                {
                                                                                                   addr1814:
                                                                                                   addChild(_loc18_);
                                                                                                }
                                                                                                _loc17_ = null;
                                                                                                _loc18_ = null;
                                                                                                if(!_loc46_)
                                                                                                {
                                                                                                   this.toolmc.mc = null;
                                                                                                   if(!_loc46_)
                                                                                                   {
                                                                                                      this.toolmc.slotmc = null;
                                                                                                   }
                                                                                                }
                                                                                                return;
                                                                                             }
                                                                                             §§goto(addr1814);
                                                                                          }
                                                                                          §§goto(addr1779);
                                                                                       }
                                                                                       §§goto(addr1644);
                                                                                    }
                                                                                    _loc9_.txt2.setTextFormat(_loc36_,_loc37_,_loc9_.txt2.length);
                                                                                    §§goto(addr1615);
                                                                                 }
                                                                                 §§goto(addr1587);
                                                                              }
                                                                              §§goto(addr1649);
                                                                           }
                                                                           §§goto(addr1615);
                                                                        }
                                                                        §§goto(addr321);
                                                                     }
                                                                     addr342:
                                                                     if(§§pop() in this.items[_loc8_])
                                                                     {
                                                                        _loc14_ = this.items[_loc8_].Type.split("_")[1];
                                                                     }
                                                                     _loc15_ = false;
                                                                     §§push(param2);
                                                                     if(_loc47_)
                                                                     {
                                                                        addr365:
                                                                        §§push(§§pop() == "Skill");
                                                                        if(_loc47_)
                                                                        {
                                                                           §§push(§§pop());
                                                                           if(!_loc46_)
                                                                           {
                                                                              if(§§pop())
                                                                              {
                                                                                 §§pop();
                                                                                 §§push(Boolean(root[param1.split(" ").join("_")]));
                                                                              }
                                                                              if(§§pop())
                                                                              {
                                                                                 _loc12_ = root[param1.split(" ").join("_")];
                                                                                 trace("Level have: " + _loc12_.LevelHave);
                                                                                 if(!_loc46_)
                                                                                 {
                                                                                    §§push(false);
                                                                                    if(!_loc46_)
                                                                                    {
                                                                                       _loc19_ = §§pop();
                                                                                       §§push(param3);
                                                                                       if(!_loc46_)
                                                                                       {
                                                                                          §§push(-1);
                                                                                          if(!_loc46_)
                                                                                          {
                                                                                             if(§§pop() !== §§pop())
                                                                                             {
                                                                                                §§push(true);
                                                                                                if(_loc47_)
                                                                                                {
                                                                                                   _loc19_ = §§pop();
                                                                                                   addr419:
                                                                                                   §§push(param3);
                                                                                                   if(_loc47_)
                                                                                                   {
                                                                                                      §§push(-1);
                                                                                                      if(_loc47_)
                                                                                                      {
                                                                                                         if(§§pop() == §§pop())
                                                                                                         {
                                                                                                            param3 = int(_loc12_.LevelHave);
                                                                                                            if(!_loc47_)
                                                                                                            {
                                                                                                            }
                                                                                                            addr503:
                                                                                                            _loc9_.Leveltxt_.text = this.getTxt("Maxed");
                                                                                                            §§push("F");
                                                                                                            if(_loc47_)
                                                                                                            {
                                                                                                               §§push(§§pop() in this.items[_loc8_]);
                                                                                                               if(!_loc46_)
                                                                                                               {
                                                                                                                  addr570:
                                                                                                                  if(§§pop())
                                                                                                                  {
                                                                                                                     if(_loc47_)
                                                                                                                     {
                                                                                                                        addr575:
                                                                                                                        _loc14_ = "Buff";
                                                                                                                        if(_loc47_)
                                                                                                                        {
                                                                                                                           §§push("Duration");
                                                                                                                           if(!_loc46_)
                                                                                                                           {
                                                                                                                              §§push(!§§pop() in this.items[_loc8_]);
                                                                                                                              if(!_loc46_)
                                                                                                                              {
                                                                                                                                 addr590:
                                                                                                                                 if(§§pop())
                                                                                                                                 {
                                                                                                                                    addr591:
                                                                                                                                    §§push("Heal");
                                                                                                                                    if(_loc47_)
                                                                                                                                    {
                                                                                                                                       addr595:
                                                                                                                                       _loc14_ = §§pop();
                                                                                                                                       addr596:
                                                                                                                                       §§push("Self");
                                                                                                                                       if(_loc47_)
                                                                                                                                       {
                                                                                                                                          addr614:
                                                                                                                                          if(§§pop() in this.items[_loc8_])
                                                                                                                                          {
                                                                                                                                             §§push("Self ");
                                                                                                                                             if(_loc47_)
                                                                                                                                             {
                                                                                                                                                §§push(§§pop() + _loc14_);
                                                                                                                                             }
                                                                                                                                          }
                                                                                                                                          §§push(0);
                                                                                                                                          if(!_loc46_)
                                                                                                                                          {
                                                                                                                                             var _loc44_:* = §§pop();
                                                                                                                                             if(!_loc46_)
                                                                                                                                             {
                                                                                                                                                var _loc45_:* = this.items[_loc8_];
                                                                                                                                                if(_loc47_)
                                                                                                                                                {
                                                                                                                                                   loop2:
                                                                                                                                                   for each(_loc16_ in _loc45_)
                                                                                                                                                   {
                                                                                                                                                      if(_loc47_)
                                                                                                                                                      {
                                                                                                                                                         trace(_loc16_);
                                                                                                                                                      }
                                                                                                                                                      §§push((_loc20_ = Vector.<String>(_loc16_.split("_"))).length);
                                                                                                                                                      §§push(2);
                                                                                                                                                      if(!_loc46_)
                                                                                                                                                      {
                                                                                                                                                         §§push(§§pop() > §§pop());
                                                                                                                                                         if(§§pop() > §§pop())
                                                                                                                                                         {
                                                                                                                                                            §§pop();
                                                                                                                                                            §§push(_loc20_[2]);
                                                                                                                                                            §§push("/");
                                                                                                                                                            if(!_loc46_)
                                                                                                                                                            {
                                                                                                                                                               addr673:
                                                                                                                                                               if(§§pop().indexOf(§§pop()) >= 0)
                                                                                                                                                               {
                                                                                                                                                                  if(!_loc46_)
                                                                                                                                                                  {
                                                                                                                                                                     §§push(Boolean(!_loc15_));
                                                                                                                                                                     if(_loc47_)
                                                                                                                                                                     {
                                                                                                                                                                        if(§§pop())
                                                                                                                                                                        {
                                                                                                                                                                           if(!_loc46_)
                                                                                                                                                                           {
                                                                                                                                                                              §§pop();
                                                                                                                                                                              if(!_loc46_)
                                                                                                                                                                              {
                                                                                                                                                                                 addr696:
                                                                                                                                                                                 if(this.skillmc && _loc12_.LevelHave > 0)
                                                                                                                                                                                 {
                                                                                                                                                                                    trace("Show next");
                                                                                                                                                                                    if(_loc47_)
                                                                                                                                                                                    {
                                                                                                                                                                                       _loc20_.push(_loc20_[2].split("/")[param3]);
                                                                                                                                                                                       _loc20_[3] = this.toolEffect(_loc20_[1],_loc20_[3],_loc14_);
                                                                                                                                                                                       addr731:
                                                                                                                                                                                       _loc20_[2] = _loc20_[2].split("/")[param3 - 1];
                                                                                                                                                                                       if(_loc47_)
                                                                                                                                                                                       {
                                                                                                                                                                                          addr744:
                                                                                                                                                                                          trace(_loc20_);
                                                                                                                                                                                          _loc21_ = _loc20_[0];
                                                                                                                                                                                          §§push(_loc20_[1]);
                                                                                                                                                                                          if(!_loc46_)
                                                                                                                                                                                          {
                                                                                                                                                                                             §§push(§§pop());
                                                                                                                                                                                             if(_loc47_)
                                                                                                                                                                                             {
                                                                                                                                                                                                _loc22_ = §§pop();
                                                                                                                                                                                                if(_loc47_)
                                                                                                                                                                                                {
                                                                                                                                                                                                   §§push(_loc21_);
                                                                                                                                                                                                   if(_loc47_)
                                                                                                                                                                                                   {
                                                                                                                                                                                                      §§push("Type");
                                                                                                                                                                                                      if(_loc47_)
                                                                                                                                                                                                      {
                                                                                                                                                                                                         §§push(§§pop() == §§pop());
                                                                                                                                                                                                         if(§§pop() == §§pop())
                                                                                                                                                                                                         {
                                                                                                                                                                                                            §§pop();
                                                                                                                                                                                                            §§push(param2);
                                                                                                                                                                                                            if(_loc47_)
                                                                                                                                                                                                            {
                                                                                                                                                                                                               §§push("Skill");
                                                                                                                                                                                                               if(!_loc46_)
                                                                                                                                                                                                               {
                                                                                                                                                                                                                  §§push(§§pop() === §§pop());
                                                                                                                                                                                                                  if(!_loc46_)
                                                                                                                                                                                                                  {
                                                                                                                                                                                                                     §§push(!§§pop());
                                                                                                                                                                                                                     if(!_loc46_)
                                                                                                                                                                                                                     {
                                                                                                                                                                                                                        addr792:
                                                                                                                                                                                                                        if(!§§pop())
                                                                                                                                                                                                                        {
                                                                                                                                                                                                                           addr794:
                                                                                                                                                                                                                           §§pop();
                                                                                                                                                                                                                           if(_loc47_)
                                                                                                                                                                                                                           {
                                                                                                                                                                                                                              addr799:
                                                                                                                                                                                                                              §§push(_loc21_ == "Name");
                                                                                                                                                                                                                              if(!_loc46_)
                                                                                                                                                                                                                              {
                                                                                                                                                                                                                                 addr803:
                                                                                                                                                                                                                                 if(!§§pop())
                                                                                                                                                                                                                                 {
                                                                                                                                                                                                                                    §§pop();
                                                                                                                                                                                                                                    if(_loc47_)
                                                                                                                                                                                                                                    {
                                                                                                                                                                                                                                       §§push(_loc21_);
                                                                                                                                                                                                                                       §§push("AoE");
                                                                                                                                                                                                                                       if(!_loc46_)
                                                                                                                                                                                                                                       {
                                                                                                                                                                                                                                          addr814:
                                                                                                                                                                                                                                          §§push(§§pop() == §§pop());
                                                                                                                                                                                                                                          §§push(§§pop() == §§pop());
                                                                                                                                                                                                                                          if(!_loc46_)
                                                                                                                                                                                                                                          {
                                                                                                                                                                                                                                             if(!§§pop())
                                                                                                                                                                                                                                             {
                                                                                                                                                                                                                                                addr818:
                                                                                                                                                                                                                                                §§pop();
                                                                                                                                                                                                                                                §§push(_loc21_);
                                                                                                                                                                                                                                                §§push("F");
                                                                                                                                                                                                                                                if(!_loc46_)
                                                                                                                                                                                                                                                {
                                                                                                                                                                                                                                                   addr825:
                                                                                                                                                                                                                                                   §§push(§§pop() == §§pop());
                                                                                                                                                                                                                                                   if(!(§§pop() == §§pop()))
                                                                                                                                                                                                                                                   {
                                                                                                                                                                                                                                                      §§pop();
                                                                                                                                                                                                                                                      if(_loc47_)
                                                                                                                                                                                                                                                      {
                                                                                                                                                                                                                                                         §§push(_loc21_);
                                                                                                                                                                                                                                                         if(!_loc46_)
                                                                                                                                                                                                                                                         {
                                                                                                                                                                                                                                                            addr835:
                                                                                                                                                                                                                                                            if(§§pop() == "Self")
                                                                                                                                                                                                                                                            {
                                                                                                                                                                                                                                                               if(_loc47_)
                                                                                                                                                                                                                                                               {
                                                                                                                                                                                                                                                                  continue;
                                                                                                                                                                                                                                                               }
                                                                                                                                                                                                                                                               addr1300:
                                                                                                                                                                                                                                                               §§push(_loc22_.split(","));
                                                                                                                                                                                                                                                               if(_loc47_)
                                                                                                                                                                                                                                                               {
                                                                                                                                                                                                                                                                  §§push(_loc31_ = §§pop());
                                                                                                                                                                                                                                                                  if(!_loc46_)
                                                                                                                                                                                                                                                                  {
                                                                                                                                                                                                                                                                     addr1312:
                                                                                                                                                                                                                                                                     §§push(int(§§pop().length));
                                                                                                                                                                                                                                                                     if(!_loc46_)
                                                                                                                                                                                                                                                                     {
                                                                                                                                                                                                                                                                        addr1316:
                                                                                                                                                                                                                                                                        _loc32_ = §§pop();
                                                                                                                                                                                                                                                                        §§push(0);
                                                                                                                                                                                                                                                                     }
                                                                                                                                                                                                                                                                     _loc33_ = §§pop();
                                                                                                                                                                                                                                                                     if(!_loc46_)
                                                                                                                                                                                                                                                                     {
                                                                                                                                                                                                                                                                        loop6:
                                                                                                                                                                                                                                                                        while(true)
                                                                                                                                                                                                                                                                        {
                                                                                                                                                                                                                                                                           §§push(_loc33_);
                                                                                                                                                                                                                                                                           §§push(_loc32_);
                                                                                                                                                                                                                                                                           addr1358:
                                                                                                                                                                                                                                                                           while(true)
                                                                                                                                                                                                                                                                           {
                                                                                                                                                                                                                                                                              if(§§pop() >= §§pop())
                                                                                                                                                                                                                                                                              {
                                                                                                                                                                                                                                                                                 addr1359:
                                                                                                                                                                                                                                                                                 _loc9_.txt.appendText(this.getTxt(_loc21_));
                                                                                                                                                                                                                                                                                 _loc6_ = true;
                                                                                                                                                                                                                                                                                 addr1367:
                                                                                                                                                                                                                                                                                 if(int(_loc22_) !== 0)
                                                                                                                                                                                                                                                                                 {
                                                                                                                                                                                                                                                                                    if(!_loc46_)
                                                                                                                                                                                                                                                                                    {
                                                                                                                                                                                                                                                                                       addr1379:
                                                                                                                                                                                                                                                                                       _loc22_ = this.q.comma(_loc22_);
                                                                                                                                                                                                                                                                                       addr1380:
                                                                                                                                                                                                                                                                                       _loc9_.txt2.appendText(_loc22_);
                                                                                                                                                                                                                                                                                       if(_loc47_)
                                                                                                                                                                                                                                                                                       {
                                                                                                                                                                                                                                                                                          addr1417:
                                                                                                                                                                                                                                                                                          while(_loc9_.txt.numLines < _loc9_.txt2.numLines)
                                                                                                                                                                                                                                                                                          {
                                                                                                                                                                                                                                                                                             _loc9_.txt.appendText("\n");
                                                                                                                                                                                                                                                                                          }
                                                                                                                                                                                                                                                                                          addr1430:
                                                                                                                                                                                                                                                                                          do
                                                                                                                                                                                                                                                                                          {
                                                                                                                                                                                                                                                                                             if(_loc9_.txt2.numLines >= _loc9_.txt.numLines)
                                                                                                                                                                                                                                                                                             {
                                                                                                                                                                                                                                                                                                addr1446:
                                                                                                                                                                                                                                                                                                §§push(_loc20_.length);
                                                                                                                                                                                                                                                                                                if(_loc47_)
                                                                                                                                                                                                                                                                                                {
                                                                                                                                                                                                                                                                                                   break loop6;
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                addr1460:
                                                                                                                                                                                                                                                                                                addr1457:
                                                                                                                                                                                                                                                                                                addr1462:
                                                                                                                                                                                                                                                                                                addr1461:
                                                                                                                                                                                                                                                                                                if(§§pop() !== _loc20_[3])
                                                                                                                                                                                                                                                                                                {
                                                                                                                                                                                                                                                                                                   addr1463:
                                                                                                                                                                                                                                                                                                   _loc9_.txt2.appendText(" > " + _loc20_[3]);
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                trace("lines");
                                                                                                                                                                                                                                                                                                trace(_loc9_.txt.numLines);
                                                                                                                                                                                                                                                                                                trace(_loc9_.txt2.numLines);
                                                                                                                                                                                                                                                                                                if(_loc47_)
                                                                                                                                                                                                                                                                                                {
                                                                                                                                                                                                                                                                                                   addr1486:
                                                                                                                                                                                                                                                                                                   _loc9_.txt.appendText("\n");
                                                                                                                                                                                                                                                                                                   break;
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                break;
                                                                                                                                                                                                                                                                                             }
                                                                                                                                                                                                                                                                                             _loc9_.txt2.appendText("\n");
                                                                                                                                                                                                                                                                                          }
                                                                                                                                                                                                                                                                                          while(_loc47_);
                                                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                                                          _loc9_.txt2.appendText("\n");
                                                                                                                                                                                                                                                                                          continue loop2;
                                                                                                                                                                                                                                                                                          addr1439:
                                                                                                                                                                                                                                                                                          addr1387:
                                                                                                                                                                                                                                                                                       }
                                                                                                                                                                                                                                                                                       §§goto(addr1486);
                                                                                                                                                                                                                                                                                       addr1378:
                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                    §§goto(addr1463);
                                                                                                                                                                                                                                                                                 }
                                                                                                                                                                                                                                                                                 else
                                                                                                                                                                                                                                                                                 {
                                                                                                                                                                                                                                                                                    §§push(this.getTxt(_loc22_));
                                                                                                                                                                                                                                                                                    if(!_loc46_)
                                                                                                                                                                                                                                                                                    {
                                                                                                                                                                                                                                                                                       addr1395:
                                                                                                                                                                                                                                                                                       §§push(§§pop());
                                                                                                                                                                                                                                                                                       if(!_loc46_)
                                                                                                                                                                                                                                                                                       {
                                                                                                                                                                                                                                                                                          _loc35_ = §§pop();
                                                                                                                                                                                                                                                                                          if(!_loc46_)
                                                                                                                                                                                                                                                                                          {
                                                                                                                                                                                                                                                                                             addr1404:
                                                                                                                                                                                                                                                                                             if(§§pop() == "")
                                                                                                                                                                                                                                                                                             {
                                                                                                                                                                                                                                                                                                _loc9_.txt2.appendText(_loc22_);
                                                                                                                                                                                                                                                                                                if(!_loc47_)
                                                                                                                                                                                                                                                                                                {
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                §§goto(addr1430);
                                                                                                                                                                                                                                                                                             }
                                                                                                                                                                                                                                                                                             else
                                                                                                                                                                                                                                                                                             {
                                                                                                                                                                                                                                                                                                _loc9_.txt2.appendText(_loc35_);
                                                                                                                                                                                                                                                                                             }
                                                                                                                                                                                                                                                                                             §§goto(addr1417);
                                                                                                                                                                                                                                                                                          }
                                                                                                                                                                                                                                                                                          break loop6;
                                                                                                                                                                                                                                                                                       }
                                                                                                                                                                                                                                                                                       §§goto(addr1460);
                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                 }
                                                                                                                                                                                                                                                                              }
                                                                                                                                                                                                                                                                              else
                                                                                                                                                                                                                                                                              {
                                                                                                                                                                                                                                                                                 addr1322:
                                                                                                                                                                                                                                                                                 §§push(_loc31_);
                                                                                                                                                                                                                                                                                 while(true)
                                                                                                                                                                                                                                                                                 {
                                                                                                                                                                                                                                                                                    _loc34_ = §§pop()[_loc33_].split(" x")[0];
                                                                                                                                                                                                                                                                                    if(!_loc46_)
                                                                                                                                                                                                                                                                                    {
                                                                                                                                                                                                                                                                                       §§push(_loc22_);
                                                                                                                                                                                                                                                                                       if(_loc47_)
                                                                                                                                                                                                                                                                                       {
                                                                                                                                                                                                                                                                                          addr1338:
                                                                                                                                                                                                                                                                                          while(true)
                                                                                                                                                                                                                                                                                          {
                                                                                                                                                                                                                                                                                             §§push(_loc34_);
                                                                                                                                                                                                                                                                                             if(_loc47_)
                                                                                                                                                                                                                                                                                             {
                                                                                                                                                                                                                                                                                                §§push(§§pop().replace(§§pop(),this.getTxt(_loc34_)));
                                                                                                                                                                                                                                                                                                if(_loc47_)
                                                                                                                                                                                                                                                                                                {
                                                                                                                                                                                                                                                                                                   while(true)
                                                                                                                                                                                                                                                                                                   {
                                                                                                                                                                                                                                                                                                      _loc22_ = §§pop();
                                                                                                                                                                                                                                                                                                      addr1350:
                                                                                                                                                                                                                                                                                                      while(true)
                                                                                                                                                                                                                                                                                                      {
                                                                                                                                                                                                                                                                                                         trace(_loc34_);
                                                                                                                                                                                                                                                                                                         if(!_loc47_)
                                                                                                                                                                                                                                                                                                         {
                                                                                                                                                                                                                                                                                                            break;
                                                                                                                                                                                                                                                                                                         }
                                                                                                                                                                                                                                                                                                         _loc33_++;
                                                                                                                                                                                                                                                                                                         continue loop6;
                                                                                                                                                                                                                                                                                                      }
                                                                                                                                                                                                                                                                                                      §§goto(addr1367);
                                                                                                                                                                                                                                                                                                   }
                                                                                                                                                                                                                                                                                                   addr1349:
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                §§goto(addr1457);
                                                                                                                                                                                                                                                                                             }
                                                                                                                                                                                                                                                                                             break;
                                                                                                                                                                                                                                                                                          }
                                                                                                                                                                                                                                                                                          §§goto(addr1460);
                                                                                                                                                                                                                                                                                          addr1338:
                                                                                                                                                                                                                                                                                       }
                                                                                                                                                                                                                                                                                       break loop6;
                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                    break;
                                                                                                                                                                                                                                                                                    §§goto(addr1322);
                                                                                                                                                                                                                                                                                 }
                                                                                                                                                                                                                                                                                 §§goto(addr1380);
                                                                                                                                                                                                                                                                                 addr1324:
                                                                                                                                                                                                                                                                              }
                                                                                                                                                                                                                                                                              §§goto(addr1460);
                                                                                                                                                                                                                                                                           }
                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                        addr1452:
                                                                                                                                                                                                                                                                        §§goto(addr1462);
                                                                                                                                                                                                                                                                        §§push(§§pop() > 3 && _loc22_);
                                                                                                                                                                                                                                                                        addr1356:
                                                                                                                                                                                                                                                                     }
                                                                                                                                                                                                                                                                     §§goto(addr1439);
                                                                                                                                                                                                                                                                  }
                                                                                                                                                                                                                                                                  §§goto(addr1324);
                                                                                                                                                                                                                                                               }
                                                                                                                                                                                                                                                               §§goto(addr1312);
                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                            else
                                                                                                                                                                                                                                                            {
                                                                                                                                                                                                                                                               §§push(_loc21_);
                                                                                                                                                                                                                                                               if(!_loc46_)
                                                                                                                                                                                                                                                               {
                                                                                                                                                                                                                                                                  §§push("Price");
                                                                                                                                                                                                                                                                  if(!_loc46_)
                                                                                                                                                                                                                                                                  {
                                                                                                                                                                                                                                                                     addr846:
                                                                                                                                                                                                                                                                     if(§§pop() == §§pop() && param5)
                                                                                                                                                                                                                                                                     {
                                                                                                                                                                                                                                                                        addr853:
                                                                                                                                                                                                                                                                        continue;
                                                                                                                                                                                                                                                                     }
                                                                                                                                                                                                                                                                     §§push(_loc20_.length);
                                                                                                                                                                                                                                                                     §§push(2);
                                                                                                                                                                                                                                                                     if(_loc47_)
                                                                                                                                                                                                                                                                     {
                                                                                                                                                                                                                                                                        addr860:
                                                                                                                                                                                                                                                                        if(§§pop() > §§pop())
                                                                                                                                                                                                                                                                        {
                                                                                                                                                                                                                                                                           §§push(this.toolEffect(_loc22_,_loc20_[2],_loc14_));
                                                                                                                                                                                                                                                                           if(!_loc46_)
                                                                                                                                                                                                                                                                           {
                                                                                                                                                                                                                                                                              _loc22_ = §§pop();
                                                                                                                                                                                                                                                                              addr873:
                                                                                                                                                                                                                                                                              if(_loc9_[_loc21_ + "txt"])
                                                                                                                                                                                                                                                                              {
                                                                                                                                                                                                                                                                                 if(!_loc46_)
                                                                                                                                                                                                                                                                                 {
                                                                                                                                                                                                                                                                                    _loc9_[_loc21_ + "txt"].text = this.getTxt(_loc22_,_loc9_[_loc21_ + "txt"]);
                                                                                                                                                                                                                                                                                    if(_loc47_)
                                                                                                                                                                                                                                                                                    {
                                                                                                                                                                                                                                                                                       continue;
                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                    §§goto(addr1356);
                                                                                                                                                                                                                                                                                 }
                                                                                                                                                                                                                                                                                 else
                                                                                                                                                                                                                                                                                 {
                                                                                                                                                                                                                                                                                    addr1010:
                                                                                                                                                                                                                                                                                    §§push(_loc14_);
                                                                                                                                                                                                                                                                                    if(!_loc46_)
                                                                                                                                                                                                                                                                                    {
                                                                                                                                                                                                                                                                                       _loc22_ = §§pop();
                                                                                                                                                                                                                                                                                       if("AoE" in this.items[_loc8_])
                                                                                                                                                                                                                                                                                       {
                                                                                                                                                                                                                                                                                          §§push(_loc14_);
                                                                                                                                                                                                                                                                                          if(_loc47_)
                                                                                                                                                                                                                                                                                          {
                                                                                                                                                                                                                                                                                             addr1026:
                                                                                                                                                                                                                                                                                             if(§§pop() == "Active")
                                                                                                                                                                                                                                                                                             {
                                                                                                                                                                                                                                                                                                if(!_loc46_)
                                                                                                                                                                                                                                                                                                {
                                                                                                                                                                                                                                                                                                   addr1030:
                                                                                                                                                                                                                                                                                                   §§push("AoE");
                                                                                                                                                                                                                                                                                                   if(_loc47_)
                                                                                                                                                                                                                                                                                                   {
                                                                                                                                                                                                                                                                                                      _loc22_ = §§pop();
                                                                                                                                                                                                                                                                                                      if(!_loc46_)
                                                                                                                                                                                                                                                                                                      {
                                                                                                                                                                                                                                                                                                         addr1052:
                                                                                                                                                                                                                                                                                                         _loc22_ = this.getTxt(_loc22_);
                                                                                                                                                                                                                                                                                                         addr1049:
                                                                                                                                                                                                                                                                                                         if(!_loc46_)
                                                                                                                                                                                                                                                                                                         {
                                                                                                                                                                                                                                                                                                            addr1056:
                                                                                                                                                                                                                                                                                                            §§push(_loc21_ == "Duration");
                                                                                                                                                                                                                                                                                                            if(_loc21_ == "Duration")
                                                                                                                                                                                                                                                                                                            {
                                                                                                                                                                                                                                                                                                               if(!_loc46_)
                                                                                                                                                                                                                                                                                                               {
                                                                                                                                                                                                                                                                                                                  §§pop();
                                                                                                                                                                                                                                                                                                                  if(!_loc46_)
                                                                                                                                                                                                                                                                                                                  {
                                                                                                                                                                                                                                                                                                                     §§push(param4);
                                                                                                                                                                                                                                                                                                                     §§push(-1);
                                                                                                                                                                                                                                                                                                                     if(!_loc46_)
                                                                                                                                                                                                                                                                                                                     {
                                                                                                                                                                                                                                                                                                                        addr1071:
                                                                                                                                                                                                                                                                                                                        §§push(§§pop() !== §§pop());
                                                                                                                                                                                                                                                                                                                        if(!_loc46_)
                                                                                                                                                                                                                                                                                                                        {
                                                                                                                                                                                                                                                                                                                           addr1075:
                                                                                                                                                                                                                                                                                                                           if(§§pop())
                                                                                                                                                                                                                                                                                                                           {
                                                                                                                                                                                                                                                                                                                              if(_loc47_)
                                                                                                                                                                                                                                                                                                                              {
                                                                                                                                                                                                                                                                                                                                 addr1078:
                                                                                                                                                                                                                                                                                                                                 §§push(param4);
                                                                                                                                                                                                                                                                                                                                 if(_loc47_)
                                                                                                                                                                                                                                                                                                                                 {
                                                                                                                                                                                                                                                                                                                                    _loc22_ = §§pop();
                                                                                                                                                                                                                                                                                                                                    if(!_loc46_)
                                                                                                                                                                                                                                                                                                                                    {
                                                                                                                                                                                                                                                                                                                                       §§push(param4);
                                                                                                                                                                                                                                                                                                                                       §§push(0);
                                                                                                                                                                                                                                                                                                                                       if(!_loc46_)
                                                                                                                                                                                                                                                                                                                                       {
                                                                                                                                                                                                                                                                                                                                          addr1091:
                                                                                                                                                                                                                                                                                                                                          if(§§pop() == §§pop())
                                                                                                                                                                                                                                                                                                                                          {
                                                                                                                                                                                                                                                                                                                                             if(!_loc46_)
                                                                                                                                                                                                                                                                                                                                             {
                                                                                                                                                                                                                                                                                                                                                addr1096:
                                                                                                                                                                                                                                                                                                                                                _loc22_ = "∞";
                                                                                                                                                                                                                                                                                                                                                if(!_loc46_)
                                                                                                                                                                                                                                                                                                                                                {
                                                                                                                                                                                                                                                                                                                                                   addr1100:
                                                                                                                                                                                                                                                                                                                                                   §§push(_loc21_ == "Duration");
                                                                                                                                                                                                                                                                                                                                                   if(_loc47_)
                                                                                                                                                                                                                                                                                                                                                   {
                                                                                                                                                                                                                                                                                                                                                      addr1105:
                                                                                                                                                                                                                                                                                                                                                      if(§§pop())
                                                                                                                                                                                                                                                                                                                                                      {
                                                                                                                                                                                                                                                                                                                                                         addr1107:
                                                                                                                                                                                                                                                                                                                                                         §§pop();
                                                                                                                                                                                                                                                                                                                                                         §§push(param4);
                                                                                                                                                                                                                                                                                                                                                         §§push(-1);
                                                                                                                                                                                                                                                                                                                                                         if(_loc47_)
                                                                                                                                                                                                                                                                                                                                                         {
                                                                                                                                                                                                                                                                                                                                                            addr1113:
                                                                                                                                                                                                                                                                                                                                                            §§push(§§pop() == §§pop());
                                                                                                                                                                                                                                                                                                                                                            if(_loc46_)
                                                                                                                                                                                                                                                                                                                                                            {
                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                            §§goto(addr1455);
                                                                                                                                                                                                                                                                                                                                                         }
                                                                                                                                                                                                                                                                                                                                                         §§goto(addr1358);
                                                                                                                                                                                                                                                                                                                                                      }
                                                                                                                                                                                                                                                                                                                                                      if(§§pop())
                                                                                                                                                                                                                                                                                                                                                      {
                                                                                                                                                                                                                                                                                                                                                         if(!_loc46_)
                                                                                                                                                                                                                                                                                                                                                         {
                                                                                                                                                                                                                                                                                                                                                            addr1119:
                                                                                                                                                                                                                                                                                                                                                            §§push(_loc22_);
                                                                                                                                                                                                                                                                                                                                                            if(_loc47_)
                                                                                                                                                                                                                                                                                                                                                            {
                                                                                                                                                                                                                                                                                                                                                               addr1123:
                                                                                                                                                                                                                                                                                                                                                               if(§§pop() == "0")
                                                                                                                                                                                                                                                                                                                                                               {
                                                                                                                                                                                                                                                                                                                                                                  if(_loc47_)
                                                                                                                                                                                                                                                                                                                                                                  {
                                                                                                                                                                                                                                                                                                                                                                     addr1128:
                                                                                                                                                                                                                                                                                                                                                                     _loc22_ = "∞";
                                                                                                                                                                                                                                                                                                                                                                     addr1130:
                                                                                                                                                                                                                                                                                                                                                                     §§push(int(_loc9_.txt.numLines));
                                                                                                                                                                                                                                                                                                                                                                     if(_loc47_)
                                                                                                                                                                                                                                                                                                                                                                     {
                                                                                                                                                                                                                                                                                                                                                                        _loc24_ = §§pop();
                                                                                                                                                                                                                                                                                                                                                                        §§push(int(_loc9_.txt2.numLines));
                                                                                                                                                                                                                                                                                                                                                                        if(!_loc46_)
                                                                                                                                                                                                                                                                                                                                                                        {
                                                                                                                                                                                                                                                                                                                                                                           _loc25_ = §§pop();
                                                                                                                                                                                                                                                                                                                                                                           if(!_loc47_)
                                                                                                                                                                                                                                                                                                                                                                           {
                                                                                                                                                                                                                                                                                                                                                                              continue;
                                                                                                                                                                                                                                                                                                                                                                           }
                                                                                                                                                                                                                                                                                                                                                                           if(_loc21_ == "Materials")
                                                                                                                                                                                                                                                                                                                                                                           {
                                                                                                                                                                                                                                                                                                                                                                              if(_loc46_)
                                                                                                                                                                                                                                                                                                                                                                              {
                                                                                                                                                                                                                                                                                                                                                                                 §§goto(addr1417);
                                                                                                                                                                                                                                                                                                                                                                              }
                                                                                                                                                                                                                                                                                                                                                                           }
                                                                                                                                                                                                                                                                                                                                                                           else
                                                                                                                                                                                                                                                                                                                                                                           {
                                                                                                                                                                                                                                                                                                                                                                              addr1297:
                                                                                                                                                                                                                                                                                                                                                                              if(_loc21_ == "Content")
                                                                                                                                                                                                                                                                                                                                                                              {
                                                                                                                                                                                                                                                                                                                                                                                 if(_loc47_)
                                                                                                                                                                                                                                                                                                                                                                                 {
                                                                                                                                                                                                                                                                                                                                                                                    §§goto(addr1300);
                                                                                                                                                                                                                                                                                                                                                                                 }
                                                                                                                                                                                                                                                                                                                                                                                 §§goto(addr1380);
                                                                                                                                                                                                                                                                                                                                                                              }
                                                                                                                                                                                                                                                                                                                                                                              §§goto(addr1359);
                                                                                                                                                                                                                                                                                                                                                                           }
                                                                                                                                                                                                                                                                                                                                                                           §§goto(addr1460);
                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                     }
                                                                                                                                                                                                                                                                                                                                                                     §§goto(addr1316);
                                                                                                                                                                                                                                                                                                                                                                  }
                                                                                                                                                                                                                                                                                                                                                                  §§push((_loc26_ = Vector.<String>(_loc22_.split("/"))).length);
                                                                                                                                                                                                                                                                                                                                                                  if(!_loc46_)
                                                                                                                                                                                                                                                                                                                                                                  {
                                                                                                                                                                                                                                                                                                                                                                     §§push(int(§§pop()));
                                                                                                                                                                                                                                                                                                                                                                     if(!_loc46_)
                                                                                                                                                                                                                                                                                                                                                                     {
                                                                                                                                                                                                                                                                                                                                                                        _loc27_ = §§pop();
                                                                                                                                                                                                                                                                                                                                                                        if(_loc47_)
                                                                                                                                                                                                                                                                                                                                                                        {
                                                                                                                                                                                                                                                                                                                                                                           §§push("");
                                                                                                                                                                                                                                                                                                                                                                           if(!_loc46_)
                                                                                                                                                                                                                                                                                                                                                                           {
                                                                                                                                                                                                                                                                                                                                                                              _loc28_ = §§pop();
                                                                                                                                                                                                                                                                                                                                                                              §§push("");
                                                                                                                                                                                                                                                                                                                                                                              if(_loc47_)
                                                                                                                                                                                                                                                                                                                                                                              {
                                                                                                                                                                                                                                                                                                                                                                                 _loc29_ = §§pop();
                                                                                                                                                                                                                                                                                                                                                                                 §§push(0);
                                                                                                                                                                                                                                                                                                                                                                                 if(!_loc46_)
                                                                                                                                                                                                                                                                                                                                                                                 {
                                                                                                                                                                                                                                                                                                                                                                                    _loc30_ = §§pop();
                                                                                                                                                                                                                                                                                                                                                                                    loop7:
                                                                                                                                                                                                                                                                                                                                                                                    while(true)
                                                                                                                                                                                                                                                                                                                                                                                    {
                                                                                                                                                                                                                                                                                                                                                                                       §§push(_loc30_);
                                                                                                                                                                                                                                                                                                                                                                                       addr1285:
                                                                                                                                                                                                                                                                                                                                                                                       loop12:
                                                                                                                                                                                                                                                                                                                                                                                       for(; §§pop() < _loc27_; continue loop7)
                                                                                                                                                                                                                                                                                                                                                                                       {
                                                                                                                                                                                                                                                                                                                                                                                          §§push(_loc26_[_loc30_]);
                                                                                                                                                                                                                                                                                                                                                                                          while(true)
                                                                                                                                                                                                                                                                                                                                                                                          {
                                                                                                                                                                                                                                                                                                                                                                                             if(§§pop().indexOf("=") < 0)
                                                                                                                                                                                                                                                                                                                                                                                             {
                                                                                                                                                                                                                                                                                                                                                                                                _loc26_[_loc30_] += "=1";
                                                                                                                                                                                                                                                                                                                                                                                                if(!_loc46_)
                                                                                                                                                                                                                                                                                                                                                                                                {
                                                                                                                                                                                                                                                                                                                                                                                                   addr1207:
                                                                                                                                                                                                                                                                                                                                                                                                   trace("MATERIAL:" + _loc26_[_loc30_].split("=")[0] + "|");
                                                                                                                                                                                                                                                                                                                                                                                                   if(!_loc47_)
                                                                                                                                                                                                                                                                                                                                                                                                   {
                                                                                                                                                                                                                                                                                                                                                                                                      break loop12;
                                                                                                                                                                                                                                                                                                                                                                                                   }
                                                                                                                                                                                                                                                                                                                                                                                                   _loc9_.txt.appendText(this.getTxt(_loc26_[_loc30_].split("=")[0]) + "\n");
                                                                                                                                                                                                                                                                                                                                                                                                   if(!_loc46_)
                                                                                                                                                                                                                                                                                                                                                                                                   {
                                                                                                                                                                                                                                                                                                                                                                                                      _loc9_.txt2.appendText(_loc26_[_loc30_].split("=")[1] + "\n");
                                                                                                                                                                                                                                                                                                                                                                                                      if(_loc47_)
                                                                                                                                                                                                                                                                                                                                                                                                      {
                                                                                                                                                                                                                                                                                                                                                                                                         while(true)
                                                                                                                                                                                                                                                                                                                                                                                                         {
                                                                                                                                                                                                                                                                                                                                                                                                            if(_loc9_.txt.numLines < _loc9_.txt2.numLines)
                                                                                                                                                                                                                                                                                                                                                                                                            {
                                                                                                                                                                                                                                                                                                                                                                                                               _loc9_.txt.appendText("\n");
                                                                                                                                                                                                                                                                                                                                                                                                               continue;
                                                                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                                                                         }
                                                                                                                                                                                                                                                                                                                                                                                                         addr1261:
                                                                                                                                                                                                                                                                                                                                                                                                      }
                                                                                                                                                                                                                                                                                                                                                                                                      do
                                                                                                                                                                                                                                                                                                                                                                                                      {
                                                                                                                                                                                                                                                                                                                                                                                                         while(_loc9_.txt2.numLines < _loc9_.txt.numLines)
                                                                                                                                                                                                                                                                                                                                                                                                         {
                                                                                                                                                                                                                                                                                                                                                                                                            _loc9_.txt2.appendText("\n");
                                                                                                                                                                                                                                                                                                                                                                                                         }
                                                                                                                                                                                                                                                                                                                                                                                                      }
                                                                                                                                                                                                                                                                                                                                                                                                      while(_loc47_);
                                                                                                                                                                                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                                                                                                                                                                      addr1293:
                                                                                                                                                                                                                                                                                                                                                                                                      _loc22_ = "";
                                                                                                                                                                                                                                                                                                                                                                                                      addr1292:
                                                                                                                                                                                                                                                                                                                                                                                                      continue loop2;
                                                                                                                                                                                                                                                                                                                                                                                                   }
                                                                                                                                                                                                                                                                                                                                                                                                   continue loop12;
                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                while(true)
                                                                                                                                                                                                                                                                                                                                                                                                {
                                                                                                                                                                                                                                                                                                                                                                                                   _loc30_++;
                                                                                                                                                                                                                                                                                                                                                                                                   continue loop12;
                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                             }
                                                                                                                                                                                                                                                                                                                                                                                             §§goto(addr1207);
                                                                                                                                                                                                                                                                                                                                                                                          }
                                                                                                                                                                                                                                                                                                                                                                                       }
                                                                                                                                                                                                                                                                                                                                                                                       §§push("");
                                                                                                                                                                                                                                                                                                                                                                                       if(!_loc46_)
                                                                                                                                                                                                                                                                                                                                                                                       {
                                                                                                                                                                                                                                                                                                                                                                                          addr1291:
                                                                                                                                                                                                                                                                                                                                                                                          _loc21_ = §§pop();
                                                                                                                                                                                                                                                                                                                                                                                          §§goto(addr1292);
                                                                                                                                                                                                                                                                                                                                                                                       }
                                                                                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                                                                                 }
                                                                                                                                                                                                                                                                                                                                                                                 §§goto(addr1285);
                                                                                                                                                                                                                                                                                                                                                                              }
                                                                                                                                                                                                                                                                                                                                                                              §§goto(addr1293);
                                                                                                                                                                                                                                                                                                                                                                           }
                                                                                                                                                                                                                                                                                                                                                                           §§goto(addr1291);
                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                        §§goto(addr1261);
                                                                                                                                                                                                                                                                                                                                                                     }
                                                                                                                                                                                                                                                                                                                                                                     §§goto(addr1285);
                                                                                                                                                                                                                                                                                                                                                                  }
                                                                                                                                                                                                                                                                                                                                                                  §§goto(addr1192);
                                                                                                                                                                                                                                                                                                                                                               }
                                                                                                                                                                                                                                                                                                                                                               §§goto(addr1130);
                                                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                                                         }
                                                                                                                                                                                                                                                                                                                                                         §§goto(addr1460);
                                                                                                                                                                                                                                                                                                                                                      }
                                                                                                                                                                                                                                                                                                                                                      §§goto(addr1130);
                                                                                                                                                                                                                                                                                                                                                   }
                                                                                                                                                                                                                                                                                                                                                   §§goto(addr1107);
                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                §§goto(addr1463);
                                                                                                                                                                                                                                                                                                                                             }
                                                                                                                                                                                                                                                                                                                                             §§goto(addr1130);
                                                                                                                                                                                                                                                                                                                                          }
                                                                                                                                                                                                                                                                                                                                          §§goto(addr1100);
                                                                                                                                                                                                                                                                                                                                       }
                                                                                                                                                                                                                                                                                                                                       §§goto(addr1113);
                                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                                    §§goto(addr1486);
                                                                                                                                                                                                                                                                                                                                 }
                                                                                                                                                                                                                                                                                                                                 §§goto(addr1316);
                                                                                                                                                                                                                                                                                                                              }
                                                                                                                                                                                                                                                                                                                              §§goto(addr1350);
                                                                                                                                                                                                                                                                                                                           }
                                                                                                                                                                                                                                                                                                                           §§goto(addr1100);
                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                        §§goto(addr1461);
                                                                                                                                                                                                                                                                                                                     }
                                                                                                                                                                                                                                                                                                                     §§goto(addr1358);
                                                                                                                                                                                                                                                                                                                  }
                                                                                                                                                                                                                                                                                                                  §§goto(addr1128);
                                                                                                                                                                                                                                                                                                               }
                                                                                                                                                                                                                                                                                                               §§goto(addr1105);
                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                            §§goto(addr1075);
                                                                                                                                                                                                                                                                                                         }
                                                                                                                                                                                                                                                                                                         §§goto(addr1460);
                                                                                                                                                                                                                                                                                                         addr1037:
                                                                                                                                                                                                                                                                                                      }
                                                                                                                                                                                                                                                                                                      §§goto(addr1446);
                                                                                                                                                                                                                                                                                                   }
                                                                                                                                                                                                                                                                                                   §§goto(addr1096);
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                §§goto(addr1316);
                                                                                                                                                                                                                                                                                             }
                                                                                                                                                                                                                                                                                             else
                                                                                                                                                                                                                                                                                             {
                                                                                                                                                                                                                                                                                                §§push("AoE ");
                                                                                                                                                                                                                                                                                                if(_loc47_)
                                                                                                                                                                                                                                                                                                {
                                                                                                                                                                                                                                                                                                   addr1043:
                                                                                                                                                                                                                                                                                                   §§push(§§pop() + _loc22_);
                                                                                                                                                                                                                                                                                                   if(_loc47_)
                                                                                                                                                                                                                                                                                                   {
                                                                                                                                                                                                                                                                                                      addr1048:
                                                                                                                                                                                                                                                                                                      _loc22_ = §§pop();
                                                                                                                                                                                                                                                                                                      §§goto(addr1049);
                                                                                                                                                                                                                                                                                                   }
                                                                                                                                                                                                                                                                                                   §§goto(addr1338);
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                             }
                                                                                                                                                                                                                                                                                             §§goto(addr1096);
                                                                                                                                                                                                                                                                                          }
                                                                                                                                                                                                                                                                                          §§goto(addr1395);
                                                                                                                                                                                                                                                                                       }
                                                                                                                                                                                                                                                                                       §§goto(addr1049);
                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                    §§goto(addr1123);
                                                                                                                                                                                                                                                                                 }
                                                                                                                                                                                                                                                                              }
                                                                                                                                                                                                                                                                              else
                                                                                                                                                                                                                                                                              {
                                                                                                                                                                                                                                                                                 if(_loc9_[_loc21_ + "txt_"])
                                                                                                                                                                                                                                                                                 {
                                                                                                                                                                                                                                                                                    _loc9_[_loc21_ + "txt_"].text = this.getTxt(_loc21_,_loc9_[_loc21_ + "txt_"]) + " " + _loc22_;
                                                                                                                                                                                                                                                                                    continue;
                                                                                                                                                                                                                                                                                 }
                                                                                                                                                                                                                                                                                 addr933:
                                                                                                                                                                                                                                                                                 §§push(_loc21_);
                                                                                                                                                                                                                                                                                 §§push("^");
                                                                                                                                                                                                                                                                                 if(_loc47_)
                                                                                                                                                                                                                                                                                 {
                                                                                                                                                                                                                                                                                    §§push(int(§§pop().indexOf(§§pop())));
                                                                                                                                                                                                                                                                                    if(_loc47_)
                                                                                                                                                                                                                                                                                    {
                                                                                                                                                                                                                                                                                       §§push(§§pop());
                                                                                                                                                                                                                                                                                       if(!_loc46_)
                                                                                                                                                                                                                                                                                       {
                                                                                                                                                                                                                                                                                          _loc23_ = §§pop();
                                                                                                                                                                                                                                                                                          addr945:
                                                                                                                                                                                                                                                                                          §§push(0);
                                                                                                                                                                                                                                                                                          if(!_loc46_)
                                                                                                                                                                                                                                                                                          {
                                                                                                                                                                                                                                                                                             if(§§pop() >= §§pop())
                                                                                                                                                                                                                                                                                             {
                                                                                                                                                                                                                                                                                                if(!_loc46_)
                                                                                                                                                                                                                                                                                                {
                                                                                                                                                                                                                                                                                                   §§push(_loc21_);
                                                                                                                                                                                                                                                                                                   §§push("^");
                                                                                                                                                                                                                                                                                                   if(_loc47_)
                                                                                                                                                                                                                                                                                                   {
                                                                                                                                                                                                                                                                                                      §§push(§§pop().split(§§pop())[1]);
                                                                                                                                                                                                                                                                                                      if(!_loc46_)
                                                                                                                                                                                                                                                                                                      {
                                                                                                                                                                                                                                                                                                         _loc21_ = §§pop();
                                                                                                                                                                                                                                                                                                         if(!_loc46_)
                                                                                                                                                                                                                                                                                                         {
                                                                                                                                                                                                                                                                                                            §§push("Type");
                                                                                                                                                                                                                                                                                                            if(_loc47_)
                                                                                                                                                                                                                                                                                                            {
                                                                                                                                                                                                                                                                                                               §§push(§§pop() in this.items[_loc8_]);
                                                                                                                                                                                                                                                                                                               if(_loc47_)
                                                                                                                                                                                                                                                                                                               {
                                                                                                                                                                                                                                                                                                                  if(§§pop())
                                                                                                                                                                                                                                                                                                                  {
                                                                                                                                                                                                                                                                                                                     if(_loc47_)
                                                                                                                                                                                                                                                                                                                     {
                                                                                                                                                                                                                                                                                                                        §§pop();
                                                                                                                                                                                                                                                                                                                        addr990:
                                                                                                                                                                                                                                                                                                                        if(this.items[_loc8_].Type == "Active")
                                                                                                                                                                                                                                                                                                                        {
                                                                                                                                                                                                                                                                                                                           addr992:
                                                                                                                                                                                                                                                                                                                           §§push("Bonus:");
                                                                                                                                                                                                                                                                                                                           §§push(_loc21_);
                                                                                                                                                                                                                                                                                                                           if(!_loc46_)
                                                                                                                                                                                                                                                                                                                           {
                                                                                                                                                                                                                                                                                                                              §§push(§§pop() + §§pop());
                                                                                                                                                                                                                                                                                                                              if(!_loc46_)
                                                                                                                                                                                                                                                                                                                              {
                                                                                                                                                                                                                                                                                                                                 _loc21_ = §§pop();
                                                                                                                                                                                                                                                                                                                                 addr1001:
                                                                                                                                                                                                                                                                                                                                 §§push(_loc21_);
                                                                                                                                                                                                                                                                                                                                 if(_loc47_)
                                                                                                                                                                                                                                                                                                                                 {
                                                                                                                                                                                                                                                                                                                                    addr1005:
                                                                                                                                                                                                                                                                                                                                    if(§§pop() == "Type")
                                                                                                                                                                                                                                                                                                                                    {
                                                                                                                                                                                                                                                                                                                                       if(!_loc46_)
                                                                                                                                                                                                                                                                                                                                       {
                                                                                                                                                                                                                                                                                                                                          §§goto(addr1010);
                                                                                                                                                                                                                                                                                                                                       }
                                                                                                                                                                                                                                                                                                                                       §§goto(addr1030);
                                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                                    §§goto(addr1056);
                                                                                                                                                                                                                                                                                                                                 }
                                                                                                                                                                                                                                                                                                                                 §§goto(addr1052);
                                                                                                                                                                                                                                                                                                                              }
                                                                                                                                                                                                                                                                                                                              §§goto(addr1349);
                                                                                                                                                                                                                                                                                                                           }
                                                                                                                                                                                                                                                                                                                           §§goto(addr1043);
                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                        §§goto(addr1001);
                                                                                                                                                                                                                                                                                                                     }
                                                                                                                                                                                                                                                                                                                     §§goto(addr1071);
                                                                                                                                                                                                                                                                                                                  }
                                                                                                                                                                                                                                                                                                                  §§goto(addr990);
                                                                                                                                                                                                                                                                                                               }
                                                                                                                                                                                                                                                                                                               §§goto(addr1107);
                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                            §§goto(addr992);
                                                                                                                                                                                                                                                                                                         }
                                                                                                                                                                                                                                                                                                         §§goto(addr990);
                                                                                                                                                                                                                                                                                                      }
                                                                                                                                                                                                                                                                                                      §§goto(addr1048);
                                                                                                                                                                                                                                                                                                   }
                                                                                                                                                                                                                                                                                                   §§goto(addr1026);
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                §§goto(addr1037);
                                                                                                                                                                                                                                                                                             }
                                                                                                                                                                                                                                                                                             §§goto(addr1001);
                                                                                                                                                                                                                                                                                          }
                                                                                                                                                                                                                                                                                          §§goto(addr1113);
                                                                                                                                                                                                                                                                                       }
                                                                                                                                                                                                                                                                                       §§goto(addr1091);
                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                    §§goto(addr945);
                                                                                                                                                                                                                                                                                 }
                                                                                                                                                                                                                                                                              }
                                                                                                                                                                                                                                                                              §§goto(addr1056);
                                                                                                                                                                                                                                                                           }
                                                                                                                                                                                                                                                                           §§goto(addr933);
                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                        §§goto(addr873);
                                                                                                                                                                                                                                                                     }
                                                                                                                                                                                                                                                                     §§goto(addr1452);
                                                                                                                                                                                                                                                                  }
                                                                                                                                                                                                                                                                  §§goto(addr1100);
                                                                                                                                                                                                                                                               }
                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                            §§goto(addr1379);
                                                                                                                                                                                                                                                         }
                                                                                                                                                                                                                                                         §§goto(addr1378);
                                                                                                                                                                                                                                                      }
                                                                                                                                                                                                                                                      §§goto(addr853);
                                                                                                                                                                                                                                                   }
                                                                                                                                                                                                                                                   §§goto(addr835);
                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                §§goto(addr1404);
                                                                                                                                                                                                                                             }
                                                                                                                                                                                                                                          }
                                                                                                                                                                                                                                          §§goto(addr825);
                                                                                                                                                                                                                                       }
                                                                                                                                                                                                                                       §§goto(addr1297);
                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                    §§goto(addr1030);
                                                                                                                                                                                                                                 }
                                                                                                                                                                                                                                 §§goto(addr814);
                                                                                                                                                                                                                              }
                                                                                                                                                                                                                              §§goto(addr818);
                                                                                                                                                                                                                           }
                                                                                                                                                                                                                           §§goto(addr1078);
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        §§goto(addr803);
                                                                                                                                                                                                                     }
                                                                                                                                                                                                                     §§goto(addr1455);
                                                                                                                                                                                                                  }
                                                                                                                                                                                                                  §§goto(addr1075);
                                                                                                                                                                                                               }
                                                                                                                                                                                                               §§goto(addr846);
                                                                                                                                                                                                            }
                                                                                                                                                                                                            §§goto(addr1005);
                                                                                                                                                                                                         }
                                                                                                                                                                                                         §§goto(addr792);
                                                                                                                                                                                                      }
                                                                                                                                                                                                      §§goto(addr1123);
                                                                                                                                                                                                   }
                                                                                                                                                                                                   §§goto(addr799);
                                                                                                                                                                                                }
                                                                                                                                                                                                §§goto(addr1119);
                                                                                                                                                                                             }
                                                                                                                                                                                             §§goto(addr818);
                                                                                                                                                                                          }
                                                                                                                                                                                          §§goto(addr1338);
                                                                                                                                                                                       }
                                                                                                                                                                                       §§goto(addr1052);
                                                                                                                                                                                    }
                                                                                                                                                                                    §§goto(addr1100);
                                                                                                                                                                                 }
                                                                                                                                                                                 §§goto(addr731);
                                                                                                                                                                              }
                                                                                                                                                                              §§goto(addr1417);
                                                                                                                                                                           }
                                                                                                                                                                           §§goto(addr1446);
                                                                                                                                                                        }
                                                                                                                                                                        §§goto(addr696);
                                                                                                                                                                     }
                                                                                                                                                                     §§goto(addr794);
                                                                                                                                                                  }
                                                                                                                                                                  §§goto(addr1387);
                                                                                                                                                               }
                                                                                                                                                               §§goto(addr744);
                                                                                                                                                            }
                                                                                                                                                            §§goto(addr1300);
                                                                                                                                                         }
                                                                                                                                                         §§goto(addr673);
                                                                                                                                                      }
                                                                                                                                                      §§goto(addr860);
                                                                                                                                                   }
                                                                                                                                                }
                                                                                                                                             }
                                                                                                                                             if(_loc47_)
                                                                                                                                             {
                                                                                                                                                §§push(!_loc15_);
                                                                                                                                                if(!_loc46_)
                                                                                                                                                {
                                                                                                                                                   §§push(Boolean(§§pop()));
                                                                                                                                                   §§push(Boolean(§§pop()));
                                                                                                                                                   if(!_loc46_)
                                                                                                                                                   {
                                                                                                                                                      addr1511:
                                                                                                                                                      if(§§pop())
                                                                                                                                                      {
                                                                                                                                                         addr1512:
                                                                                                                                                         §§pop();
                                                                                                                                                         if(!_loc46_)
                                                                                                                                                         {
                                                                                                                                                            §§push(Boolean(this.skillmc));
                                                                                                                                                            if(_loc46_)
                                                                                                                                                            {
                                                                                                                                                            }
                                                                                                                                                            addr1532:
                                                                                                                                                            if(§§pop())
                                                                                                                                                            {
                                                                                                                                                               if(_loc47_)
                                                                                                                                                               {
                                                                                                                                                                  _loc9_.txt.appendText(this.getTxt("Points"));
                                                                                                                                                                  if(!_loc46_)
                                                                                                                                                                  {
                                                                                                                                                                     §§goto(addr321);
                                                                                                                                                                  }
                                                                                                                                                                  §§goto(addr1557);
                                                                                                                                                               }
                                                                                                                                                               §§goto(addr1615);
                                                                                                                                                            }
                                                                                                                                                            §§goto(addr321);
                                                                                                                                                         }
                                                                                                                                                         §§goto(addr1635);
                                                                                                                                                      }
                                                                                                                                                      §§push(§§pop());
                                                                                                                                                   }
                                                                                                                                                   if(!§§pop())
                                                                                                                                                   {
                                                                                                                                                   }
                                                                                                                                                   §§goto(addr1532);
                                                                                                                                                }
                                                                                                                                                §§pop();
                                                                                                                                                §§push(param2);
                                                                                                                                                if(!_loc46_)
                                                                                                                                                {
                                                                                                                                                   §§push("Skill");
                                                                                                                                                   if(!_loc46_)
                                                                                                                                                   {
                                                                                                                                                      §§goto(addr1532);
                                                                                                                                                      §§push(§§pop() == §§pop());
                                                                                                                                                   }
                                                                                                                                                   §§goto(addr1631);
                                                                                                                                                }
                                                                                                                                                §§goto(addr1630);
                                                                                                                                             }
                                                                                                                                             §§goto(addr1631);
                                                                                                                                          }
                                                                                                                                          §§goto(addr1643);
                                                                                                                                       }
                                                                                                                                    }
                                                                                                                                    _loc14_ = §§pop();
                                                                                                                                    §§goto(addr614);
                                                                                                                                 }
                                                                                                                                 §§goto(addr596);
                                                                                                                              }
                                                                                                                              §§goto(addr614);
                                                                                                                           }
                                                                                                                           §§goto(addr595);
                                                                                                                        }
                                                                                                                     }
                                                                                                                     §§goto(addr614);
                                                                                                                  }
                                                                                                                  §§goto(addr595);
                                                                                                               }
                                                                                                               §§goto(addr590);
                                                                                                            }
                                                                                                            §§goto(addr575);
                                                                                                            addr509:
                                                                                                         }
                                                                                                         §§push(param3);
                                                                                                         §§push(1);
                                                                                                         if(_loc47_)
                                                                                                         {
                                                                                                            if(§§pop() < §§pop())
                                                                                                            {
                                                                                                               if(!_loc46_)
                                                                                                               {
                                                                                                                  §§push(param3);
                                                                                                                  if(_loc47_)
                                                                                                                  {
                                                                                                                     §§push(1);
                                                                                                                     if(_loc47_)
                                                                                                                     {
                                                                                                                        §§push(int(§§pop() + §§pop()));
                                                                                                                        if(_loc47_)
                                                                                                                        {
                                                                                                                           param3 = §§pop();
                                                                                                                           addr453:
                                                                                                                           §§push(int(param3));
                                                                                                                           if(_loc47_)
                                                                                                                           {
                                                                                                                              _loc13_ = §§pop();
                                                                                                                              if(_loc47_)
                                                                                                                              {
                                                                                                                                 §§push(_loc12_.LevelHave >= 1);
                                                                                                                                 if(!_loc46_)
                                                                                                                                 {
                                                                                                                                    §§push(§§pop());
                                                                                                                                    if(_loc47_)
                                                                                                                                    {
                                                                                                                                       if(§§pop())
                                                                                                                                       {
                                                                                                                                          addr471:
                                                                                                                                          §§pop();
                                                                                                                                          if(!_loc46_)
                                                                                                                                          {
                                                                                                                                             §§push(Boolean(this.skillmc));
                                                                                                                                             if(!_loc46_)
                                                                                                                                             {
                                                                                                                                                addr481:
                                                                                                                                                if(§§pop())
                                                                                                                                                {
                                                                                                                                                   _loc13_++;
                                                                                                                                                }
                                                                                                                                                §§push(_loc13_);
                                                                                                                                                if(!_loc46_)
                                                                                                                                                {
                                                                                                                                                   addr486:
                                                                                                                                                   §§push(§§pop() > _loc12_.Points.length);
                                                                                                                                                   §§push(§§pop() > _loc12_.Points.length);
                                                                                                                                                   if(!_loc46_)
                                                                                                                                                   {
                                                                                                                                                      if(§§pop())
                                                                                                                                                      {
                                                                                                                                                         addr494:
                                                                                                                                                         §§pop();
                                                                                                                                                         §§push(!_loc19_);
                                                                                                                                                      }
                                                                                                                                                      if(§§pop())
                                                                                                                                                      {
                                                                                                                                                         if(_loc47_)
                                                                                                                                                         {
                                                                                                                                                            addr502:
                                                                                                                                                            _loc15_ = true;
                                                                                                                                                            addr501:
                                                                                                                                                            §§goto(addr503);
                                                                                                                                                         }
                                                                                                                                                         §§goto(addr509);
                                                                                                                                                      }
                                                                                                                                                      else
                                                                                                                                                      {
                                                                                                                                                         addr511:
                                                                                                                                                         §§push(_loc13_ > 1);
                                                                                                                                                         if(!_loc46_)
                                                                                                                                                         {
                                                                                                                                                            addr516:
                                                                                                                                                            if(§§pop())
                                                                                                                                                            {
                                                                                                                                                               if(!_loc46_)
                                                                                                                                                               {
                                                                                                                                                                  addr519:
                                                                                                                                                                  §§pop();
                                                                                                                                                                  if(_loc47_)
                                                                                                                                                                  {
                                                                                                                                                                     addr525:
                                                                                                                                                                     if(this.skillmc)
                                                                                                                                                                     {
                                                                                                                                                                        _loc9_.Leveltxt_.text = this.getTxt("Level",_loc9_.Leveltxt_) + " " + (_loc13_ - 1) + " > " + _loc13_;
                                                                                                                                                                        addr543:
                                                                                                                                                                        §§goto(addr503);
                                                                                                                                                                     }
                                                                                                                                                                     else
                                                                                                                                                                     {
                                                                                                                                                                        _loc9_.Leveltxt_.text = this.getTxt("Level",_loc9_.Leveltxt_) + " " + _loc13_;
                                                                                                                                                                        if(_loc47_)
                                                                                                                                                                        {
                                                                                                                                                                           §§goto(addr503);
                                                                                                                                                                        }
                                                                                                                                                                     }
                                                                                                                                                                     §§goto(addr591);
                                                                                                                                                                  }
                                                                                                                                                                  §§goto(addr543);
                                                                                                                                                               }
                                                                                                                                                               §§goto(addr590);
                                                                                                                                                            }
                                                                                                                                                            §§goto(addr525);
                                                                                                                                                         }
                                                                                                                                                      }
                                                                                                                                                      §§goto(addr570);
                                                                                                                                                   }
                                                                                                                                                   §§goto(addr516);
                                                                                                                                                }
                                                                                                                                                §§goto(addr511);
                                                                                                                                             }
                                                                                                                                             §§goto(addr519);
                                                                                                                                          }
                                                                                                                                          §§goto(addr503);
                                                                                                                                       }
                                                                                                                                       §§goto(addr481);
                                                                                                                                    }
                                                                                                                                    §§goto(addr516);
                                                                                                                                 }
                                                                                                                                 §§goto(addr494);
                                                                                                                              }
                                                                                                                              §§goto(addr595);
                                                                                                                           }
                                                                                                                           §§goto(addr486);
                                                                                                                        }
                                                                                                                     }
                                                                                                                     §§goto(addr511);
                                                                                                                  }
                                                                                                                  §§goto(addr486);
                                                                                                               }
                                                                                                               §§goto(addr501);
                                                                                                            }
                                                                                                            §§goto(addr453);
                                                                                                         }
                                                                                                      }
                                                                                                      §§goto(addr511);
                                                                                                   }
                                                                                                   §§goto(addr486);
                                                                                                }
                                                                                                §§goto(addr471);
                                                                                             }
                                                                                             §§goto(addr419);
                                                                                          }
                                                                                       }
                                                                                       §§goto(addr511);
                                                                                    }
                                                                                    §§goto(addr502);
                                                                                 }
                                                                                 §§goto(addr503);
                                                                              }
                                                                              §§goto(addr614);
                                                                           }
                                                                           §§goto(addr1511);
                                                                        }
                                                                        §§goto(addr1512);
                                                                     }
                                                                     §§goto(addr1631);
                                                                  }
                                                               }
                                                               else
                                                               {
                                                                  addr279:
                                                                  if(_loc10_.indexOf("Recipe") >= 0)
                                                                  {
                                                                     §§push("Recipe");
                                                                     if(!_loc46_)
                                                                     {
                                                                        _loc11_ = §§pop();
                                                                        §§goto(addr298);
                                                                     }
                                                                     §§goto(addr342);
                                                                  }
                                                                  else
                                                                  {
                                                                     _loc9_.nametxt.text = root.getTxt(_loc10_,_loc9_.nametxt);
                                                                     if(_loc47_)
                                                                     {
                                                                        §§goto(addr298);
                                                                     }
                                                                  }
                                                               }
                                                               §§goto(addr321);
                                                            }
                                                            §§goto(addr1635);
                                                         }
                                                         §§goto(addr365);
                                                      }
                                                      §§goto(addr340);
                                                   }
                                                   §§goto(addr1635);
                                                }
                                                §§goto(addr321);
                                             }
                                             §§goto(addr254);
                                          }
                                          §§goto(addr1532);
                                       }
                                       §§goto(addr340);
                                    }
                                    §§goto(addr1615);
                                 }
                                 §§goto(addr279);
                              }
                           }
                        }
                        §§goto(addr173);
                     }
                     §§goto(addr168);
                  }
                  §§goto(addr173);
               }
               §§goto(addr167);
            }
            §§goto(addr143);
         }
         §§goto(addr151);
      }
      
      public function toolEffect(param1:String, param2:String, param3:String) : String
      {
         var _loc6_:Boolean = true;
         var _loc7_:Boolean = false;
         var _loc4_:* = null;
         var _loc5_:* = NaN;
         §§push(param3);
         if(!_loc7_)
         {
            §§push(§§pop().indexOf("Buff") >= 0);
            §§push(§§pop().indexOf("Buff") >= 0);
            if(_loc6_)
            {
               if(!§§pop())
               {
                  §§pop();
                  if(_loc6_)
                  {
                     addr42:
                     §§push(param3.indexOf("Heal") >= 0);
                     §§push(param3.indexOf("Heal") >= 0);
                     if(!_loc7_)
                     {
                        addr46:
                        if(!§§pop())
                        {
                           §§pop();
                           §§push(param3.indexOf("Passive") >= 0);
                        }
                        if(§§pop())
                        {
                           addr54:
                           param3 = "Buff";
                        }
                        §§push("");
                        if(_loc6_)
                        {
                           _loc4_ = §§pop();
                           if(_loc6_)
                           {
                              §§push(Number(Number(param2)));
                              if(!_loc7_)
                              {
                                 _loc5_ = §§pop();
                                 addr70:
                                 §§push(param2);
                                 §§push(".");
                                 if(_loc6_)
                                 {
                                    if(§§pop().indexOf(§§pop()) >= 0)
                                    {
                                       §§push(Number(Math.round(_loc5_ * 100)));
                                       if(_loc6_)
                                       {
                                          addr94:
                                          _loc5_ = §§pop();
                                          if(!_loc7_)
                                          {
                                             addr97:
                                             §§push(_loc5_);
                                             if(_loc6_)
                                             {
                                                addr101:
                                                _loc4_ = §§pop();
                                                addr100:
                                                §§push(param1);
                                                if(_loc6_)
                                                {
                                                   if(§§pop() == "X")
                                                   {
                                                      if(!_loc7_)
                                                      {
                                                         addr113:
                                                         §§push(param3 == "Buff");
                                                         if(!(param3 == "Buff"))
                                                         {
                                                            if(!_loc7_)
                                                            {
                                                               §§pop();
                                                               §§goto(addr188);
                                                            }
                                                         }
                                                         if(§§pop())
                                                         {
                                                            §§push("+");
                                                            §§push(_loc5_);
                                                            if(_loc6_)
                                                            {
                                                               §§push(§§pop() - 100);
                                                               if(_loc6_)
                                                               {
                                                                  addr135:
                                                                  _loc4_ = §§pop() + §§pop();
                                                                  if(!_loc7_)
                                                                  {
                                                                     addr147:
                                                                     §§push(param1);
                                                                     if(_loc6_)
                                                                     {
                                                                        if(§§pop() == "+")
                                                                        {
                                                                           if(_loc6_)
                                                                           {
                                                                              addr155:
                                                                              §§push("+");
                                                                              if(_loc6_)
                                                                              {
                                                                                 addr167:
                                                                                 addr166:
                                                                                 §§push(§§pop() + _loc5_);
                                                                                 if(!_loc7_)
                                                                                 {
                                                                                    addr171:
                                                                                    _loc4_ = §§pop();
                                                                                    addr170:
                                                                                    if(!_loc7_)
                                                                                    {
                                                                                       addr174:
                                                                                       §§push(param2);
                                                                                       if(_loc6_)
                                                                                       {
                                                                                          if(§§pop().indexOf(".") >= 0)
                                                                                          {
                                                                                          }
                                                                                          addr187:
                                                                                          addr188:
                                                                                          §§push(param3);
                                                                                          if(_loc6_)
                                                                                          {
                                                                                             §§push(§§pop() == "Gem");
                                                                                          }
                                                                                          return §§pop();
                                                                                          §§push(_loc4_);
                                                                                       }
                                                                                       §§goto(addr188);
                                                                                    }
                                                                                    §§push(_loc4_);
                                                                                    if(!_loc7_)
                                                                                    {
                                                                                       addr185:
                                                                                       §§push(§§pop() + "%");
                                                                                    }
                                                                                    §§goto(addr188);
                                                                                 }
                                                                                 _loc4_ = §§pop();
                                                                                 §§goto(addr187);
                                                                              }
                                                                              §§goto(addr170);
                                                                           }
                                                                           §§goto(addr187);
                                                                        }
                                                                        §§goto(addr174);
                                                                     }
                                                                     §§goto(addr171);
                                                                     addr140:
                                                                  }
                                                                  §§goto(addr155);
                                                               }
                                                               §§goto(addr167);
                                                            }
                                                            §§goto(addr135);
                                                         }
                                                         else
                                                         {
                                                            addr142:
                                                            _loc4_ = _loc5_;
                                                            if(_loc6_)
                                                            {
                                                               §§goto(addr147);
                                                            }
                                                         }
                                                         §§goto(addr187);
                                                      }
                                                      §§goto(addr188);
                                                   }
                                                   §§goto(addr147);
                                                }
                                                §§goto(addr188);
                                             }
                                             §§goto(addr142);
                                          }
                                          §§goto(addr140);
                                       }
                                       §§goto(addr100);
                                    }
                                    §§goto(addr97);
                                 }
                                 §§goto(addr185);
                              }
                              §§goto(addr94);
                           }
                           §§goto(addr70);
                        }
                        §§goto(addr166);
                     }
                     §§goto(addr113);
                  }
                  §§goto(addr54);
               }
               §§goto(addr42);
            }
            §§goto(addr46);
         }
         §§goto(addr101);
      }
      
      public function gotItemInfo(param1:Message, param2:String, param3:String) : void
      {
         var _loc12_:Boolean = false;
         var _loc13_:Boolean = true;
         var _loc4_:Object = null;
         var _loc5_:Vector.<String> = null;
         var _loc6_:* = 0;
         var _loc7_:* = 0;
         var _loc8_:String = null;
         var _loc9_:String = null;
         var _loc10_:* = null;
         if(_loc13_)
         {
            trace(param2);
         }
         _loc4_ = this.items[param2.split("_")[0].split("?")[0]] = new Object();
         if(_loc13_)
         {
            if(param3 !== "")
            {
               if(!_loc12_)
               {
                  §§push(int((_loc5_ = Vector.<String>(param3.split("|"))).length));
                  if(!_loc12_)
                  {
                     _loc6_ = §§pop();
                     if(!_loc12_)
                     {
                        trace(_loc5_);
                        if(_loc12_)
                        {
                        }
                        addr191:
                        §§push(Boolean(this.toolmc));
                        if(!_loc12_)
                        {
                           if(§§pop())
                           {
                              if(!_loc12_)
                              {
                                 addr200:
                                 §§pop();
                                 §§goto(addr262);
                              }
                           }
                           if(§§pop())
                           {
                              if(!_loc12_)
                              {
                                 this.generateTool(this.toolmc.item,this.toolmc.tooltype,this.toolmc.lvl,this.toolmc.duration,this.toolmc.mc.shop && this.toolmc.mc.shop == "GoldMall");
                                 addr227:
                              }
                              §§goto(addr262);
                           }
                           addr262:
                           if(!_loc12_)
                           {
                              §§push(this.toolmc.item.split("_")[0].split("?")[0] == param2.split("_")[0].split("?")[0]);
                           }
                           return;
                        }
                        §§goto(addr200);
                     }
                     §§push(0);
                     if(_loc13_)
                     {
                        _loc7_ = §§pop();
                        if(_loc13_)
                        {
                           while(true)
                           {
                              §§push(_loc7_);
                           }
                           addr188:
                        }
                        §§goto(addr191);
                     }
                  }
                  for(; §§pop() < _loc6_; §§goto(addr188))
                  {
                     §§push(_loc8_ = _loc5_[_loc7_]);
                     §§push("_");
                     if(!_loc12_)
                     {
                        _loc9_ = §§pop().split(§§pop())[0].split("/");
                        trace(_loc9_);
                        if(_loc13_)
                        {
                           §§push(_loc8_);
                           §§push("_");
                           if(!_loc12_)
                           {
                              addr135:
                              _loc10_ = §§pop().split(§§pop())[1];
                              if(!_loc12_)
                              {
                                 trace(_loc10_);
                                 §§push(_loc10_);
                                 §§push(".");
                                 if(!_loc12_)
                                 {
                                    if(§§pop().indexOf(§§pop()) >= 0)
                                    {
                                       §§push(String(Math.round(Number(_loc10_) * 100)) + "%");
                                       if(!_loc12_)
                                       {
                                          _loc10_ = §§pop();
                                          addr168:
                                          §§push(_loc9_ + "_");
                                          if(_loc13_)
                                          {
                                             §§push(§§pop() + _loc10_);
                                          }
                                       }
                                       _loc8_ = §§pop();
                                       if(!_loc13_)
                                       {
                                          continue;
                                       }
                                    }
                                    _loc4_[_loc9_] = _loc8_;
                                    if(_loc13_)
                                    {
                                       _loc7_++;
                                    }
                                    continue;
                                 }
                              }
                           }
                        }
                        §§goto(addr168);
                     }
                     §§goto(addr135);
                  }
                  §§goto(addr191);
               }
               §§goto(addr227);
            }
            §§goto(addr191);
         }
         §§goto(addr200);
      }
      
      public function dettachTool(param1:MovieClip) : void
      {
         var _loc2_:Boolean = true;
         var _loc3_:Boolean = false;
         if(_loc2_)
         {
            param1.removeEventListener(MouseEvent.MOUSE_OVER,param1.over);
            param1.removeEventListener(MouseEvent.MOUSE_OUT,param1.out);
            if(MovieClip(root).toolmc)
            {
               if(!_loc3_)
               {
                  if(MovieClip(root).toolb)
                  {
                     if(_loc2_)
                     {
                        addr59:
                        this.toolb.bitmapData.dispose();
                        root.removeChild(MovieClip(root).toolb);
                     }
                  }
                  MovieClip(root).toolmc = null;
                  if(_loc2_)
                  {
                     addr77:
                     MovieClip(root).toolb = null;
                  }
                  §§goto(addr82);
               }
               §§goto(addr59);
            }
            addr82:
            return;
         }
         §§goto(addr77);
      }
      
      public function attachTool(param1:MovieClip, param2:String = "Default", param3:Boolean = false) : void
      {
         var _loc5_:Boolean = false;
         var _loc6_:Boolean = true;
         if(!_loc5_)
         {
            var w2:Number = NaN;
            var h2:Number = NaN;
            var goldmall:Boolean = false;
            var overloop:* = undefined;
            var mc:MovieClip = param1;
         }
         var type:String = param2;
         var loop:Boolean = param3;
         overloop = function(param1:Event):void
         {
            var _loc2_:Boolean = false;
            var _loc3_:Boolean = true;
            §§push(mc.parent.mouseX >= mc.x - w2);
            if(!_loc2_)
            {
               §§push(§§pop());
               if(!_loc2_)
               {
                  if(§§pop())
                  {
                     §§pop();
                     if(_loc3_)
                     {
                        §§push(mc.parent.mouseX <= mc.x + w2);
                        if(_loc3_)
                        {
                           §§goto(addr32);
                        }
                        §§goto(addr49);
                     }
                     §§goto(addr69);
                  }
                  addr32:
                  §§push(§§pop());
                  if(!_loc2_)
                  {
                     if(§§pop())
                     {
                        if(_loc3_)
                        {
                           §§pop();
                           §§push(mc.parent.mouseY >= mc.y - h2);
                           if(_loc3_)
                           {
                              addr49:
                              §§push(§§pop());
                              if(_loc3_)
                              {
                                 §§goto(addr52);
                              }
                              §§goto(addr79);
                           }
                           §§goto(addr88);
                        }
                        §§goto(addr83);
                     }
                     §§goto(addr49);
                  }
                  addr52:
                  if(§§pop())
                  {
                     if(_loc3_)
                     {
                        addr56:
                        §§pop();
                        §§push(mc.parent.mouseY <= mc.y + h2);
                     }
                  }
                  if(§§pop())
                  {
                     if(!_loc2_)
                     {
                        addr69:
                        if(!toolb)
                        {
                           over(mc);
                        }
                     }
                  }
                  else
                  {
                     addr79:
                     §§push(Boolean(toolmc));
                     if(Boolean(toolmc))
                     {
                        if(!_loc2_)
                        {
                           addr83:
                           §§pop();
                           addr88:
                           if(toolmc.slotmc == mc)
                           {
                              out();
                           }
                        }
                     }
                     §§goto(addr88);
                  }
                  return;
               }
               §§goto(addr79);
            }
            §§goto(addr56);
         };
         var over:* = function(param1:MovieClip):void
         {
            var _loc5_:Boolean = true;
            var _loc6_:Boolean = false;
            var _loc2_:* = 0;
            var _loc3_:* = 0;
            var _loc4_:Connection = null;
            trace(param1.item);
            trace(param1.slot);
            §§push(Boolean(param1 is MovieClip && param1.slot && param1.item));
            §§push(Boolean(param1 is MovieClip && param1.slot && param1.item));
            if(_loc5_)
            {
               if(§§pop())
               {
                  §§pop();
                  §§push(param1.item === "None");
                  if(_loc5_)
                  {
                     addr50:
                     §§push(Boolean(!§§pop()));
                     §§push(Boolean(!§§pop()));
                     if(_loc5_)
                     {
                        if(§§pop())
                        {
                           §§pop();
                           addr95:
                           §§push(!MovieClip(root).toolmc);
                           §§push(!MovieClip(root).toolmc);
                           if(!_loc6_)
                           {
                              if(!§§pop())
                              {
                                 §§pop();
                                 §§push(MovieClip(root).toolmc.item !== param1.item);
                              }
                           }
                           if(§§pop())
                           {
                              §§pop();
                              if(_loc5_)
                              {
                                 addr103:
                                 if(param1.lvl > -1)
                                 {
                                    if(!_loc6_)
                                    {
                                       §§push(int(param1.lvl));
                                       if(_loc5_)
                                       {
                                          _loc2_ = §§pop();
                                          §§goto(addr168);
                                       }
                                       addr119:
                                       _loc3_ = §§pop();
                                       if(_loc5_)
                                       {
                                          addr123:
                                          if(param1.item.split("_")[0].split("?")[0] in MovieClip(root).items)
                                          {
                                             trace(param1.item);
                                             if(!_loc6_)
                                             {
                                                generateTool(param1.item,type,_loc2_,_loc3_,goldmall);
                                                if(_loc6_)
                                                {
                                                   addr164:
                                                   root.toolmc.tooltype = type;
                                                   addr168:
                                                   if(_loc5_)
                                                   {
                                                      addr116:
                                                      §§push(int(param1.buffduration));
                                                   }
                                                   MovieClip(root).toolmc.item = param1.item;
                                                   if(!_loc6_)
                                                   {
                                                      addr177:
                                                      root.toolmc.lvl = _loc2_;
                                                   }
                                                   root.toolmc.duration = _loc3_;
                                                   root.toolmc.slotmc = param1.target;
                                                   root.toolmc.mc = mc;
                                                   _loc4_ = MovieClip(root).connection;
                                                   if(_loc5_)
                                                   {
                                                      if(MovieClip(root).battle)
                                                      {
                                                         if(_loc5_)
                                                         {
                                                            _loc4_ = MovieClip(root).battle;
                                                         }
                                                         §§goto(addr229);
                                                      }
                                                      _loc4_.send("GetItemInfo",param1.item.split("_")[0].split("?")[0]);
                                                   }
                                                   §§goto(addr229);
                                                }
                                                else
                                                {
                                                   addr155:
                                                }
                                                §§goto(addr229);
                                             }
                                             §§goto(addr177);
                                          }
                                          else
                                          {
                                             MovieClip(root).toolmc = new Tooltip() as MovieClip;
                                          }
                                          §§goto(addr164);
                                       }
                                       §§goto(addr155);
                                    }
                                    §§goto(addr116);
                                 }
                                 §§goto(addr123);
                              }
                              §§goto(addr168);
                           }
                           §§goto(addr103);
                        }
                     }
                     §§goto(addr95);
                  }
                  if(§§pop())
                  {
                     trace("Over slot");
                     §§push(-1);
                     if(!_loc6_)
                     {
                        _loc2_ = §§pop();
                        §§push(-1);
                        if(!_loc6_)
                        {
                           addr88:
                           _loc3_ = §§pop();
                           §§push(Boolean(param1.lvl));
                           if(_loc5_)
                           {
                              §§goto(addr95);
                              §§push(§§pop());
                           }
                           §§goto(addr103);
                        }
                        §§goto(addr119);
                     }
                     §§goto(addr88);
                  }
                  addr229:
                  return;
               }
               §§goto(addr50);
            }
            §§goto(addr95);
         };
         if(!_loc5_)
         {
            var out:* = function():void
            {
               var _loc1_:Boolean = true;
               var _loc2_:Boolean = false;
               if(MovieClip(root).toolmc)
               {
                  if(_loc1_)
                  {
                     if(MovieClip(root).toolb)
                     {
                        if(!_loc2_)
                        {
                           toolb.bitmapData.dispose();
                           if(_loc1_)
                           {
                              root.removeChild(MovieClip(root).toolb);
                              if(!_loc1_)
                              {
                              }
                              §§goto(addr47);
                           }
                        }
                        §§goto(addr47);
                     }
                     MovieClip(root).toolmc = null;
                     if(!_loc2_)
                     {
                        MovieClip(root).toolb = null;
                     }
                  }
               }
               addr47:
            };
            if(_loc6_)
            {
               §§push(§§newactivation());
               §§push(mc.width / 2);
               if(_loc6_)
               {
                  §§push(Number(§§pop()));
               }
               §§pop().§§slot[4] = §§pop();
               §§push(§§newactivation());
               §§push(mc.height / 2);
               if(_loc6_)
               {
                  §§push(Number(§§pop()));
               }
               §§pop().§§slot[5] = §§pop();
               if(!_loc5_)
               {
                  §§push(§§newactivation());
                  if(_loc6_)
                  {
                     §§push(Boolean(mc.shop));
                     if(!_loc5_)
                     {
                        if(§§pop())
                        {
                           if(_loc6_)
                           {
                              addr108:
                              §§pop();
                              §§push(mc.shop == "GoldMall");
                              if(!_loc5_)
                              {
                                 addr117:
                                 §§push(Boolean(§§pop()));
                              }
                           }
                           §§pop().§§slot[6] = §§pop();
                           trace("isGoldmall:" + goldmall);
                           if(_loc6_)
                           {
                              mc.over = function(param1:MouseEvent):void
                              {
                                 var _loc2_:Boolean = true;
                                 var _loc3_:Boolean = false;
                                 if(param1.target is MovieClip)
                                 {
                                    if(_loc2_)
                                    {
                                       over(param1.target);
                                    }
                                 }
                              };
                              if(!_loc5_)
                              {
                                 mc.out = function(param1:MouseEvent):void
                                 {
                                    out();
                                 };
                                 §§goto(addr138);
                              }
                              §§goto(addr166);
                           }
                           addr138:
                           if(!loop)
                           {
                              if(_loc6_)
                              {
                                 mc.addEventListener(MouseEvent.MOUSE_OVER,mc.over);
                                 addr158:
                                 mc.addEventListener(MouseEvent.MOUSE_OUT,mc.out);
                                 addr166:
                                 addr143:
                              }
                           }
                           else
                           {
                              mc.addEventListener(Event.ENTER_FRAME,overloop);
                           }
                           return;
                        }
                        §§goto(addr117);
                     }
                  }
                  §§goto(addr108);
               }
               §§goto(addr143);
            }
         }
         §§goto(addr158);
      }
      
      public function removeAO() : void
      {
         var _loc6_:Boolean = false;
         var _loc7_:Boolean = true;
         var _loc1_:* = 0;
         var _loc2_:* = 0;
         var _loc3_:AnimatedBitmap = null;
         var _loc4_:* = null;
         var _loc5_:Object = null;
         if(_loc7_)
         {
            §§push(int(this.mapao.length));
            if(!_loc6_)
            {
               _loc1_ = §§pop();
               if(!_loc6_)
               {
                  §§push(0);
                  if(!_loc6_)
                  {
                     §§goto(addr44);
                  }
                  §§goto(addr186);
               }
               §§goto(addr190);
            }
            addr44:
            _loc2_ = §§pop();
            if(!_loc6_)
            {
               loop1:
               while(true)
               {
                  §§push(_loc2_);
                  addr186:
                  while(§§pop() < _loc1_)
                  {
                     _loc3_ = this.mapao[_loc2_];
                     §§push(_loc3_.name.split(" ").join("_"));
                     if(!_loc6_)
                     {
                        _loc4_ = §§pop();
                        if(root[_loc3_.name + "_T"])
                        {
                           trace("removing title: " + root[_loc3_.name + "_T"]);
                           root[_loc3_.name + "_T"].bitmapData.dispose();
                           this.q.remove(root[_loc3_.name + "_T"]);
                           root[_loc3_.name + "_T"] = null;
                           if(_loc7_)
                           {
                              addr116:
                              if(_loc4_ in this.npcs)
                              {
                                 _loc5_ = this.npcs[_loc4_];
                                 if(_loc7_)
                                 {
                                    §§push("QuestState" in _loc5_);
                                    if(_loc7_)
                                    {
                                       if(§§pop())
                                       {
                                          if(!_loc6_)
                                          {
                                             addr139:
                                             §§pop();
                                             if(!_loc6_)
                                             {
                                                §§push(_loc5_.QuestState === null);
                                                if(!_loc6_)
                                                {
                                                   addr149:
                                                   §§push(!§§pop());
                                                   if(!_loc6_)
                                                   {
                                                      addr152:
                                                      if(§§pop())
                                                      {
                                                         if(_loc7_)
                                                         {
                                                            addr155:
                                                            _loc5_.QuestState.stop();
                                                            if(_loc6_)
                                                            {
                                                            }
                                                            addr170:
                                                            _loc3_.animatedBitmapData.destroy();
                                                            if(!_loc6_)
                                                            {
                                                               _loc3_.destroy();
                                                               addr184:
                                                               _loc2_++;
                                                            }
                                                            continue loop1;
                                                         }
                                                         _loc5_.QuestState.destroy();
                                                         if(!_loc6_)
                                                         {
                                                            addr167:
                                                            §§push(delete _loc5_.QuestState);
                                                         }
                                                      }
                                                      §§goto(addr170);
                                                   }
                                                }
                                                §§pop();
                                                §§goto(addr170);
                                             }
                                             §§goto(addr167);
                                          }
                                          §§goto(addr149);
                                       }
                                       §§goto(addr152);
                                    }
                                    §§goto(addr139);
                                 }
                              }
                              §§goto(addr155);
                           }
                           §§goto(addr184);
                        }
                     }
                     §§goto(addr116);
                     continue loop1;
                  }
                  if(_loc7_)
                  {
                     addr190:
                     this.mapao = new Vector.<AnimatedBitmap>();
                     if(_loc6_)
                     {
                     }
                     §§goto(addr204);
                  }
               }
            }
            this.mapaoinit = new Vector.<Point>();
            addr204:
            return;
         }
         §§goto(addr190);
      }
      
      public function dialog(param1:String, param2:String) : void
      {
         var _loc6_:Boolean = false;
         var _loc7_:Boolean = true;
         var _loc3_:MovieClip = null;
         var _loc4_:* = 0;
         if(_loc7_)
         {
            if(!this.npctalk)
            {
               _loc3_ = this.npctalk = new NPCTalk() as MovieClip;
               _loc3_.npc = param1;
               _loc3_.dialog = param2;
               if(_loc7_)
               {
                  _loc3_.o = MovieClip(root)[param1.split(" ").join("_")];
                  if(!_loc6_)
                  {
                     §§push(int(getChildIndex(this.mouse)));
                     if(_loc7_)
                     {
                        _loc4_ = §§pop();
                        if(_loc7_)
                        {
                           if(this.fader)
                           {
                              addr84:
                              §§push(int(getChildIndex(this.fader)));
                              if(!_loc6_)
                              {
                                 addr99:
                                 _loc4_ = §§pop();
                                 addr100:
                                 if(this.loadmc)
                                 {
                                    if(!_loc6_)
                                    {
                                       addr111:
                                       _loc4_ = int(getChildIndex(this.loadmc));
                                       if(!_loc6_)
                                       {
                                          addr114:
                                          addChildAt(_loc3_,_loc4_);
                                          this.q.fadeIn(_loc3_);
                                       }
                                    }
                                    return;
                                 }
                                 §§goto(addr114);
                              }
                              §§goto(addr111);
                           }
                           §§goto(addr100);
                        }
                        §§goto(addr114);
                     }
                     §§goto(addr99);
                  }
                  §§goto(addr84);
               }
               §§goto(addr114);
            }
         }
      }
      
      public function tip(param1:int) : void
      {
         var _loc4_:Boolean = true;
         var _loc5_:Boolean = false;
         var _loc2_:MovieClip = null;
         if(_loc4_)
         {
            if(!this.q.arrayContains(this.account.Stages,"tip" + param1))
            {
               _loc2_ = this.tipmc = new Tip() as MovieClip;
               if(!_loc5_)
               {
                  _loc2_.x = 400;
               }
               _loc2_.y = 300;
               _loc2_.id = param1;
               addChildAt(_loc2_,getChildIndex(this.mouse));
               this.q.fadeIn(_loc2_);
               if(!_loc5_)
               {
                  §§push(this.getC());
                  §§push("AddStage");
                  §§push("tip");
                  if(!_loc5_)
                  {
                     §§push(§§pop() + param1);
                  }
                  §§pop().send(§§pop(),§§pop(),"Account");
                  this.account.Stages.push("tip" + param1);
               }
               return;
            }
         }
      }
      
      public function checkQuests() : void
      {
         var _loc19_:Boolean = true;
         var _loc20_:Boolean = false;
         var _loc1_:* = 0;
         var _loc2_:* = 0;
         var _loc3_:AnimatedBitmap = null;
         var _loc4_:* = null;
         var _loc5_:Object = null;
         var _loc6_:* = 0;
         var _loc7_:String = null;
         var _loc8_:* = false;
         var _loc9_:* = 0;
         var _loc10_:* = null;
         var _loc11_:* = null;
         var _loc12_:* = 0;
         var _loc13_:AnimatedBitmap = null;
         var _loc14_:Point = null;
         var _loc15_:* = null;
         var _loc16_:* = null;
         if(!_loc20_)
         {
            §§push(int(this.mapao.length));
            if(_loc19_)
            {
               _loc1_ = §§pop();
               if(!_loc20_)
               {
                  §§push(0);
                  if(_loc19_)
                  {
                     _loc2_ = §§pop();
                     if(_loc19_)
                     {
                        addr75:
                        while(true)
                        {
                           §§push(_loc2_);
                           §§goto(addr640);
                        }
                     }
                     trace("NPCINDEX: " + this.npcindex);
                  }
                  addr640:
                  while(§§pop() < _loc1_)
                  {
                     _loc3_ = this.mapao[_loc2_];
                     §§push(_loc3_.name.split(" ").join("_"));
                     if(!_loc20_)
                     {
                        _loc4_ = §§pop();
                        if(!_loc19_)
                        {
                           continue loop6;
                        }
                        trace("Checking " + _loc4_ + " for quests");
                        §§push(_loc4_);
                     }
                     §§push(§§pop() in this.npcs);
                     if(!_loc20_)
                     {
                        if(§§pop())
                        {
                           if(_loc19_)
                           {
                              §§pop();
                              §§push("Quests" in this.npcs[_loc4_]);
                           }
                        }
                     }
                     if(§§pop())
                     {
                        if(!_loc20_)
                        {
                           MovieClip(root)[_loc3_.name + "_QS"] = null;
                        }
                        §§push(int((_loc5_ = this.npcs[_loc4_]).Quests.length));
                        if(_loc19_)
                        {
                           _loc6_ = §§pop();
                           _loc7_ = "false";
                           if(_loc19_)
                           {
                              §§push(false);
                              if(!_loc20_)
                              {
                                 _loc8_ = §§pop();
                                 §§push(0);
                                 if(!_loc20_)
                                 {
                                    addr160:
                                    _loc9_ = §§pop();
                                    if(!_loc20_)
                                    {
                                       loop5:
                                       while(true)
                                       {
                                          §§push(_loc9_);
                                          loop3:
                                          while(true)
                                          {
                                             if(§§pop() >= _loc6_)
                                             {
                                                if(!_loc20_)
                                                {
                                                   break;
                                                }
                                             }
                                             else
                                             {
                                                §§push(_loc5_.Quests[_loc9_]);
                                                if(!_loc20_)
                                                {
                                                   §§push(_loc10_ = §§pop());
                                                   if(!_loc20_)
                                                   {
                                                      §§push(§§pop().split(")")[0].split("(")[0]);
                                                      if(_loc19_)
                                                      {
                                                         addr188:
                                                         _loc11_ = §§pop();
                                                         §§push(1);
                                                         if(!_loc20_)
                                                         {
                                                            loop1:
                                                            while(true)
                                                            {
                                                               _loc12_ = §§pop();
                                                               if(_loc19_)
                                                               {
                                                                  §§push(_loc11_);
                                                                  while(true)
                                                                  {
                                                                     if(§§pop() in this.QuestLvls)
                                                                     {
                                                                        §§push(int(this.QuestLvls[_loc11_]));
                                                                        if(!_loc19_)
                                                                        {
                                                                           continue loop3;
                                                                        }
                                                                        _loc12_ = §§pop();
                                                                        if(!_loc20_)
                                                                        {
                                                                           addr210:
                                                                           §§push(_loc12_);
                                                                           if(_loc20_)
                                                                           {
                                                                              continue loop3;
                                                                           }
                                                                           while(true)
                                                                           {
                                                                              if(§§pop() > this.pChar.Level)
                                                                              {
                                                                                 break loop3;
                                                                              }
                                                                              _loc13_ = null;
                                                                              if(!_loc20_)
                                                                              {
                                                                                 §§push("QuestState" in _loc5_);
                                                                                 if(_loc19_)
                                                                                 {
                                                                                    if(§§pop())
                                                                                    {
                                                                                       if(!_loc20_)
                                                                                       {
                                                                                          _loc5_.QuestState.destroy();
                                                                                          if(_loc19_)
                                                                                          {
                                                                                             addr238:
                                                                                             §§push(delete _loc5_.QuestState);
                                                                                             if(!_loc20_)
                                                                                             {
                                                                                                §§pop();
                                                                                                if(_loc20_)
                                                                                                {
                                                                                                }
                                                                                                addr248:
                                                                                                _loc14_ = MovieClip(root)[_loc3_.name + "_QSinit"] = new Point(_loc3_.x,_loc3_.y - _loc3_.height / 2);
                                                                                                trace("QUest:" + _loc11_);
                                                                                                §§push(_loc7_);
                                                                                                if(_loc19_)
                                                                                                {
                                                                                                   if(§§pop() == "false")
                                                                                                   {
                                                                                                      if(_loc19_)
                                                                                                      {
                                                                                                         §§push(this.q.arrayContainsSplit(this.pChar.Quests.Active,_loc11_,"*"));
                                                                                                         if(_loc19_)
                                                                                                         {
                                                                                                            _loc7_ = §§pop();
                                                                                                            if(_loc19_)
                                                                                                            {
                                                                                                               addr304:
                                                                                                               §§push("false");
                                                                                                               if(_loc19_)
                                                                                                               {
                                                                                                                  _loc15_ = §§pop();
                                                                                                                  §§push(this.q.arrayContainsSplit(this.pChar.Quests.Done,_loc11_,"*"));
                                                                                                                  if(!_loc20_)
                                                                                                                  {
                                                                                                                     addr327:
                                                                                                                     §§push(§§pop());
                                                                                                                     if(!_loc20_)
                                                                                                                     {
                                                                                                                        _loc16_ = §§pop();
                                                                                                                        addr332:
                                                                                                                        if(_loc7_ !== "false")
                                                                                                                        {
                                                                                                                           addr334:
                                                                                                                           trace("act not false");
                                                                                                                           if(_loc10_.indexOf(")") >= 0)
                                                                                                                           {
                                                                                                                              break loop3;
                                                                                                                           }
                                                                                                                           if(_loc7_.split("_")[1] == "D")
                                                                                                                           {
                                                                                                                              addr351:
                                                                                                                              _loc15_ = "true";
                                                                                                                           }
                                                                                                                           addr353:
                                                                                                                           §§push(_loc15_);
                                                                                                                           §§push("false");
                                                                                                                           if(!_loc20_)
                                                                                                                           {
                                                                                                                              if(§§pop() == §§pop())
                                                                                                                              {
                                                                                                                                 trace("act quest " + _loc10_);
                                                                                                                                 _loc13_ = MovieClip(root)[_loc3_.name + "_QS"] = _loc5_.QuestState = new AnimatedBitmap(this.qactive,Event.ENTER_FRAME,60);
                                                                                                                                 if(!_loc19_)
                                                                                                                                 {
                                                                                                                                    continue loop5;
                                                                                                                                 }
                                                                                                                                 addr436:
                                                                                                                              }
                                                                                                                              else
                                                                                                                              {
                                                                                                                                 §§push(_loc15_);
                                                                                                                                 §§push("false");
                                                                                                                                 if(_loc19_)
                                                                                                                                 {
                                                                                                                                    if(§§pop() !== §§pop())
                                                                                                                                    {
                                                                                                                                       trace("done quest " + _loc10_);
                                                                                                                                       _loc13_ = MovieClip(root)[_loc3_.name + "_QS"] = _loc5_.QuestState = new AnimatedBitmap(this.qdone,Event.ENTER_FRAME,60);
                                                                                                                                       if(_loc19_)
                                                                                                                                       {
                                                                                                                                          this.tip(3);
                                                                                                                                       }
                                                                                                                                    }
                                                                                                                                    §§goto(addr436);
                                                                                                                                 }
                                                                                                                                 else
                                                                                                                                 {
                                                                                                                                    addr464:
                                                                                                                                    if(§§pop().indexOf(§§pop()) >= 0)
                                                                                                                                    {
                                                                                                                                       break loop3;
                                                                                                                                    }
                                                                                                                                    _loc13_ = MovieClip(root)[_loc3_.name + "_QS"] = _loc5_.QuestState = new AnimatedBitmap(this.qnew,Event.ENTER_FRAME,60);
                                                                                                                                 }
                                                                                                                              }
                                                                                                                              addr495:
                                                                                                                              if(_loc13_ === null)
                                                                                                                              {
                                                                                                                                 _loc9_++;
                                                                                                                                 continue loop5;
                                                                                                                              }
                                                                                                                              _loc13_.mouseEnabled = false;
                                                                                                                              if(!_loc20_)
                                                                                                                              {
                                                                                                                                 _loc13_.mouseChildren = false;
                                                                                                                                 if(!_loc20_)
                                                                                                                                 {
                                                                                                                                    _loc13_.x = _loc14_.x;
                                                                                                                                    addr513:
                                                                                                                                    _loc13_.y = _loc14_.y;
                                                                                                                                    addChildAt(_loc13_,getChildIndex(_loc3_));
                                                                                                                                    if(!_loc19_)
                                                                                                                                    {
                                                                                                                                       continue loop5;
                                                                                                                                    }
                                                                                                                                    _loc5_.QuestState = _loc13_;
                                                                                                                                 }
                                                                                                                                 break loop3;
                                                                                                                              }
                                                                                                                              §§goto(addr513);
                                                                                                                           }
                                                                                                                        }
                                                                                                                        else
                                                                                                                        {
                                                                                                                           §§push(_loc7_);
                                                                                                                           if(_loc19_)
                                                                                                                           {
                                                                                                                              §§push(§§pop() == "false");
                                                                                                                              if(_loc19_)
                                                                                                                              {
                                                                                                                                 if(§§pop())
                                                                                                                                 {
                                                                                                                                    if(!_loc20_)
                                                                                                                                    {
                                                                                                                                       addr451:
                                                                                                                                       §§pop();
                                                                                                                                       addr452:
                                                                                                                                       §§push(_loc16_);
                                                                                                                                       if(!_loc20_)
                                                                                                                                       {
                                                                                                                                          §§push("false");
                                                                                                                                          if(!_loc20_)
                                                                                                                                          {
                                                                                                                                             §§push(§§pop() == §§pop());
                                                                                                                                          }
                                                                                                                                          §§goto(addr464);
                                                                                                                                       }
                                                                                                                                       addr463:
                                                                                                                                       §§goto(addr464);
                                                                                                                                       §§push("(");
                                                                                                                                    }
                                                                                                                                 }
                                                                                                                                 if(§§pop())
                                                                                                                                 {
                                                                                                                                    §§goto(addr463);
                                                                                                                                    §§push(_loc10_);
                                                                                                                                 }
                                                                                                                                 §§goto(addr495);
                                                                                                                              }
                                                                                                                           }
                                                                                                                           §§goto(addr451);
                                                                                                                        }
                                                                                                                        §§goto(addr464);
                                                                                                                     }
                                                                                                                     §§goto(addr451);
                                                                                                                  }
                                                                                                                  §§goto(addr332);
                                                                                                               }
                                                                                                               §§goto(addr351);
                                                                                                            }
                                                                                                            §§goto(addr334);
                                                                                                         }
                                                                                                         §§goto(addr353);
                                                                                                      }
                                                                                                      §§goto(addr452);
                                                                                                   }
                                                                                                   §§goto(addr304);
                                                                                                }
                                                                                                §§goto(addr327);
                                                                                             }
                                                                                             addr247:
                                                                                             _loc8_ = §§pop();
                                                                                             §§goto(addr248);
                                                                                          }
                                                                                          §§goto(addr247);
                                                                                          §§push(true);
                                                                                       }
                                                                                    }
                                                                                    §§goto(addr248);
                                                                                 }
                                                                                 §§goto(addr247);
                                                                              }
                                                                              §§goto(addr238);
                                                                           }
                                                                           addr566:
                                                                           §§push(_loc8_);
                                                                           if(_loc19_)
                                                                           {
                                                                              §§push(!§§pop());
                                                                              if(_loc19_)
                                                                              {
                                                                                 addr572:
                                                                                 if(§§pop())
                                                                                 {
                                                                                    trace("NPC ++ ");
                                                                                    if(_loc19_)
                                                                                    {
                                                                                       var _loc17_:*;
                                                                                       §§push((_loc17_ = this).npcindex);
                                                                                       if(!_loc20_)
                                                                                       {
                                                                                          §§push(§§pop() + 1);
                                                                                       }
                                                                                       var _loc18_:* = §§pop();
                                                                                       if(_loc19_)
                                                                                       {
                                                                                          _loc17_.npcindex = _loc18_;
                                                                                       }
                                                                                    }
                                                                                 }
                                                                                 addr594:
                                                                                 §§push(MovieClip(root)[_loc3_.name + "_QS"] == null);
                                                                                 if(!_loc20_)
                                                                                 {
                                                                                    addr607:
                                                                                    if(§§pop() && _loc8_)
                                                                                    {
                                                                                       if(_loc19_)
                                                                                       {
                                                                                          break loop1;
                                                                                       }
                                                                                       addr638:
                                                                                       _loc2_++;
                                                                                       continue loop6;
                                                                                    }
                                                                                    §§goto(addr638);
                                                                                 }
                                                                              }
                                                                              §§goto(addr611);
                                                                           }
                                                                           §§goto(addr607);
                                                                        }
                                                                        §§push(MovieClip(root)[_loc3_.name + "_QS"] !== null);
                                                                        §§push(MovieClip(root)[_loc3_.name + "_QS"] !== null);
                                                                        if(!_loc20_)
                                                                        {
                                                                           if(§§pop())
                                                                           {
                                                                              if(_loc19_)
                                                                              {
                                                                                 addr563:
                                                                                 §§pop();
                                                                                 if(!_loc20_)
                                                                                 {
                                                                                    §§goto(addr566);
                                                                                 }
                                                                                 §§goto(addr594);
                                                                              }
                                                                              §§goto(addr607);
                                                                           }
                                                                           §§goto(addr572);
                                                                        }
                                                                        §§goto(addr607);
                                                                     }
                                                                     §§goto(addr210);
                                                                  }
                                                                  addr196:
                                                               }
                                                               break;
                                                            }
                                                            addr615:
                                                            §§push((_loc17_ = this).npcindex);
                                                            if(_loc19_)
                                                            {
                                                               §§push(§§pop() - 1);
                                                            }
                                                            _loc18_ = §§pop();
                                                            if(_loc19_)
                                                            {
                                                               _loc17_.npcindex = _loc18_;
                                                            }
                                                            §§goto(addr638);
                                                            addr192:
                                                         }
                                                         §§goto(addr214);
                                                      }
                                                      §§goto(addr196);
                                                   }
                                                }
                                                §§goto(addr188);
                                             }
                                             §§goto(addr566);
                                          }
                                          addr537:
                                          trace("HADSYMBOL: " + _loc8_);
                                          if(_loc19_)
                                          {
                                             §§goto(addr545);
                                          }
                                          §§goto(addr615);
                                       }
                                    }
                                    §§goto(addr638);
                                 }
                                 §§goto(addr192);
                              }
                              §§goto(addr563);
                           }
                           §§goto(addr537);
                        }
                        §§goto(addr160);
                     }
                     §§goto(addr638);
                     continue loop6;
                  }
                  §§goto(addr650);
               }
               addr650:
               if(_loc20_)
               {
               }
               return;
            }
            §§goto(addr640);
         }
         §§goto(addr75);
      }
      
      public function questTalk(param1:String, param2:Boolean, param3:String, param4:Boolean = false) : void
      {
         var _loc9_:Boolean = false;
         var _loc10_:Boolean = true;
         var _loc5_:* = false;
         var _loc6_:MovieClip = null;
         var _loc7_:String = null;
         if(!_loc9_)
         {
            trace("Quest talk");
            if(!_loc9_)
            {
               addr33:
               trace(param1);
            }
            if(root.questtalk)
            {
               if(_loc10_)
               {
                  return;
               }
            }
            else
            {
               §§push(false);
               if(!_loc9_)
               {
                  _loc5_ = §§pop();
                  if(_loc10_)
                  {
                     §§push(param1);
                     §§push("_");
                     if(_loc10_)
                     {
                        §§push(§§pop().indexOf(§§pop()) >= 0);
                        if(_loc10_)
                        {
                           §§push(§§pop());
                           if(!_loc9_)
                           {
                              if(§§pop())
                              {
                                 if(!_loc9_)
                                 {
                                    §§pop();
                                    §§push(param1);
                                    if(_loc10_)
                                    {
                                       §§push("_");
                                       if(_loc10_)
                                       {
                                          §§push(§§pop().split(§§pop())[1] == "D");
                                          if(_loc10_)
                                          {
                                             addr79:
                                             if(§§pop())
                                             {
                                                if(_loc10_)
                                                {
                                                   addr82:
                                                   _loc5_ = true;
                                                   if(!_loc9_)
                                                   {
                                                      addr87:
                                                      §§push(!_loc5_);
                                                      §§push(!_loc5_);
                                                      if(!_loc9_)
                                                      {
                                                         addr92:
                                                         if(§§pop())
                                                         {
                                                            §§pop();
                                                            if(_loc10_)
                                                            {
                                                               addr98:
                                                               §§push(Boolean(param2));
                                                               §§push(Boolean(param2));
                                                               if(_loc10_)
                                                               {
                                                                  if(§§pop())
                                                                  {
                                                                     §§pop();
                                                                     if(_loc10_)
                                                                     {
                                                                        §§goto(addr197);
                                                                     }
                                                                     addr168:
                                                                     this.npctalk = null;
                                                                     if(_loc10_)
                                                                     {
                                                                        this.dialog(this.QuestDialogs[param1].split("_")[0],this.QuestDialogs[param1].split("_")[1]);
                                                                        return;
                                                                     }
                                                                     §§goto(addr211);
                                                                  }
                                                                  if(§§pop())
                                                                  {
                                                                     if(_loc10_)
                                                                     {
                                                                        this.createInstance(this.QuestInstances[param1.split("*")[0]].split("_")[0]);
                                                                        if(_loc10_)
                                                                        {
                                                                           return;
                                                                        }
                                                                        addr153:
                                                                        §§push(param1 in this.QuestDialogs);
                                                                        if(_loc10_)
                                                                        {
                                                                           addr167:
                                                                           if(§§pop() && param4)
                                                                           {
                                                                              §§goto(addr168);
                                                                           }
                                                                           else
                                                                           {
                                                                              §§push(param1);
                                                                              if(_loc10_)
                                                                              {
                                                                                 addr197:
                                                                                 §§push(param1);
                                                                                 §§push("*");
                                                                                 if(!_loc9_)
                                                                                 {
                                                                                    §§push(§§pop().split(§§pop())[0] in this.QuestInstances);
                                                                                 }
                                                                                 if((_loc7_ = §§pop().split(§§pop())[0].split("*")[0]) in this.quests)
                                                                                 {
                                                                                    addr211:
                                                                                    (_loc6_ = this.questtalk = new QuestTalk() as MovieClip).x = 231.5;
                                                                                    _loc6_.y = 91.6;
                                                                                    addChildAt(_loc6_,getChildIndex(this.mouse));
                                                                                 }
                                                                                 else
                                                                                 {
                                                                                    _loc6_ = this.questtalk = new MovieClip();
                                                                                    if(_loc10_)
                                                                                    {
                                                                                       this.connection.send("QuestInfo",_loc7_);
                                                                                       if(!_loc10_)
                                                                                       {
                                                                                       }
                                                                                       §§goto(addr268);
                                                                                    }
                                                                                    trace("send QuestInfo " + _loc7_);
                                                                                 }
                                                                                 addr268:
                                                                                 _loc6_.quest = param1;
                                                                                 if(_loc10_)
                                                                                 {
                                                                                    _loc6_.qname = _loc7_;
                                                                                    if(!_loc9_)
                                                                                    {
                                                                                       _loc6_.a = param2;
                                                                                    }
                                                                                    _loc6_.done = _loc5_;
                                                                                    if(!_loc9_)
                                                                                    {
                                                                                       _loc6_.npc = param3;
                                                                                    }
                                                                                 }
                                                                                 return;
                                                                                 §§push("_");
                                                                              }
                                                                              §§goto(addr197);
                                                                           }
                                                                        }
                                                                        §§push(!§§pop());
                                                                        if(!_loc9_)
                                                                        {
                                                                           §§goto(addr167);
                                                                        }
                                                                        §§goto(addr197);
                                                                     }
                                                                     §§goto(addr163);
                                                                  }
                                                                  else
                                                                  {
                                                                     addr145:
                                                                     §§push(!param2);
                                                                     §§push(!param2);
                                                                     if(_loc10_)
                                                                     {
                                                                        addr149:
                                                                        if(§§pop())
                                                                        {
                                                                           if(!_loc9_)
                                                                           {
                                                                              §§pop();
                                                                              §§goto(addr153);
                                                                           }
                                                                           §§goto(addr162);
                                                                        }
                                                                        §§goto(addr167);
                                                                     }
                                                                  }
                                                                  §§goto(addr167);
                                                               }
                                                               §§goto(addr149);
                                                            }
                                                            §§goto(addr162);
                                                         }
                                                         §§goto(addr98);
                                                      }
                                                      §§goto(addr149);
                                                   }
                                                   §§goto(addr197);
                                                }
                                                §§goto(addr168);
                                             }
                                          }
                                          §§goto(addr87);
                                       }
                                    }
                                    §§goto(addr197);
                                 }
                                 §§goto(addr167);
                              }
                              §§goto(addr79);
                           }
                           §§goto(addr92);
                        }
                        §§goto(addr145);
                     }
                     §§goto(addr197);
                  }
                  §§goto(addr82);
               }
               §§goto(addr87);
            }
            §§goto(addr168);
         }
         §§goto(addr33);
      }
      
      public function newquest(param1:Message, param2:String) : void
      {
         var _loc3_:Boolean = true;
         var _loc4_:Boolean = false;
         this.pChar.Quests.Active.push(param2);
         this.checkQuests();
         this.tip(2);
         §§push(param2);
         if(_loc3_)
         {
            §§push("The Treasure Box");
            if(_loc3_)
            {
               if(§§pop().indexOf(§§pop()) >= 0)
               {
                  if(!_loc4_)
                  {
                     this.tip(16);
                     §§goto(addr49);
                  }
                  §§goto(addr64);
               }
               addr49:
               §§push(param2);
               if(_loc3_)
               {
                  addr52:
                  §§push("Ring of Romance");
                  if(_loc3_)
                  {
                     if(§§pop().indexOf(§§pop()) >= 0)
                     {
                        if(!_loc4_)
                        {
                           this.tip(18);
                           §§goto(addr64);
                        }
                        §§goto(addr76);
                     }
                     addr64:
                     §§goto(addr66);
                  }
                  addr66:
                  §§goto(addr65);
               }
               addr65:
               if(param2.indexOf("Training") >= 0)
               {
                  root.maphelp = root.addChildAt(new MapHelp() as MovieClip,!!this.tipmc ? getChildIndex(this.tipmc) : getChildIndex(root.mouse));
                  addr76:
               }
               return;
            }
            §§goto(addr64);
         }
         §§goto(addr52);
      }
      
      public function queststate(param1:String, param2:int) : void
      {
         var _loc3_:Boolean = true;
         var _loc4_:Boolean = false;
         if(!_loc4_)
         {
            trace("Queststate:" + param1);
            if(_loc3_)
            {
               this.pChar.Quests.Active[param2] = param1;
               if(_loc4_)
               {
               }
               §§goto(addr91);
            }
            §§push(Boolean(this.questlog));
            if(_loc3_)
            {
               if(§§pop())
               {
                  if(!_loc4_)
                  {
                     §§pop();
                     if(!_loc4_)
                     {
                        addr85:
                        if(this.questlog.questdisplay.split("_")[0].split("*")[0] == param1.split("_")[0].split("*")[0])
                        {
                           if(_loc4_)
                           {
                           }
                        }
                        §§goto(addr91);
                     }
                     this.questlog.display();
                     §§goto(addr91);
                  }
               }
            }
            §§goto(addr85);
         }
         addr91:
      }
      
      public function questcompleted(param1:Message, param2:int, param3:String = "") : void
      {
         var _loc8_:Boolean = false;
         var _loc9_:Boolean = true;
         var _loc4_:* = null;
         var _loc5_:Vector.<String> = null;
         var _loc6_:MovieClip = null;
         if(_loc9_)
         {
            _loc4_ = this.pChar.Quests.Active[param2];
         }
         §§push((_loc5_ = Vector.<String>(_loc4_.split("_")))[0]);
         if(_loc9_)
         {
            §§push(§§pop().split("*")[0]);
         }
         _loc4_ = §§pop();
         if(_loc9_)
         {
            this.pChar.Quests.Active.splice(param2,1);
            this.pChar.Quests.Done.push(_loc4_);
            trace(this.pChar.Quests.Active);
            trace(this.pChar.Quests.Done);
            if(!_loc8_)
            {
               this.checkQuests();
            }
            if(this.questlog)
            {
               addr92:
               this.questlog.display();
               this.questlog.list();
            }
            _loc6_ = new QuestComplete() as MovieClip;
            if(_loc9_)
            {
               §§push(param3);
               if(!_loc8_)
               {
                  §§push("");
                  if(!_loc8_)
                  {
                     if(§§pop() !== §§pop())
                     {
                        _loc6_.getChildAt(0).reptxt.text = root.getTxt("Reputation",_loc6_.getChildAt(0).reptxt) + " " + param3.split("_")[0];
                        _loc6_.getChildAt(0).xptxt.text = "Exp " + param3.split("_")[1];
                        addr145:
                        _loc6_.getChildAt(0).denartxt.text = root.getTxt("Denars",_loc6_.getChildAt(0).denartxt) + " " + param3.split("_")[2];
                        if(_loc9_)
                        {
                           addr168:
                           _loc6_.getChildAt(0).questname.text = root.getTxt(_loc4_,_loc6_.getChildAt(0).questname);
                           §§push(this.onSpecial);
                           if(_loc9_)
                           {
                              addr185:
                              if(§§pop() == "easy")
                              {
                                 if(!_loc8_)
                                 {
                                    addr188:
                                    this.aE.wall(root.getTxt("QuestWall").replace("{Name}",this.pChar.key).replace("{Class}",this.getTxt(this.pChar.Class)).replace("{Quest}",root.getTxt(_loc4_)));
                                    if(_loc9_)
                                    {
                                       addr213:
                                       addChild(_loc6_);
                                       _loc6_.getChildAt(0).raster();
                                    }
                                 }
                                 addr356:
                                 var _loc7_:* = _loc4_;
                                 §§push("Training");
                                 if(_loc9_)
                                 {
                                    if(§§pop() === _loc7_)
                                    {
                                       §§push(0);
                                    }
                                    else
                                    {
                                       §§push("Secret Documents Ep.2");
                                       §§push(_loc7_);
                                       if(_loc9_)
                                       {
                                          if(§§pop() === §§pop())
                                          {
                                             if(!_loc8_)
                                             {
                                                §§goto(addr535);
                                             }
                                             else
                                             {
                                                addr471:
                                                addr535:
                                                switch(1)
                                                {
                                                   case 0:
                                                      this.dialogCheck("TMD2","Tutorial Master","Dialog2");
                                                      break;
                                                   case 1:
                                                      this.dialog("Nefcok","SecretDocuments");
                                                   case 2:
                                                      this.dialog("Eusobio","Assault");
                                                      if(_loc9_)
                                                      {
                                                         break;
                                                      }
                                                      addr278:
                                                      break;
                                                   case 3:
                                                      this.dialog("Nefcok","CaughtMontero");
                                                      break;
                                                   case 4:
                                                      this.dialog("Aramis","WoundedDone");
                                                      break;
                                                   case 5:
                                                      this.dialog("The Collector","First");
                                                      break;
                                                   case 6:
                                                      this.dialog("The Collector","Anchor");
                                                      break;
                                                   case 7:
                                                      this.dialog("The Collector","Ring");
                                                      §§goto(addr278);
                                                   case 8:
                                                      this.dialog("Weaponsmith Cartosar","Fortifying");
                                                      break;
                                                   case 9:
                                                      this.dialog("Weaponsmith Cartosar","MagicBullets");
                                                      if(_loc9_)
                                                      {
                                                         break;
                                                      }
                                                      addr346:
                                                      break;
                                                   case 10:
                                                      this.dialog("Simor","Daughter1");
                                                      if(!_loc8_)
                                                      {
                                                         break;
                                                      }
                                                      addr340:
                                                      break;
                                                   case 11:
                                                      this.dialog("Simor","Daughter2");
                                                      break;
                                                   case 12:
                                                      this.dialog("Commander Redrigo","QuestScene");
                                                      break;
                                                   case 13:
                                                      this.dialog("Guardian Master","Guardian1");
                                                      if(!_loc8_)
                                                      {
                                                         break;
                                                      }
                                                      addr352:
                                                      break;
                                                   case 14:
                                                      this.dialog("Guardian Master","Guardian2");
                                                      break;
                                                   case 15:
                                                      this.dialog("Guardian Master","Guardian3");
                                                      break;
                                                   case 16:
                                                      this.dialog("Commander Redrigo","LastStuff");
                                                      §§goto(addr340);
                                                   case 17:
                                                      this.dialog("Montero","End");
                                                      §§goto(addr346);
                                                   case 18:
                                                      this.dialog("Montero","FactoryEnd");
                                                      §§goto(addr352);
                                                }
                                                return;
                                                §§push(12);
                                             }
                                             §§goto(addr535);
                                          }
                                          else
                                          {
                                             §§push("Preparation");
                                             if(_loc9_)
                                             {
                                                §§push(_loc7_);
                                                if(_loc9_)
                                                {
                                                   if(§§pop() === §§pop())
                                                   {
                                                      if(!_loc8_)
                                                      {
                                                         §§goto(addr535);
                                                         §§push(2);
                                                      }
                                                      else
                                                      {
                                                         addr401:
                                                         §§goto(addr535);
                                                         §§push(4);
                                                      }
                                                      §§goto(addr535);
                                                   }
                                                   else if("Payoff" === _loc7_)
                                                   {
                                                      if(_loc9_)
                                                      {
                                                         §§goto(addr535);
                                                         §§push(3);
                                                      }
                                                      else
                                                      {
                                                         §§goto(addr401);
                                                      }
                                                      §§goto(addr535);
                                                   }
                                                   else
                                                   {
                                                      §§push("Wounded Swordsman");
                                                      §§push(_loc7_);
                                                      if(!_loc8_)
                                                      {
                                                         if(§§pop() === §§pop())
                                                         {
                                                            §§goto(addr401);
                                                         }
                                                         else
                                                         {
                                                            addr404:
                                                            §§push("First Meeting");
                                                            §§push(_loc7_);
                                                            if(!_loc8_)
                                                            {
                                                               if(§§pop() === §§pop())
                                                               {
                                                                  if(!_loc8_)
                                                                  {
                                                                     §§push(5);
                                                                     if(_loc8_)
                                                                     {
                                                                        addr420:
                                                                     }
                                                                  }
                                                               }
                                                               else if("Collector\'s Hobby" === _loc7_)
                                                               {
                                                                  §§goto(addr420);
                                                                  §§push(6);
                                                               }
                                                               else
                                                               {
                                                                  if("The Treasure Box" === _loc7_)
                                                                  {
                                                                     §§push(7);
                                                                     if(!_loc9_)
                                                                     {
                                                                        addr506:
                                                                     }
                                                                  }
                                                                  else
                                                                  {
                                                                     addr430:
                                                                     if("Fortifying Portville" !== _loc7_)
                                                                     {
                                                                        §§push("Magical Bullets");
                                                                        if(!_loc8_)
                                                                        {
                                                                           §§push(_loc7_);
                                                                           if(!_loc8_)
                                                                           {
                                                                              addr439:
                                                                              if(§§pop() === §§pop())
                                                                              {
                                                                                 §§goto(addr535);
                                                                                 §§push(9);
                                                                              }
                                                                              else
                                                                              {
                                                                                 §§push("Simor\'s Daughter");
                                                                                 if(_loc9_)
                                                                                 {
                                                                                    if(§§pop() === _loc7_)
                                                                                    {
                                                                                       §§push(10);
                                                                                       if(!_loc9_)
                                                                                       {
                                                                                          addr493:
                                                                                       }
                                                                                       §§goto(addr535);
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                       §§push("Simor\'s Daughter Ep.2");
                                                                                       §§push(_loc7_);
                                                                                       if(_loc9_)
                                                                                       {
                                                                                          if(§§pop() === §§pop())
                                                                                          {
                                                                                             if(_loc9_)
                                                                                             {
                                                                                                §§push(11);
                                                                                                if(!_loc9_)
                                                                                                {
                                                                                                   addr483:
                                                                                                }
                                                                                                §§goto(addr535);
                                                                                             }
                                                                                             else
                                                                                             {
                                                                                                §§goto(addr471);
                                                                                             }
                                                                                          }
                                                                                          else
                                                                                          {
                                                                                             §§push("The Dark Prince");
                                                                                             §§push(_loc7_);
                                                                                          }
                                                                                          §§goto(addr535);
                                                                                       }
                                                                                       if(§§pop() === §§pop())
                                                                                       {
                                                                                          if(!_loc8_)
                                                                                          {
                                                                                             §§goto(addr471);
                                                                                          }
                                                                                          else
                                                                                          {
                                                                                             addr492:
                                                                                             §§goto(addr493);
                                                                                             §§push(14);
                                                                                          }
                                                                                          §§goto(addr535);
                                                                                       }
                                                                                       else
                                                                                       {
                                                                                          §§push("Becoming a Guardian");
                                                                                          if(_loc9_)
                                                                                          {
                                                                                             if(§§pop() === _loc7_)
                                                                                             {
                                                                                                if(_loc9_)
                                                                                                {
                                                                                                   §§goto(addr483);
                                                                                                   §§push(13);
                                                                                                }
                                                                                                §§goto(addr535);
                                                                                             }
                                                                                             else
                                                                                             {
                                                                                                addr485:
                                                                                                §§push("Becoming a Guardian Ep.2");
                                                                                                §§push(_loc7_);
                                                                                                if(!_loc8_)
                                                                                                {
                                                                                                   addr488:
                                                                                                   if(§§pop() === §§pop())
                                                                                                   {
                                                                                                      if(!_loc8_)
                                                                                                      {
                                                                                                         §§goto(addr492);
                                                                                                      }
                                                                                                      else
                                                                                                      {
                                                                                                         addr519:
                                                                                                         §§goto(addr535);
                                                                                                         §§push(16);
                                                                                                      }
                                                                                                      §§goto(addr535);
                                                                                                   }
                                                                                                   else
                                                                                                   {
                                                                                                      §§push("Becoming a Guardian Ep.3");
                                                                                                      if(!_loc8_)
                                                                                                      {
                                                                                                         §§push(_loc7_);
                                                                                                         if(!_loc8_)
                                                                                                         {
                                                                                                            if(§§pop() === §§pop())
                                                                                                            {
                                                                                                               if(!_loc8_)
                                                                                                               {
                                                                                                                  §§goto(addr506);
                                                                                                                  §§push(15);
                                                                                                               }
                                                                                                               §§goto(addr535);
                                                                                                            }
                                                                                                            else
                                                                                                            {
                                                                                                               addr515:
                                                                                                               if("Lake of Fire Ep.2" === _loc7_)
                                                                                                               {
                                                                                                                  if(!_loc8_)
                                                                                                                  {
                                                                                                                     §§goto(addr519);
                                                                                                                  }
                                                                                                                  else
                                                                                                                  {
                                                                                                                     addr524:
                                                                                                                     §§goto(addr535);
                                                                                                                     §§push(17);
                                                                                                                  }
                                                                                                                  §§goto(addr535);
                                                                                                               }
                                                                                                               else
                                                                                                               {
                                                                                                                  addr523:
                                                                                                                  if("The Archons of Dusk" === _loc7_)
                                                                                                                  {
                                                                                                                     §§goto(addr524);
                                                                                                                  }
                                                                                                                  else
                                                                                                                  {
                                                                                                                     if("The Factory" !== _loc7_)
                                                                                                                     {
                                                                                                                        §§goto(addr535);
                                                                                                                        §§push(19);
                                                                                                                     }
                                                                                                                     §§goto(addr535);
                                                                                                                  }
                                                                                                               }
                                                                                                               §§goto(addr524);
                                                                                                            }
                                                                                                            §§push(18);
                                                                                                         }
                                                                                                      }
                                                                                                      §§goto(addr515);
                                                                                                   }
                                                                                                }
                                                                                                §§goto(addr523);
                                                                                             }
                                                                                          }
                                                                                          §§goto(addr515);
                                                                                       }
                                                                                    }
                                                                                    §§goto(addr535);
                                                                                 }
                                                                                 §§goto(addr485);
                                                                              }
                                                                              §§goto(addr535);
                                                                           }
                                                                           §§goto(addr488);
                                                                        }
                                                                        §§goto(addr515);
                                                                     }
                                                                  }
                                                                  §§goto(addr535);
                                                               }
                                                               §§goto(addr535);
                                                               §§push(8);
                                                            }
                                                            §§goto(addr439);
                                                         }
                                                      }
                                                      §§goto(addr515);
                                                   }
                                                   §§goto(addr535);
                                                }
                                                §§goto(addr430);
                                             }
                                             §§goto(addr523);
                                          }
                                       }
                                       §§goto(addr439);
                                    }
                                    §§goto(addr535);
                                 }
                                 §§goto(addr404);
                              }
                              §§goto(addr213);
                           }
                           §§goto(addr356);
                        }
                        §§goto(addr188);
                     }
                     §§goto(addr168);
                  }
               }
               §§goto(addr185);
            }
            §§goto(addr145);
         }
         §§goto(addr92);
      }
      
      public function questdone(param1:int) : void
      {
         var _loc4_:Boolean = true;
         var _loc5_:Boolean = false;
         var _loc2_:String = null;
         var _loc3_:Vector.<String> = null;
         if(!_loc5_)
         {
            _loc2_ = this.pChar.Quests.Active[param1];
         }
         _loc3_ = Vector.<String>(_loc2_.split("_"));
         if(_loc4_)
         {
            _loc3_[1] = "D";
            if(!_loc5_)
            {
               _loc2_ = _loc3_.join("_");
               if(_loc4_)
               {
                  §§goto(addr71);
               }
               §§goto(addr81);
            }
            addr71:
            this.pChar.Quests.Active[param1] = _loc2_;
            if(_loc4_)
            {
               addr81:
               if(this.questlog)
               {
                  if(!_loc4_)
                  {
                  }
               }
               §§goto(addr90);
            }
            this.questlog.list();
            §§goto(addr90);
         }
         addr90:
      }
      
      public function getC() : Connection
      {
         var _loc2_:Boolean = false;
         var _loc3_:Boolean = true;
         var _loc1_:Connection = null;
         _loc1_ = this.connection;
         if(!_loc2_)
         {
            if(this.battle)
            {
               addr36:
               _loc1_ = this.battle;
            }
            return _loc1_;
         }
         §§goto(addr36);
      }
      
      public function itemlist(param1:MovieClip, param2:Vector.<String>, param3:int, param4:String, param5:Boolean = false) : void
      {
         var _loc7_:Boolean = true;
         var _loc8_:Boolean = false;
         var c:Client = null;
         var m:MovieClip = param1;
         var l:Vector.<String> = param2;
         if(_loc7_)
         {
            var ni:int = param3;
            var type:String = param4;
            if(!_loc8_)
            {
               var goldmall:Boolean = param5;
               if(_loc7_)
               {
                  addr46:
                  var list:* = function():void
                  {
                     var _loc9_:Boolean = false;
                     var _loc10_:Boolean = true;
                     var _loc1_:* = 0;
                     var _loc2_:* = 0;
                     var _loc3_:uint = 0;
                     var _loc4_:MovieClip = null;
                     var _loc5_:* = null;
                     var _loc6_:* = uint(0);
                     var _loc7_:* = 0;
                     var _loc8_:String = null;
                     if(m.guildo)
                     {
                        trace(m.guildo.XP);
                        if(_loc10_)
                        {
                           _loc3_ = calcGuildLvl(m.guildo.XP).Level;
                           if(!_loc9_)
                           {
                              addr47:
                              trace("Guild lvl:" + _loc3_);
                              §§push(int(l.length));
                              if(!_loc9_)
                              {
                                 _loc1_ = §§pop();
                                 if(!_loc9_)
                                 {
                                    §§goto(addr61);
                                 }
                                 §§goto(addr67);
                              }
                              §§goto(addr64);
                           }
                           addr61:
                           §§push(0);
                           if(!_loc9_)
                           {
                              addr64:
                              _loc2_ = §§pop();
                              if(_loc10_)
                              {
                                 addr67:
                                 while(true)
                                 {
                                    §§push(_loc2_);
                                 }
                                 addr457:
                              }
                              §§goto(addr460);
                           }
                           for(; §§pop() < ni; §§goto(addr457))
                           {
                              if(!(_loc4_ = m["s" + _loc2_]))
                              {
                                 if(!_loc10_)
                                 {
                                    addr436:
                                    _loc4_.type = _loc4_.currentFrameLabel.split("_")[0];
                                    _loc4_.id = _loc2_;
                                    _loc4_.arrayid = type;
                                    _loc4_.slot = true;
                                    if(_loc9_)
                                    {
                                       continue;
                                    }
                                 }
                                 addr456:
                                 _loc2_++;
                                 continue;
                              }
                              §§push("None");
                              if(_loc10_)
                              {
                                 _loc5_ = §§pop();
                                 if(_loc10_)
                                 {
                                    §§push(_loc2_);
                                    §§push(_loc1_);
                                    if(_loc10_)
                                    {
                                       if(§§pop() < §§pop())
                                       {
                                          _loc5_ = l[_loc2_];
                                          if(!_loc10_)
                                          {
                                          }
                                          §§goto(addr436);
                                       }
                                       §§push(_loc5_);
                                       if(_loc10_)
                                       {
                                          §§push(§§pop() == "");
                                          §§push(§§pop() == "");
                                          if(_loc10_)
                                          {
                                             if(!§§pop())
                                             {
                                                if(!_loc9_)
                                                {
                                                   §§pop();
                                                   if(!_loc9_)
                                                   {
                                                      §§push(_loc5_);
                                                      if(_loc10_)
                                                      {
                                                         addr123:
                                                         §§push(§§pop() == null);
                                                         §§push(§§pop() == null);
                                                         if(!_loc9_)
                                                         {
                                                            addr126:
                                                            if(!§§pop())
                                                            {
                                                               §§pop();
                                                               if(_loc10_)
                                                               {
                                                                  addr131:
                                                                  §§push(_loc5_);
                                                                  §§push("null");
                                                                  if(_loc10_)
                                                                  {
                                                                     §§push(§§pop() == §§pop());
                                                                     if(_loc10_)
                                                                     {
                                                                        addr139:
                                                                        if(§§pop())
                                                                        {
                                                                           §§push("None");
                                                                           if(!_loc9_)
                                                                           {
                                                                              addr144:
                                                                              _loc5_ = §§pop();
                                                                              addr145:
                                                                              §§push(uint(1));
                                                                              if(!_loc9_)
                                                                              {
                                                                                 _loc6_ = §§pop();
                                                                                 §§push(_loc5_);
                                                                                 §§push("_");
                                                                                 if(!_loc9_)
                                                                                 {
                                                                                    addr156:
                                                                                    if(§§pop().indexOf(§§pop()) >= 0)
                                                                                    {
                                                                                       addr167:
                                                                                       _loc6_ = uint(uint(_loc5_.split("_")[1]));
                                                                                    }
                                                                                    trace(_loc2_ + ": " + _loc5_);
                                                                                    _loc4_.na.visible = false;
                                                                                    MovieClip(root).setSlot(_loc4_,_loc5_);
                                                                                    if(goldmall)
                                                                                    {
                                                                                       if(!_loc9_)
                                                                                       {
                                                                                          §§push(_loc4_.currentFrameLabel == "Skill Manual");
                                                                                          if(_loc10_)
                                                                                          {
                                                                                             if(§§pop() && !root.q.vectorContains(root[pChar.Class + "Skills"],_loc5_.split(" Skill Manual")[0]))
                                                                                             {
                                                                                                l.splice(_loc2_,1);
                                                                                                addr219:
                                                                                                §§push(_loc2_);
                                                                                                if(_loc10_)
                                                                                                {
                                                                                                   §§push(§§pop() - 1);
                                                                                                   if(_loc10_)
                                                                                                   {
                                                                                                      _loc2_ = §§pop();
                                                                                                      _loc1_--;
                                                                                                   }
                                                                                                   else
                                                                                                   {
                                                                                                      addr291:
                                                                                                      _loc2_ = §§pop() - 1;
                                                                                                      §§push(_loc1_ - 1);
                                                                                                      if(!_loc9_)
                                                                                                      {
                                                                                                         addr297:
                                                                                                         _loc1_ = §§pop();
                                                                                                      }
                                                                                                      else
                                                                                                      {
                                                                                                         addr322:
                                                                                                         if((_loc7_ = §§pop()) > _loc3_)
                                                                                                         {
                                                                                                            if(_loc10_)
                                                                                                            {
                                                                                                               _loc4_.na.visible = true;
                                                                                                               if(_loc10_)
                                                                                                               {
                                                                                                                  _loc4_.addChild(_loc4_.na);
                                                                                                                  if(!_loc9_)
                                                                                                                  {
                                                                                                                     addr342:
                                                                                                                     §§push(_loc4_.currentFrameLabel.indexOf("_") >= 0);
                                                                                                                     if(!_loc9_)
                                                                                                                     {
                                                                                                                        addr351:
                                                                                                                        if(§§pop() && root.equips.indexOf(_loc4_.currentFrameLabel.split("_")[0]) >= 0)
                                                                                                                        {
                                                                                                                           addr373:
                                                                                                                           _loc8_ = _loc4_.currentFrameLabel.split("_")[1];
                                                                                                                           addr366:
                                                                                                                           if(!_loc9_)
                                                                                                                           {
                                                                                                                              §§push(_loc5_);
                                                                                                                              if(_loc10_)
                                                                                                                              {
                                                                                                                                 addr385:
                                                                                                                                 §§push(§§pop().indexOf("Helmet") >= 0);
                                                                                                                                 if(!(§§pop().indexOf("Helmet") >= 0))
                                                                                                                                 {
                                                                                                                                    if(!_loc9_)
                                                                                                                                    {
                                                                                                                                       §§pop();
                                                                                                                                       addr396:
                                                                                                                                       §§push(_loc5_.indexOf("Kettle") >= 0);
                                                                                                                                       if(!(_loc5_.indexOf("Kettle") >= 0))
                                                                                                                                       {
                                                                                                                                          addr398:
                                                                                                                                          §§pop();
                                                                                                                                          if(_loc10_)
                                                                                                                                          {
                                                                                                                                             addr406:
                                                                                                                                             if(_loc5_.indexOf("Sallet") >= 0)
                                                                                                                                             {
                                                                                                                                                addr408:
                                                                                                                                                _loc8_ = "Helmet";
                                                                                                                                             }
                                                                                                                                          }
                                                                                                                                          if(root[pChar.Class + "Equips"].indexOf("," + _loc8_ + ",") < 0)
                                                                                                                                          {
                                                                                                                                             if(_loc10_)
                                                                                                                                             {
                                                                                                                                                _loc4_.na.visible = true;
                                                                                                                                                addr429:
                                                                                                                                                _loc4_.addChild(_loc4_.na);
                                                                                                                                                addr433:
                                                                                                                                                _loc4_.item = _loc5_;
                                                                                                                                             }
                                                                                                                                             §§goto(addr436);
                                                                                                                                          }
                                                                                                                                          §§goto(addr433);
                                                                                                                                       }
                                                                                                                                    }
                                                                                                                                    §§goto(addr406);
                                                                                                                                 }
                                                                                                                              }
                                                                                                                              §§goto(addr396);
                                                                                                                           }
                                                                                                                        }
                                                                                                                        §§goto(addr429);
                                                                                                                     }
                                                                                                                     §§goto(addr385);
                                                                                                                  }
                                                                                                                  §§goto(addr436);
                                                                                                               }
                                                                                                               §§goto(addr366);
                                                                                                            }
                                                                                                            §§goto(addr436);
                                                                                                         }
                                                                                                         §§goto(addr342);
                                                                                                      }
                                                                                                   }
                                                                                                   §§goto(addr456);
                                                                                                }
                                                                                                §§goto(addr297);
                                                                                             }
                                                                                             else
                                                                                             {
                                                                                                §§push(_loc4_.currentFrameLabel.indexOf("_") >= 0);
                                                                                                if(_loc10_)
                                                                                                {
                                                                                                   §§push(§§pop());
                                                                                                   if(_loc10_)
                                                                                                   {
                                                                                                      if(§§pop())
                                                                                                      {
                                                                                                         §§pop();
                                                                                                         §§push(root.equips.indexOf(_loc4_.currentFrameLabel.split("_")[0]) >= 0);
                                                                                                         if(!_loc9_)
                                                                                                         {
                                                                                                            addr259:
                                                                                                            if(§§pop())
                                                                                                            {
                                                                                                               if(!_loc9_)
                                                                                                               {
                                                                                                                  if(root[pChar.Class + "Equips"].indexOf("," + _loc4_.currentFrameLabel.split("_")[1] + ",") < 0)
                                                                                                                  {
                                                                                                                     if(_loc10_)
                                                                                                                     {
                                                                                                                        l.splice(_loc2_,1);
                                                                                                                        §§push(_loc2_);
                                                                                                                        if(!_loc10_)
                                                                                                                        {
                                                                                                                        }
                                                                                                                        §§goto(addr291);
                                                                                                                     }
                                                                                                                     §§goto(addr436);
                                                                                                                  }
                                                                                                                  else
                                                                                                                  {
                                                                                                                     addr299:
                                                                                                                     §§push(_loc5_);
                                                                                                                     if(_loc10_)
                                                                                                                     {
                                                                                                                        §§push("None");
                                                                                                                        if(!_loc9_)
                                                                                                                        {
                                                                                                                           if(§§pop() !== §§pop())
                                                                                                                           {
                                                                                                                              if(type == "Guild")
                                                                                                                              {
                                                                                                                                 addr311:
                                                                                                                                 §§push(int(Math.ceil((_loc2_ + 1) / 6)));
                                                                                                                                 if(!_loc10_)
                                                                                                                                 {
                                                                                                                                 }
                                                                                                                                 §§goto(addr322);
                                                                                                                              }
                                                                                                                              §§goto(addr342);
                                                                                                                           }
                                                                                                                           §§goto(addr429);
                                                                                                                        }
                                                                                                                        §§goto(addr396);
                                                                                                                     }
                                                                                                                     §§goto(addr373);
                                                                                                                  }
                                                                                                               }
                                                                                                               §§goto(addr311);
                                                                                                            }
                                                                                                            §§goto(addr299);
                                                                                                         }
                                                                                                         §§goto(addr385);
                                                                                                      }
                                                                                                      §§goto(addr259);
                                                                                                   }
                                                                                                   §§goto(addr396);
                                                                                                }
                                                                                             }
                                                                                             §§goto(addr396);
                                                                                          }
                                                                                          §§goto(addr351);
                                                                                       }
                                                                                       §§goto(addr354);
                                                                                    }
                                                                                    §§goto(addr299);
                                                                                 }
                                                                                 §§goto(addr406);
                                                                              }
                                                                              §§goto(addr167);
                                                                           }
                                                                           §§goto(addr408);
                                                                        }
                                                                        §§goto(addr145);
                                                                     }
                                                                     §§goto(addr198);
                                                                  }
                                                                  §§goto(addr156);
                                                               }
                                                               §§goto(addr167);
                                                            }
                                                            §§goto(addr139);
                                                         }
                                                         §§goto(addr351);
                                                      }
                                                      §§goto(addr373);
                                                   }
                                                   §§goto(addr219);
                                                }
                                                §§goto(addr398);
                                             }
                                             §§goto(addr123);
                                          }
                                          §§goto(addr126);
                                       }
                                       §§goto(addr131);
                                    }
                                    §§goto(addr322);
                                 }
                                 §§goto(addr406);
                              }
                              §§goto(addr144);
                              §§goto(addr436);
                           }
                           addr460:
                           return;
                        }
                        §§goto(addr64);
                     }
                     §§goto(addr47);
                  };
                  if(!_loc8_)
                  {
                     §§goto(addr53);
                  }
               }
               §§goto(addr129);
            }
            addr53:
            §§push(l.length);
            if(_loc7_)
            {
               if(§§pop() > 0)
               {
                  l = Vector.<String>(l.join(",").split(","));
                  if(!_loc8_)
                  {
                     §§goto(addr84);
                  }
                  §§goto(addr116);
               }
               §§goto(addr84);
            }
            addr84:
            §§push(type === "Guild");
            if(_loc7_)
            {
               §§push(!§§pop());
               if(!_loc8_)
               {
                  §§goto(addr94);
               }
               §§goto(addr99);
            }
            addr94:
            if(!§§pop())
            {
               if(_loc7_)
               {
                  addr99:
                  §§pop();
                  §§push(Boolean(m.guildo));
                  if(_loc7_)
                  {
                     §§goto(addr107);
                  }
               }
               §§goto(addr128);
            }
            addr107:
            if(§§pop())
            {
               if(!_loc8_)
               {
                  list();
                  addr116:
               }
               else
               {
                  addr138:
                  c.bigDB.load("Guilds",this.pChar.Guild,function(param1:DatabaseObject):void
                  {
                     var _loc2_:Boolean = false;
                     var _loc3_:Boolean = true;
                     m.guildo = param1;
                     if(!_loc2_)
                     {
                        list();
                     }
                  });
               }
            }
            else
            {
               addr128:
               if(!("Guild" in this.pChar))
               {
                  addr129:
                  return;
               }
               c = this.client;
               if(_loc7_)
               {
                  §§goto(addr138);
               }
            }
            return;
         }
         §§goto(addr46);
      }
      
      public function leave() : void
      {
         var _loc1_:Boolean = true;
         var _loc2_:Boolean = false;
         if(_loc1_)
         {
            §§push(!this.battle);
            if(!_loc2_)
            {
               if(§§pop())
               {
                  if(!_loc2_)
                  {
                     §§pop();
                     §§goto(addr44);
                  }
               }
            }
            if(§§pop())
            {
               if(!_loc2_)
               {
                  §§goto(addr44);
               }
            }
            else
            {
               this.battle.send("Leave");
            }
            return;
         }
         addr44:
         if(!_loc2_)
         {
            §§push(!this.npctalk);
         }
      }
      
      public function isEquipable(param1:String) : String
      {
         var _loc7_:Boolean = false;
         var _loc8_:Boolean = true;
         var _loc2_:* = null;
         var _loc3_:* = null;
         var _loc4_:Vector.<String> = null;
         var _loc5_:* = 0;
         var _loc6_:* = 0;
         §§push(param1);
         if(_loc8_)
         {
            §§push(§§pop().split("_")[0]);
            if(!_loc7_)
            {
               _loc2_ = §§pop();
               if(_loc8_)
               {
                  trace("Check equipable: " + _loc2_);
                  §§push(_loc2_);
                  if(!_loc7_)
                  {
                     addr51:
                     §§push(§§pop() in this.items);
                     if(!_loc7_)
                     {
                        if(!§§pop())
                        {
                           §§push("false");
                           if(_loc8_)
                           {
                              return §§pop();
                           }
                           addr113:
                           _loc3_ = §§pop();
                           trace("Type: " + _loc3_);
                        }
                        else
                        {
                           addr72:
                           _loc3_ = this.items[_loc2_].Type.split("_")[1];
                           if(!_loc7_)
                           {
                              §§push("Itemtype");
                              if(!_loc7_)
                              {
                                 §§push(§§pop() in this.items[_loc2_]);
                                 if(!_loc7_)
                                 {
                                    addr94:
                                    if(§§pop())
                                    {
                                       if(_loc8_)
                                       {
                                          addr99:
                                          §§pop();
                                          §§push(this.items[_loc2_].Itemtype.split("_")[1] == "Shield");
                                       }
                                    }
                                    if(§§pop())
                                    {
                                       addr112:
                                       §§goto(addr113);
                                       §§push("Shield");
                                    }
                                    §§goto(addr113);
                                 }
                                 §§goto(addr99);
                              }
                              §§goto(addr113);
                           }
                        }
                        §§push(int((_loc4_ = Vector.<String>(["Head","Headwear","Armor","Boots","Ring","Weapon","Back Decoration","Shield","Necklace","Skill Manual"])).length));
                        if(!_loc7_)
                        {
                           _loc5_ = §§pop();
                           if(!_loc7_)
                           {
                              §§push(0);
                              if(_loc8_)
                              {
                                 §§goto(addr149);
                              }
                              §§goto(addr177);
                           }
                           §§goto(addr160);
                        }
                        addr149:
                        _loc6_ = §§pop();
                        if(!_loc7_)
                        {
                           addr160:
                           loop1:
                           while(true)
                           {
                              §§push(_loc6_);
                              addr177:
                              while(true)
                              {
                                 if(§§pop() < _loc5_)
                                 {
                                    §§push(_loc3_);
                                    if(_loc7_)
                                    {
                                       break;
                                    }
                                    if(§§pop() == _loc4_[_loc6_])
                                    {
                                       if(!_loc7_)
                                       {
                                          §§push(_loc3_);
                                          break;
                                       }
                                    }
                                    else
                                    {
                                       _loc6_++;
                                    }
                                 }
                                 continue loop1;
                              }
                              return §§pop();
                           }
                        }
                        return "false";
                     }
                     §§goto(addr94);
                  }
                  §§goto(addr72);
               }
               §§goto(addr112);
            }
            §§goto(addr51);
         }
         §§goto(addr72);
      }
      
      public function loot(param1:Message, param2:String, param3:Boolean = false) : void
      {
         var _loc8_:Boolean = true;
         var _loc9_:Boolean = false;
         var _loc4_:Vector.<String> = null;
         var _loc5_:MovieClip = null;
         var _loc6_:* = 0;
         if(!_loc9_)
         {
            if(this.RoomData.Type == "PVP")
            {
               if(!_loc9_)
               {
                  this.leaveBattle();
               }
            }
            else
            {
               _loc4_ = Vector.<String>(param2.split(","));
               (_loc5_ = this.lootmc = new Loot() as MovieClip).dead = param3;
               if(_loc8_)
               {
                  §§push(int(getChildIndex(this.mouse)));
                  if(_loc8_)
                  {
                     _loc6_ = §§pop();
                     if(this.npctalk)
                     {
                        if(_loc8_)
                        {
                           addr97:
                           _loc6_ = int(getChildIndex(this.npctalk));
                           addr98:
                           _loc5_.items = _loc4_;
                        }
                        _loc5_.x = 400;
                        §§goto(addr104);
                     }
                     §§goto(addr98);
                  }
                  §§goto(addr97);
               }
               addr104:
               _loc5_.y = 300;
               if(!_loc9_)
               {
                  addChildAt(_loc5_,_loc6_);
               }
               this.q.fadeIn(_loc5_);
               return;
            }
         }
      }
      
      public function allEmpty(param1:MovieClip) : Boolean
      {
         var _loc5_:Boolean = true;
         var _loc6_:Boolean = false;
         var _loc2_:* = 0;
         var _loc3_:* = 0;
         var _loc4_:MovieClip = null;
         if(!_loc6_)
         {
            §§push(100);
            if(!_loc6_)
            {
               _loc2_ = §§pop();
               if(!_loc6_)
               {
                  addr31:
                  §§push(0);
                  if(!_loc6_)
                  {
                     _loc3_ = §§pop();
                     if(_loc5_)
                     {
                        while(true)
                        {
                           §§push(_loc3_);
                           §§goto(addr81);
                        }
                     }
                  }
                  §§goto(addr81);
               }
               return;
            }
            addr81:
            while(true)
            {
               if(§§pop() < _loc2_)
               {
                  if(!(_loc4_ = param1["s" + _loc3_]))
                  {
                     if(!_loc6_)
                     {
                        §§push(true);
                        if(!_loc6_)
                        {
                           return §§pop();
                        }
                        §§goto(addr78);
                     }
                     break;
                  }
                  if(_loc4_.item !== "None")
                  {
                     if(_loc5_)
                     {
                        break;
                     }
                  }
                  else
                  {
                     _loc3_++;
                  }
               }
               continue loop1;
            }
            addr78:
            return §§pop();
         }
         §§goto(addr31);
      }
      
      public function leaveBattle(param1:Boolean = true, param2:Boolean = true) : void
      {
         var _loc4_:Boolean = true;
         var _loc5_:Boolean = false;
         var saved:* = undefined;
         var leave:Boolean = param1;
         var save:Boolean = param2;
         saved = function(param1:Message):void
         {
            var _loc5_:Boolean = true;
            var _loc6_:Boolean = false;
            var _loc2_:* = false;
            group = 0;
            q.mapLoading = pChar.Map.split("_")[0];
            if(!_loc6_)
            {
               loado = loadgame;
               if(!_loc6_)
               {
                  §§push(true);
                  if(!_loc6_)
                  {
                     _loc2_ = §§pop();
                     if(_loc5_)
                     {
                        §§goto(addr34);
                     }
                     §§goto(addr40);
                  }
                  addr34:
                  §§push("Floors" in RoomData);
                  §§push("Floors" in RoomData);
                  if(!_loc6_)
                  {
                     if(§§pop())
                     {
                        §§pop();
                        addr40:
                        §§push(RoomData.Floor < RoomData.Floors);
                     }
                     §§push(§§pop());
                  }
                  if(§§pop())
                  {
                     §§pop();
                     addr48:
                     §§push(!leave);
                     if(!_loc6_)
                     {
                        §§goto(addr52);
                     }
                     §§goto(addr60);
                  }
                  addr52:
                  if(§§pop())
                  {
                     if(!_loc6_)
                     {
                        §§push(false);
                        if(!_loc6_)
                        {
                           addr60:
                           _loc2_ = §§pop();
                           if(!_loc6_)
                           {
                              getC().removeMessageHandler("Saved",saved);
                              var _loc3_:*;
                              var _loc4_:* = (_loc3_ = RoomData).Floor + 1;
                              if(!_loc6_)
                              {
                                 _loc3_.Floor = _loc4_;
                              }
                              q.mapLoading = RoomData.Map;
                              loado = loadfloor;
                              §§goto(addr115);
                           }
                           else
                           {
                              addr107:
                              loado = loadfloor;
                              replay = false;
                              if(_loc5_)
                              {
                                 §§goto(addr115);
                              }
                           }
                        }
                        else
                        {
                           addr93:
                           _loc2_ = §§pop();
                           getC().removeMessageHandler("Saved",saved);
                           if(_loc5_)
                           {
                              q.mapLoading = RoomData.Map;
                              if(!_loc6_)
                              {
                                 §§goto(addr107);
                              }
                           }
                        }
                        §§goto(addr121);
                     }
                     §§goto(addr107);
                  }
                  else if(replay)
                  {
                     §§goto(addr93);
                     §§push(false);
                  }
                  addr115:
                  cleargame(_loc2_,_loc2_);
                  if(!_loc6_)
                  {
                     addr121:
                     gotoAndStop(4);
                  }
                  return;
               }
               §§goto(addr48);
            }
            §§goto(addr93);
         };
         §§push(leave);
         if(!_loc5_)
         {
            if(§§pop())
            {
               §§push(§§newactivation());
               §§push(this.battlestate === 2);
               if(_loc4_)
               {
                  §§push(!§§pop());
               }
               §§pop().§§slot[1] = §§pop();
            }
            this.getC().addMessageHandler("Saved",saved);
            if(_loc4_)
            {
               addr73:
               if(save)
               {
                  if(!_loc5_)
                  {
                     this.getC().send("Save",true);
                  }
               }
               else
               {
                  saved(null);
               }
            }
            return;
         }
         §§goto(addr73);
      }
      
      public function joinChannel(param1:int) : void
      {
         var _loc3_:Boolean = false;
         var _loc4_:Boolean = true;
         if(!_loc3_)
         {
            var n:int = param1;
            if(!_loc3_)
            {
               this.getC().addMessageHandler("Saved",function(param1:Message):void
               {
                  var _loc2_:Boolean = false;
                  var _loc3_:Boolean = true;
                  cleargame(true);
                  if(!_loc2_)
                  {
                     q.mapLoading = RoomData.Map;
                     if(!_loc2_)
                     {
                        loadroomid.RoomID = RoomData.Map + root.branch + n;
                        if(!_loc2_)
                        {
                           RoomData.ID = n;
                           if(!_loc2_)
                           {
                              addr34:
                              loado = loadchannel;
                              if(!_loc2_)
                              {
                                 addr39:
                                 gotoAndStop(4);
                              }
                           }
                           §§goto(addr39);
                        }
                        return;
                     }
                     §§goto(addr34);
                  }
                  §§goto(addr39);
               });
               if(_loc3_)
               {
               }
               §§goto(addr47);
            }
            this.getC().send("Save",true);
         }
         addr47:
      }
      
      public function shop(param1:String, param2:int) : void
      {
         var _loc5_:Boolean = true;
         var _loc6_:Boolean = false;
         var _loc3_:MovieClip = null;
         if(_loc5_)
         {
            if(this.shopmc)
            {
               if(_loc5_)
               {
                  addr26:
                  this.shopmc.close();
               }
            }
            _loc3_ = this.shopmc = new Shop() as MovieClip;
            this.shopmc.x = this.shopp.x;
            this.shopmc.y = this.shopp.y;
            if(_loc5_)
            {
               addChildAt(this.shopmc,getChildIndex(this.mouse));
               if(_loc5_)
               {
                  this.q.fadeIn(_loc3_);
                  _loc3_.shop = param1;
                  if(!_loc6_)
                  {
                     addr91:
                     _loc3_.id = param2;
                  }
                  this.displaymoney();
               }
               return;
            }
            §§goto(addr91);
         }
         §§goto(addr26);
      }
      
      public function displaymoney() : void
      {
         var _loc3_:Boolean = true;
         var _loc4_:Boolean = false;
         var _loc1_:uint = 0;
         var _loc2_:* = null;
         _loc1_ = this.pChar.Money;
         if(_loc3_)
         {
            §§push(this.q.comma(String(_loc1_)));
            if(_loc3_)
            {
               §§push(§§pop());
            }
            _loc2_ = §§pop();
            if(this.invmc)
            {
               this.invmc.moneytxt.text = this.getTxt("Denars",!!this.invmc.displayedmoney ? null : this.invmc.moneytxt) + ": " + _loc2_;
               if(!_loc4_)
               {
                  this.invmc.displayedmoney = true;
                  if(_loc3_)
                  {
                     addr81:
                     §§push(Boolean(this.shopmc));
                     if(!_loc4_)
                     {
                        if(§§pop())
                        {
                           if(!_loc4_)
                           {
                              §§pop();
                              if(_loc3_)
                              {
                                 addr100:
                                 if(this.shopmc.moneytxt)
                                 {
                                    if(_loc3_)
                                    {
                                       this.shopmc.moneytxt.text = root.getTxt("Denars",!!this.shopmc.displayedmoney ? null : this.shopmc.moneytxt) + ": " + _loc2_;
                                       addr132:
                                       this.shopmc.displayedmoney = true;
                                       if(!_loc4_)
                                       {
                                          addr139:
                                          if(!this.moneytxt)
                                          {
                                          }
                                          §§goto(addr146);
                                       }
                                       this.moneytxt.text = _loc2_;
                                       addr146:
                                       return;
                                       addr103:
                                    }
                                 }
                                 §§goto(addr139);
                              }
                              §§goto(addr103);
                           }
                        }
                     }
                  }
                  §§goto(addr100);
               }
               §§goto(addr139);
            }
            §§goto(addr81);
         }
         §§goto(addr132);
      }
      
      public function amountbuy(param1:String, param2:String, param3:int = -1, param4:String = "", param5:Boolean = false, param6:Boolean = false, param7:Boolean = false) : void
      {
         var _loc10_:Boolean = true;
         var _loc11_:Boolean = false;
         var _loc8_:MovieClip = null;
         (_loc8_ = MovieClip(root).amountmc = new Amount() as MovieClip).goldmall = param5;
         _loc8_.warriorshop = param6;
         _loc8_.trade = param7;
         _loc8_.x = 400;
         if(_loc10_)
         {
            _loc8_.y = 300;
            _loc8_.item = param1;
            if(!_loc11_)
            {
               if(param3 == -1)
               {
                  if("Price" in MovieClip(root).items[param1.split("_")[0].split("?")[0]])
                  {
                     _loc8_.cost = uint(MovieClip(root).items[param1.split("_")[0].split("?")[0]].Price.split("_")[1]);
                     if(!_loc11_)
                     {
                        addr101:
                        if(param5)
                        {
                           _loc8_.cost = uint(MovieClip(root).items[param1.split("_")[0].split("?")[0]]["Gold Price"].split("_")[1]);
                        }
                        if(param6)
                        {
                           _loc8_.cost = uint(MovieClip(root).items[param1.split("_")[0].split("?")[0]]["Warrior Stones"].split("_")[1]);
                           if(!_loc11_)
                           {
                              addr162:
                              §§push(param2 == "Sell");
                              if(!_loc11_)
                              {
                                 if(§§pop())
                                 {
                                    addr169:
                                    §§pop();
                                    §§push(root.items[param1.split("_")[0].split("?")[0]].Type === "Type_Misc");
                                    if(!_loc11_)
                                    {
                                       §§push(!§§pop());
                                    }
                                 }
                                 if(§§pop())
                                 {
                                    _loc8_.cost /= 2;
                                    if(_loc11_)
                                    {
                                    }
                                    §§goto(addr217);
                                 }
                                 trace(_loc8_.cost);
                                 §§goto(addr201);
                              }
                              §§goto(addr169);
                           }
                           §§goto(addr217);
                        }
                        §§goto(addr162);
                     }
                     §§goto(addr217);
                  }
                  §§goto(addr101);
               }
               else
               {
                  _loc8_.cost = param3;
               }
               addr201:
               if(!_loc11_)
               {
                  _loc8_.additional = param4;
                  addr217:
                  MovieClip(root).addChildAt(_loc8_,root.getChildIndex(this.mouse));
                  §§goto(addr226);
               }
               addr226:
               _loc8_.buytype = param2;
               _loc8_ = null;
               return;
            }
            §§goto(addr217);
         }
         §§goto(addr169);
      }
      
      public function txtFly(param1:DisplayObject, param2:Point, param3:Function) : void
      {
         var _loc5_:Boolean = true;
         var _loc6_:Boolean = false;
         var fly:* = undefined;
         var o:DisplayObject = param1;
         if(_loc5_)
         {
            var t:Point = param2;
            var after:Function = param3;
            if(_loc5_)
            {
               fly = function(param1:Event):void
               {
                  var _loc3_:Boolean = true;
                  var _loc4_:Boolean = false;
                  var _loc2_:* = NaN;
                  §§push(txtfly * mult);
                  if(!_loc4_)
                  {
                     §§push(Number(§§pop()));
                  }
                  _loc2_ = §§pop();
                  if(_loc3_)
                  {
                     o.x += (t.x - o.x) * _loc2_;
                     if(!_loc4_)
                     {
                        o.y += (t.y - o.y) * _loc2_;
                        §§push(o.x >= t.x - 5);
                        §§push(o.x >= t.x - 5);
                        if(!_loc4_)
                        {
                           if(§§pop())
                           {
                              §§pop();
                              §§goto(addr130);
                           }
                           §§push(§§pop());
                           if(_loc3_)
                           {
                              addr69:
                              if(§§pop())
                              {
                                 if(_loc3_)
                                 {
                                    §§pop();
                                    if(_loc3_)
                                    {
                                       §§push(o.y >= t.y - 5);
                                       if(_loc3_)
                                       {
                                          addr85:
                                          if(§§pop())
                                          {
                                             if(!_loc4_)
                                             {
                                                addr89:
                                                §§pop();
                                                §§push(o.y <= t.y + 5);
                                             }
                                          }
                                          if(§§pop())
                                          {
                                             if(_loc3_)
                                             {
                                                o.removeEventListener(Event.ENTER_FRAME,fly);
                                                addr105:
                                                q.removeChildFade(o,0.06);
                                                if(_loc3_)
                                                {
                                                   o = null;
                                                }
                                                t = null;
                                                if(o is Bitmap)
                                                {
                                                   if(_loc3_)
                                                   {
                                                      o.bitmapData.dispose();
                                                      if(_loc4_)
                                                      {
                                                      }
                                                   }
                                                }
                                             }
                                          }
                                          §§goto(addr130);
                                       }
                                       §§goto(addr89);
                                    }
                                    §§goto(addr130);
                                 }
                              }
                           }
                           §§goto(addr85);
                        }
                        §§goto(addr69);
                     }
                     §§goto(addr105);
                  }
                  addr130:
                  if(!_loc4_)
                  {
                     §§push(o.x <= t.x + 5);
                  }
                  after();
               };
               o.addEventListener(Event.ENTER_FRAME,fly);
            }
         }
      }
      
      public function getXP(param1:int = 0) : int
      {
         var _loc2_:Boolean = true;
         var _loc3_:Boolean = false;
         if(_loc2_)
         {
            §§push(param1);
            if(!_loc3_)
            {
               if(§§pop() == 0)
               {
                  if(_loc2_)
                  {
                     addr28:
                     param1 = this.pChar.Level;
                  }
               }
               return this.xpneeds[param1];
            }
         }
         §§goto(addr28);
      }
      
      public function lvlup(param1:String) : void
      {
         var _loc6_:Boolean = false;
         var _loc7_:Boolean = true;
         var _loc2_:MovieClip = null;
         var _loc3_:MovieClip = null;
         if(_loc7_)
         {
            trace(param1);
            if(!_loc6_)
            {
               addr31:
               this.tip(8);
            }
            _loc2_ = this.pmcs[param1 + "_mc"];
            §§push(!_loc2_);
            if(!_loc6_)
            {
               if(!§§pop())
               {
                  if(_loc7_)
                  {
                     §§goto(addr51);
                  }
               }
               §§goto(addr57);
            }
            addr51:
            §§pop();
            if(!_loc6_)
            {
               addr57:
               if(_loc2_ == null)
               {
                  return;
               }
               if(param1 == this.pChar.key)
               {
                  _loc3_ = new LevelUp() as MovieClip;
                  if(!_loc6_)
                  {
                     root.anims.push(_loc3_);
                     if(!_loc6_)
                     {
                        this.playSound("LevelUpSound");
                        if(_loc6_)
                        {
                        }
                        §§goto(addr99);
                     }
                     addChildAt(_loc3_,getChildIndex(this.mouse));
                  }
               }
               addr99:
               var _loc4_:*;
               var _loc5_:* = (_loc4_ = _loc2_).plvl + 1;
               if(_loc7_)
               {
                  _loc4_.plvl = _loc5_;
               }
               if(!_loc6_)
               {
                  if(!_loc2_.hpmc)
                  {
                     if(_loc2_.titleb)
                     {
                        _loc2_.createtitle();
                     }
                  }
                  §§goto(addr136);
               }
               _loc2_.createhp();
               if(_loc6_)
               {
               }
               §§goto(addr136);
            }
            addr136:
            return;
         }
         §§goto(addr31);
      }
      
      public function displayxp(param1:int = -1, param2:int = -1) : void
      {
         var _loc5_:Boolean = true;
         var _loc6_:Boolean = false;
         var _loc3_:int = 0;
         var _loc4_:Number = NaN;
         §§push(this.pChar.Level === param2);
         if(_loc5_)
         {
            §§push(!§§pop());
            if(_loc5_)
            {
               §§push(§§pop());
               if(!_loc6_)
               {
                  if(§§pop())
                  {
                     if(!_loc6_)
                     {
                        §§pop();
                        §§push(param2);
                        if(_loc5_)
                        {
                           §§push(10);
                           if(_loc5_)
                           {
                              §§push(§§pop() % §§pop());
                              if(_loc5_)
                              {
                                 §§push(§§pop() == 0);
                                 if(!_loc6_)
                                 {
                                    addr54:
                                    if(§§pop())
                                    {
                                       if(!_loc6_)
                                       {
                                          addr58:
                                          §§pop();
                                          if(!_loc6_)
                                          {
                                             addr65:
                                             if(root.onSpecial == "easy")
                                             {
                                                this.aE.wall(this.getTxt("LevelUpWall").replace("{Class}",this.pChar.Class).replace("{Name}",this.pChar.key).replace("{Lvl}",this.pChar.Level));
                                             }
                                             §§push(param2);
                                             if(_loc5_)
                                             {
                                                §§push(-1);
                                                if(_loc5_)
                                                {
                                                   if(§§pop() > §§pop())
                                                   {
                                                      if(!_loc6_)
                                                      {
                                                         this.pChar.Level = param2;
                                                         if(!_loc6_)
                                                         {
                                                            addr112:
                                                            §§push(param1);
                                                            if(!_loc6_)
                                                            {
                                                               addr116:
                                                               if(§§pop() > -1)
                                                               {
                                                                  this.pChar.XP = param1;
                                                                  if(_loc5_)
                                                                  {
                                                                     this.lvltxt.text = root.getTxt("Level",this.lvltxt.text == "" ? this.lvltxt : null) + "" + this.pChar.Level;
                                                                     addr124:
                                                                  }
                                                                  §§push(this.getXP());
                                                                  if(_loc5_)
                                                                  {
                                                                     addr153:
                                                                     _loc3_ = §§pop();
                                                                     this.expmc.xptxt.text = String(this.pChar.XP + "/" + _loc3_);
                                                                     §§push(this.pChar.XP / _loc3_);
                                                                     if(!_loc6_)
                                                                     {
                                                                        §§goto(addr183);
                                                                     }
                                                                     addr183:
                                                                     _loc4_ = §§pop();
                                                                     if(_loc5_)
                                                                     {
                                                                        this.expmc.bar.scaleX = _loc4_;
                                                                     }
                                                                     return;
                                                                     addr152:
                                                                     addr154:
                                                                  }
                                                                  §§goto(addr153);
                                                               }
                                                               §§goto(addr124);
                                                            }
                                                            §§goto(addr152);
                                                         }
                                                      }
                                                      §§goto(addr153);
                                                   }
                                                   §§goto(addr112);
                                                }
                                                §§goto(addr116);
                                             }
                                             §§goto(addr153);
                                          }
                                          §§goto(addr154);
                                       }
                                    }
                                 }
                                 §§goto(addr65);
                              }
                              §§goto(addr183);
                           }
                        }
                        §§goto(addr116);
                     }
                     §§goto(addr58);
                  }
               }
               §§goto(addr54);
            }
            §§goto(addr58);
         }
         §§goto(addr54);
      }
      
      public function statchange() : void
      {
      }
      
      public function updateBuffs(param1:Message, param2:String, param3:int, param4:int, param5:String = "", param6:Boolean = false) : void
      {
         var _loc10_:Boolean = false;
         var _loc11_:Boolean = true;
         var _loc7_:MovieClip = null;
         var _loc8_:Class = null;
         var _loc9_:Point = null;
         if(!_loc10_)
         {
            if(param6)
            {
               if(_loc11_)
               {
                  §§push(this.updatequeue);
                  §§push("Buffs:");
                  §§push(param2);
                  if(!_loc10_)
                  {
                     §§push(§§pop() + §§pop());
                     §§push("/");
                     if(!_loc10_)
                     {
                        §§push(§§pop() + §§pop());
                        if(!_loc10_)
                        {
                           §§push(param3);
                           if(_loc11_)
                           {
                              §§goto(addr58);
                           }
                           §§push(§§pop() + §§pop());
                        }
                        §§push("/");
                     }
                     addr58:
                     §§push(§§pop() + §§pop());
                     §§push("/");
                     if(_loc11_)
                     {
                        §§push(§§pop() + §§pop());
                        §§push(param4);
                     }
                     §§push(§§pop() + §§pop());
                     if(_loc11_)
                     {
                        addr63:
                        §§push(§§pop() + param5);
                     }
                     §§pop().push(§§pop());
                     if(_loc11_)
                     {
                        trace("Added buff list to queue");
                        if(!_loc10_)
                        {
                           §§goto(addr74);
                        }
                        else
                        {
                           addr80:
                           if(!(_loc7_ = this.getMC(param3,param4)))
                           {
                              return;
                           }
                           _loc7_.buffs = Vector.<String>(param2.split(","));
                           if(!_loc10_)
                           {
                              _loc7_.createhp(true);
                              §§push(Boolean(_loc7_.buffFX));
                              §§push(Boolean(_loc7_.buffFX));
                              if(!_loc10_)
                              {
                                 if(§§pop())
                                 {
                                    if(!_loc10_)
                                    {
                                       §§pop();
                                       if(_loc11_)
                                       {
                                          §§push(param5);
                                          if(!_loc10_)
                                          {
                                             §§push("");
                                             if(!_loc10_)
                                             {
                                                §§push(§§pop() == §§pop());
                                                if(_loc11_)
                                                {
                                                   §§push(§§pop());
                                                   if(!_loc10_)
                                                   {
                                                      if(!§§pop())
                                                      {
                                                         §§pop();
                                                         if(!_loc10_)
                                                         {
                                                            §§push(param5);
                                                            if(_loc11_)
                                                            {
                                                               addr143:
                                                               §§push(§§pop() !== _loc7_.buffFX.fx);
                                                               if(!_loc10_)
                                                               {
                                                                  addr151:
                                                                  if(§§pop())
                                                                  {
                                                                     if(_loc11_)
                                                                     {
                                                                        addr154:
                                                                        _loc7_.buffFX.stop();
                                                                        if(_loc11_)
                                                                        {
                                                                           this.q.remove(_loc7_.buffFX);
                                                                           addr159:
                                                                           if(_loc10_)
                                                                           {
                                                                           }
                                                                           §§push(!_loc7_.enemy);
                                                                           §§push(!_loc7_.enemy);
                                                                           if(_loc11_)
                                                                           {
                                                                              if(§§pop())
                                                                              {
                                                                                 if(_loc11_)
                                                                                 {
                                                                                    addr186:
                                                                                    §§pop();
                                                                                    if(!_loc10_)
                                                                                    {
                                                                                       addr190:
                                                                                       addr191:
                                                                                       §§push(param5 === "");
                                                                                       if(!_loc11_)
                                                                                       {
                                                                                       }
                                                                                       addr198:
                                                                                       if(§§pop())
                                                                                       {
                                                                                          §§pop();
                                                                                          if(!_loc10_)
                                                                                          {
                                                                                             addr206:
                                                                                             if(!_loc7_.buffFX)
                                                                                             {
                                                                                                addr207:
                                                                                                _loc8_ = getDefinitionByName(param5 + "FX") as Class;
                                                                                                if(_loc11_)
                                                                                                {
                                                                                                   _loc7_.buffFX = new _loc8_() as MovieClip;
                                                                                                   if(!_loc10_)
                                                                                                   {
                                                                                                      _loc7_.buffFX.mouseEnabled = false;
                                                                                                      if(_loc11_)
                                                                                                      {
                                                                                                         _loc7_.buffFX.mouseChildren = false;
                                                                                                         if(_loc10_)
                                                                                                         {
                                                                                                         }
                                                                                                         addr244:
                                                                                                         _loc9_ = new Point(_loc7_.x + _loc7_[param5 + "P"].x,_loc7_.y + _loc7_[param5 + "P"].y);
                                                                                                         if(_loc11_)
                                                                                                         {
                                                                                                            _loc7_.buffFX.x = _loc9_.x;
                                                                                                            if(_loc11_)
                                                                                                            {
                                                                                                               _loc7_.buffFX.y = _loc9_.y;
                                                                                                            }
                                                                                                            _loc7_.fx = param5;
                                                                                                            if(!_loc10_)
                                                                                                            {
                                                                                                               addChildAt(_loc7_.buffFX,getChildIndex(this.mouse));
                                                                                                               if(!_loc10_)
                                                                                                               {
                                                                                                                  addr298:
                                                                                                                  trace("Buff pos: ");
                                                                                                                  if(!_loc10_)
                                                                                                                  {
                                                                                                                     trace(_loc7_.buffFX.x);
                                                                                                                     if(_loc11_)
                                                                                                                     {
                                                                                                                        trace(_loc7_.x);
                                                                                                                        trace(_loc7_.buffFX.y);
                                                                                                                     }
                                                                                                                  }
                                                                                                               }
                                                                                                               §§goto(addr332);
                                                                                                            }
                                                                                                            trace(_loc7_.y);
                                                                                                            addr332:
                                                                                                            if(_loc7_.pname == this.pChar.key)
                                                                                                            {
                                                                                                               if(_loc11_)
                                                                                                               {
                                                                                                                  this.createBuffs(_loc7_.buffs);
                                                                                                               }
                                                                                                            }
                                                                                                            §§goto(addr344);
                                                                                                         }
                                                                                                         §§goto(addr298);
                                                                                                      }
                                                                                                   }
                                                                                                   _loc7_.buffFX.mc = _loc7_;
                                                                                                }
                                                                                                §§goto(addr244);
                                                                                             }
                                                                                             §§goto(addr298);
                                                                                          }
                                                                                          addr344:
                                                                                          return;
                                                                                       }
                                                                                       §§goto(addr206);
                                                                                    }
                                                                                    §§goto(addr207);
                                                                                 }
                                                                                 §§push(!§§pop());
                                                                                 if(_loc11_)
                                                                                 {
                                                                                    §§goto(addr198);
                                                                                 }
                                                                                 §§goto(addr206);
                                                                              }
                                                                           }
                                                                           §§goto(addr198);
                                                                        }
                                                                        _loc7_.buffFX = null;
                                                                     }
                                                                  }
                                                                  §§goto(addr159);
                                                               }
                                                               §§goto(addr198);
                                                            }
                                                            §§goto(addr190);
                                                         }
                                                         §§goto(addr207);
                                                      }
                                                      §§goto(addr151);
                                                   }
                                                   §§goto(addr190);
                                                }
                                                §§goto(addr186);
                                             }
                                             §§goto(addr191);
                                          }
                                          §§goto(addr143);
                                       }
                                       §§goto(addr154);
                                    }
                                    §§goto(addr206);
                                 }
                                 §§goto(addr151);
                              }
                              §§goto(addr190);
                           }
                           §§goto(addr159);
                        }
                     }
                     §§goto(addr74);
                  }
                  §§goto(addr63);
               }
               §§goto(addr74);
            }
            else
            {
               trace("FX: " + param5);
            }
            §§goto(addr80);
         }
         addr74:
      }
      
      public function createBuffs(param1:Vector.<String>) : void
      {
         var _loc9_:Boolean = true;
         var _loc10_:Boolean = false;
         var _loc2_:* = 0;
         var _loc3_:* = 0;
         var _loc4_:* = null;
         var _loc5_:String = null;
         var _loc6_:* = 0;
         var _loc7_:* = 0;
         var _loc8_:MovieClip = null;
         if(_loc9_)
         {
            this.q.RemoveChildren(this.buffmc);
            if(_loc9_)
            {
               trace("Your buffs: " + param1);
               if(!_loc10_)
               {
                  §§push(int(param1.length));
                  if(_loc9_)
                  {
                     _loc2_ = §§pop();
                     if(!_loc10_)
                     {
                        addr57:
                        §§push(0);
                        if(!_loc10_)
                        {
                           _loc3_ = §§pop();
                           if(_loc10_)
                           {
                           }
                           §§goto(addr177);
                        }
                        loop1:
                        for(; §§pop() < _loc2_; while(true)
                        {
                           continue loop1;
                        })
                        {
                           §§push(param1[_loc3_]);
                           if(_loc9_)
                           {
                              §§push(§§pop());
                              if(_loc9_)
                              {
                                 §§push(_loc4_ = §§pop());
                                 if(_loc9_)
                                 {
                                    §§push("");
                                    if(_loc9_)
                                    {
                                       if(§§pop() == §§pop())
                                       {
                                          if(!_loc9_)
                                          {
                                             addr104:
                                             §§push(int(int(_loc4_.split("_")[1])));
                                             if(!_loc10_)
                                             {
                                                _loc6_ = §§pop();
                                                if(_loc10_)
                                                {
                                                   continue;
                                                }
                                                §§push(int(int(_loc4_.split("_")[2])));
                                             }
                                             _loc7_ = §§pop();
                                             if(!_loc9_)
                                             {
                                                continue;
                                             }
                                             (_loc8_ = new Slot() as MovieClip).x = _loc3_ * _loc8_.width;
                                             if(!_loc10_)
                                             {
                                                this.setSlot(_loc8_,_loc5_);
                                                if(!_loc10_)
                                                {
                                                   _loc8_.lvl = _loc6_;
                                                   if(_loc9_)
                                                   {
                                                      _loc8_.buffduration = _loc7_;
                                                      if(_loc10_)
                                                      {
                                                      }
                                                      addr173:
                                                      _loc3_++;
                                                      continue;
                                                   }
                                                }
                                                this.buffmc.addChild(_loc8_);
                                             }
                                          }
                                          §§goto(addr173);
                                       }
                                       else
                                       {
                                          §§push(_loc4_);
                                          if(_loc9_)
                                          {
                                             addr101:
                                             _loc5_ = §§pop().split("_")[0];
                                             if(!_loc9_)
                                             {
                                                continue;
                                             }
                                          }
                                          §§goto(addr101);
                                       }
                                    }
                                 }
                              }
                           }
                           §§goto(addr101);
                        }
                        addr177:
                        return;
                        addr175:
                     }
                     §§goto(addr174);
                  }
                  §§goto(addr175);
               }
               §§goto(addr177);
            }
            §§goto(addr57);
         }
         §§goto(addr177);
      }
      
      public function joinCity(param1:String, param2:Boolean = false) : void
      {
         var _loc4_:Boolean = true;
         var _loc5_:Boolean = false;
         var joinb:* = undefined;
         var city:String = param1;
         if(!_loc5_)
         {
            var mines:Boolean = param2;
            joinb = function(param1:Message):void
            {
               var _loc2_:Boolean = true;
               var _loc3_:Boolean = false;
               q.stoploading();
               RoomData = {"Mines":mines};
               q.mapLoading = city;
               MovieClip(root).loado = MovieClip(root).loadgame;
               if(_loc2_)
               {
                  connection.removeMessageHandler("Saved",joinb);
                  if(!_loc3_)
                  {
                     if(connection)
                     {
                        connection.disconnect();
                        if(!_loc3_)
                        {
                           connection = null;
                           if(!_loc3_)
                           {
                              addr43:
                              cleargame();
                              if(!_loc3_)
                              {
                                 addr48:
                                 gotoAndStop(4);
                              }
                           }
                           return;
                        }
                     }
                     §§goto(addr43);
                  }
               }
               §§goto(addr48);
            };
            if(!_loc5_)
            {
               this.q.loading("Travelling...");
               if(!_loc5_)
               {
                  removeEventListener(Event.ENTER_FRAME,this.gameloop);
               }
               §§goto(addr68);
            }
            var cc:Client = this.client;
         }
         addr68:
         this.connection.addMessageHandler("Saved",joinb);
         if(!_loc5_)
         {
            this.connection.send("Save",true);
         }
      }
      
      public function mineclick(param1:MouseEvent) : void
      {
         var _loc3_:Boolean = false;
         var _loc4_:Boolean = true;
         var _loc2_:MovieClip = null;
         _loc2_ = this.pmcs[this.pChar.key + "_mc"];
         if(_loc4_)
         {
            if(_loc2_.stance == "running")
            {
               return;
            }
            trace("Mine click");
            if(!_loc3_)
            {
               addr42:
               §§push(Boolean(this.RoomData.Mines));
               if(_loc4_)
               {
                  §§push(§§pop());
                  if(!_loc3_)
                  {
                     if(§§pop())
                     {
                        if(!_loc3_)
                        {
                           §§pop();
                           §§push(Boolean(_loc2_));
                           if(!_loc3_)
                           {
                              addr70:
                              if(§§pop())
                              {
                                 if(!_loc4_)
                                 {
                                 }
                              }
                              §§goto(addr94);
                           }
                           §§pop();
                           if(_loc4_)
                           {
                              §§push(_loc2_.action === "Mine");
                              if(_loc3_)
                              {
                              }
                              §§goto(addr94);
                           }
                           §§goto(addr107);
                        }
                        addr94:
                        if(§§pop())
                        {
                           this.minebtn.visible = false;
                           _loc2_.stopmine = false;
                           trace("send mine msg");
                           if(_loc4_)
                           {
                              addr107:
                              this.getC().send("Mine");
                              _loc2_.action = "Mine";
                           }
                        }
                        return;
                        §§push(!§§pop());
                     }
                  }
                  §§goto(addr70);
               }
               §§goto(addr94);
            }
            §§goto(addr107);
         }
         §§goto(addr42);
      }
      
      public function rarerock(param1:Message, param2:int) : void
      {
         var _loc7_:Boolean = false;
         var _loc8_:Boolean = true;
         var _loc3_:AnimatedBitmap = null;
         var _loc4_:AnimatedBitmapData = null;
         if(param2 == -1000)
         {
            if(!_loc7_)
            {
               if(this.rarerockab)
               {
                  if(!_loc7_)
                  {
                     this.rarerockab.stop();
                     removeChild(this.rarerockab);
                  }
               }
               this.rarerockab = null;
               return;
            }
            addr47:
            _loc4_ = new AnimatedBitmapData(new RareRock() as MovieClip);
            if(_loc8_)
            {
               this.rarerockab = new AnimatedBitmap(_loc4_,Event.ENTER_FRAME,60);
            }
         }
         else if(!this.rarerockab)
         {
            §§goto(addr47);
         }
         _loc3_ = getChildByName("Rock" + param2);
         this.rarerockab.x = _loc3_.x;
         this.rarerockab.y = _loc3_.y;
         trace("Rare rock at " + param2);
         if(!_loc7_)
         {
            if(this.rarerockab.stage == null)
            {
               addChildAt(this.rarerockab,getChildIndex(this.l0));
               var _loc5_:*;
               §§push((_loc5_ = this).npcindex);
               if(_loc8_)
               {
                  §§push(§§pop() + 1);
               }
               var _loc6_:* = §§pop();
               if(!_loc7_)
               {
                  _loc5_.npcindex = _loc6_;
               }
               if(_loc8_)
               {
                  addr128:
                  this.tip(20);
                  addr131:
                  if(this.chattxt)
                  {
                     MovieClip(root).q.addChatTxt(this.chattxt,this.getTxt("RareRock"),"Public",16711680);
                     if(_loc7_)
                     {
                     }
                     §§goto(addr174);
                  }
                  this.rarerockp = new Point(this.rarerockab.x - this.l0.x,this.rarerockab.y - this.l0.y);
               }
               addr174:
               return;
            }
            §§goto(addr128);
         }
         §§goto(addr131);
      }
      
      public function platplace(param1:DisplayObject) : void
      {
         var _loc8_:Boolean = true;
         var _loc9_:Boolean = false;
         var _loc2_:* = 0;
         var _loc3_:* = 0;
         var _loc4_:MovieClip = null;
         var _loc5_:* = 0;
         if(_loc8_)
         {
            §§push(int(this.platforms.length));
            if(_loc8_)
            {
               _loc2_ = §§pop();
               if(_loc8_)
               {
                  §§push(0);
                  if(!_loc9_)
                  {
                     addr40:
                     _loc3_ = §§pop();
                     if(!_loc9_)
                     {
                        while(true)
                        {
                           §§push(_loc3_);
                        }
                        addr117:
                     }
                     §§goto(addr129);
                  }
                  while(true)
                  {
                     if(§§pop() >= _loc2_)
                     {
                        if(_loc8_)
                        {
                           addr129:
                           var _loc6_:*;
                           var _loc7_:* = (_loc6_ = param1).x + 1;
                           if(_loc8_)
                           {
                              _loc6_.x = _loc7_;
                           }
                           if(!_loc9_)
                           {
                              addr146:
                              this.platplace(param1);
                              §§goto(addr149);
                           }
                           addr149:
                           return;
                        }
                        §§goto(addr146);
                     }
                     else
                     {
                        _loc4_ = this.platforms[_loc3_];
                        §§push(param1.x >= _loc4_.x);
                        if(!_loc9_)
                        {
                           if(§§pop())
                           {
                              if(!_loc9_)
                              {
                                 §§pop();
                                 if(_loc8_)
                                 {
                                    addr81:
                                    if(param1.x > _loc4_.x + _loc4_.width)
                                    {
                                       _loc3_++;
                                       continue;
                                    }
                                    §§push(int(_loc4_.y));
                                    if(!_loc9_)
                                    {
                                       _loc5_ = §§pop();
                                       if(!_loc9_)
                                       {
                                          if(_loc4_.rotation !== 0)
                                          {
                                             addr94:
                                             §§push(this.midY(param1.x,_loc4_));
                                             if(_loc8_)
                                             {
                                                addr103:
                                                _loc5_ = int(§§pop());
                                                if(_loc8_)
                                                {
                                                   break;
                                                }
                                                continue;
                                             }
                                             §§goto(addr103);
                                          }
                                          break;
                                       }
                                       §§goto(addr94);
                                    }
                                    §§goto(addr103);
                                 }
                                 §§goto(addr94);
                              }
                           }
                        }
                        §§goto(addr81);
                     }
                  }
                  trace("midy: " + _loc5_);
                  param1.y = _loc5_;
                  return;
               }
               §§goto(addr146);
            }
         }
         §§goto(addr40);
      }
      
      public function opencraft() : void
      {
         var _loc1_:Boolean = false;
         var _loc2_:Boolean = true;
         if(_loc2_)
         {
            if(this.craftmc)
            {
               return;
            }
            this.craftmc = new Crafting() as MovieClip;
            if(_loc2_)
            {
               this.craftmc.x = 400;
               this.craftmc.y = 300;
               if(_loc2_)
               {
                  addr55:
                  addChildAt(this.craftmc,getChildIndex(this.mouse));
               }
               this.q.fadeIn(this.craftmc);
            }
            return;
         }
         §§goto(addr55);
      }
      
      public function countItem(param1:String) : uint
      {
         var _loc8_:Boolean = false;
         var _loc9_:Boolean = true;
         var _loc2_:* = 0;
         var _loc3_:* = uint(0);
         var _loc4_:* = 0;
         var _loc5_:* = null;
         var _loc6_:* = null;
         var _loc7_:* = 0;
         if(_loc9_)
         {
            §§push(int(this.pChar.Inventory.length));
            if(_loc9_)
            {
               _loc2_ = §§pop();
               if(!_loc8_)
               {
                  addr44:
                  §§push(0);
                  if(!_loc8_)
                  {
                     §§push(uint(§§pop()));
                     if(_loc9_)
                     {
                        _loc3_ = §§pop();
                        if(!_loc8_)
                        {
                           §§push(0);
                           if(_loc9_)
                           {
                              addr59:
                              _loc4_ = §§pop();
                              if(_loc8_)
                              {
                              }
                              addr157:
                              return _loc3_;
                              addr156:
                           }
                           loop0:
                           for(; §§pop() < _loc2_; while(true)
                           {
                              continue loop0;
                           })
                           {
                              §§push(this.pChar.Inventory[_loc4_]);
                              if(_loc9_)
                              {
                                 §§push(§§pop());
                                 if(_loc9_)
                                 {
                                    _loc5_ = §§pop();
                                    if(!_loc8_)
                                    {
                                       §§push("_");
                                       if(!_loc8_)
                                       {
                                          §§push(§§pop().split(§§pop())[0]);
                                          if(!_loc8_)
                                          {
                                             §§push(§§pop());
                                             if(_loc9_)
                                             {
                                                addr102:
                                                _loc6_ = §§pop();
                                                addr118:
                                                if(!_loc8_)
                                                {
                                                   addr105:
                                                   §§push(param1);
                                                }
                                                if(§§pop().indexOf("_") >= 0)
                                                {
                                                   if(_loc9_)
                                                   {
                                                      addr139:
                                                      _loc7_ = int(int(_loc5_.split("_")[1]));
                                                      addr124:
                                                      if(_loc9_)
                                                      {
                                                         addr142:
                                                         §§push(_loc3_);
                                                         if(_loc9_)
                                                         {
                                                            §§push(uint(§§pop() + _loc7_));
                                                         }
                                                         _loc3_ = §§pop();
                                                         if(!_loc9_)
                                                         {
                                                            continue;
                                                         }
                                                      }
                                                      _loc4_++;
                                                   }
                                                   continue;
                                                }
                                                §§goto(addr142);
                                             }
                                             if(§§pop() !== §§pop())
                                             {
                                                if(_loc8_)
                                                {
                                                   §§goto(addr142);
                                                }
                                             }
                                             else
                                             {
                                                §§push(1);
                                                if(_loc9_)
                                                {
                                                   _loc7_ = §§pop();
                                                   if(_loc9_)
                                                   {
                                                      §§goto(addr118);
                                                      §§push(_loc5_);
                                                   }
                                                   §§goto(addr124);
                                                }
                                                §§goto(addr139);
                                             }
                                             §§goto(addr139);
                                          }
                                       }
                                       §§goto(addr118);
                                    }
                                    §§goto(addr105);
                                 }
                                 §§goto(addr102);
                              }
                              §§goto(addr105);
                           }
                           §§goto(addr156);
                           addr154:
                        }
                        §§goto(addr153);
                     }
                     §§goto(addr157);
                  }
               }
               §§goto(addr59);
            }
            §§goto(addr154);
         }
         §§goto(addr44);
      }
      
      public function openenchant() : void
      {
         var _loc1_:Boolean = true;
         var _loc2_:Boolean = false;
         if(_loc1_)
         {
            if(!this.enchantmc)
            {
               this.enchantmc = new Enchant() as MovieClip;
               if(!_loc2_)
               {
                  this.enchantmc.x = 400;
                  this.enchantmc.y = 300;
                  if(!_loc2_)
                  {
                     addChildAt(this.enchantmc,getChildIndex(this.mouse));
                  }
               }
               this.q.fadeIn(this.enchantmc);
               return;
            }
         }
      }
      
      public function enchant(param1:Vector.<String>, param2:Vector.<String>) : *
      {
         var _loc3_:Boolean = false;
         var _loc4_:Boolean = true;
         if(_loc4_)
         {
            this.getC().send("Enchant",param1.join(","),param2.join(","));
         }
      }
      
      public function swaplist(param1:Message, param2:String, param3:String) : void
      {
         var _loc4_:Boolean = true;
         var _loc5_:Boolean = false;
         if(_loc4_)
         {
            §§push(param2);
            if(_loc4_)
            {
               §§push(".");
               if(!_loc5_)
               {
                  if(§§pop().indexOf(§§pop()) >= 0)
                  {
                     if(_loc4_)
                     {
                        §§push(param2);
                        if(_loc4_)
                        {
                           addr40:
                           §§push(§§pop().split(".")[1]);
                        }
                        param2 = §§pop();
                        if(_loc4_)
                        {
                           this.pChar.Equip[param2] = param3.split(",");
                           if(_loc4_)
                           {
                              addr76:
                              this.listslots();
                           }
                        }
                        §§goto(addr78);
                     }
                     addr78:
                     return;
                  }
                  this.pChar[param2] = param3.split(",");
                  if(!_loc4_)
                  {
                  }
                  §§goto(addr76);
                  §§goto(addr76);
               }
            }
            §§goto(addr40);
         }
         §§goto(addr76);
      }
      
      public function listslots() : void
      {
         var _loc1_:Boolean = false;
         var _loc2_:Boolean = true;
         if(this.enchantmc)
         {
            this.enchantmc.refresh();
         }
         if(this.invmc)
         {
            this.invmc.listinv();
            if(!_loc1_)
            {
               §§goto(addr37);
            }
            §§goto(addr40);
         }
         addr37:
         if(this.charmc)
         {
            addr40:
            this.charmc.listequip();
         }
      }
      
      public function enchantresult(param1:Message, param2:Boolean, param3:String = "", param4:String = "") : void
      {
         var _loc6_:Boolean = true;
         var _loc7_:Boolean = false;
         var _loc5_:MovieClip = null;
         if(!_loc7_)
         {
            if(param2)
            {
               if(_loc6_)
               {
                  §§goto(addr25);
               }
            }
            else if(this.chattxt)
            {
               if(_loc6_)
               {
                  MovieClip(root).q.addChatTxt(this.chattxt,this.getTxt("Failed to Enchant") + " " + this.getTxt(param3) + ".","Public",16776960);
               }
            }
            §§goto(addr109);
         }
         addr25:
         if(this.chattxt)
         {
            if(_loc6_)
            {
               MovieClip(root).q.addChatTxt(this.chattxt,param4 + " " + this.getTxt("PlayerEnchanted") + " " + this.getTxt(param3) + "!","Public",16776960);
               if(!_loc7_)
               {
                  §§goto(addr64);
               }
               else
               {
                  addr109:
                  (_loc5_ = addChild(new EnchantResult() as MovieClip).getChildAt(0)).gotoAndStop(2);
               }
               §§goto(addr122);
            }
         }
         addr64:
         _loc5_ = addChild(new EnchantResult() as MovieClip).getChildAt(0);
         if(!_loc7_)
         {
            addr122:
            _loc5_.draw();
         }
      }
      
      public function addshop(param1:String) : void
      {
         var _loc3_:Boolean = true;
         var _loc4_:Boolean = false;
         var m:MovieClip = null;
         var item:String = param1;
         m = new AddItem() as MovieClip;
         if(!_loc4_)
         {
            m.x = 400;
            m.y = 300;
            if(!_loc4_)
            {
               addr61:
               addChildAt(m,getChildIndex(this.mouse));
               this.q.fadeIn(m);
               if(_loc3_)
               {
                  m.f = function():void
                  {
                     getC().send("AddShop",item,uint(m.pricetxt.text),uint(m.amounttxt.text));
                  };
               }
            }
            return;
         }
         §§goto(addr61);
      }
      
      public function shopupdate(param1:Message, param2:String, param3:String) : void
      {
         var _loc5_:Boolean = true;
         var _loc6_:Boolean = false;
         var _loc4_:MovieClip = null;
         if(_loc5_)
         {
            if(param3 == this.pChar.key)
            {
               if(!_loc6_)
               {
                  this.pChar.Shop = param2.split(",");
               }
            }
         }
         if(!(_loc4_ = this.pmcs[param3 + "_mc"]))
         {
            return;
         }
         _loc4_.shop = Vector.<String>(param2.split(","));
         if(_loc5_)
         {
            if(this.pshopmc)
            {
               this.pshopmc.list();
            }
         }
         §§push(!_loc4_.hpmc);
         if(_loc5_)
         {
            if(§§pop())
            {
               if(!_loc6_)
               {
                  addr88:
                  §§pop();
                  §§push(Boolean(_loc4_.titleb));
               }
            }
            if(§§pop())
            {
               if(_loc5_)
               {
                  _loc4_.createtitle();
               }
            }
            return;
         }
         §§goto(addr88);
      }
      
      public function prc(param1:MovieClip) : void
      {
         var _loc2_:Boolean = false;
         var _loc3_:Boolean = true;
         if(this.prcmc)
         {
            this.q.removeChildFade(this.prcmc);
         }
         this.prcmc = new PRC() as MovieClip;
         if(!_loc2_)
         {
            this.prcmc.p = param1;
            if(_loc3_)
            {
               addr53:
               this.prcmc.x = mouseX;
               this.prcmc.y = mouseY;
               addChildAt(this.prcmc,getChildIndex(this.mouse));
               this.q.fadeIn(this.prcmc);
            }
            return;
         }
         §§goto(addr53);
      }
      
      public function onlyNone(param1:Vector.<String>) : Boolean
      {
         var _loc4_:Boolean = false;
         var _loc5_:Boolean = true;
         var _loc2_:* = 0;
         var _loc3_:* = 0;
         if(!_loc4_)
         {
            §§push(int(param1.length));
            if(!_loc4_)
            {
               _loc2_ = §§pop();
               if(_loc5_)
               {
                  §§push(0);
                  if(!_loc4_)
                  {
                     addr49:
                     _loc3_ = §§pop();
                     if(_loc5_)
                     {
                        addr53:
                        while(true)
                        {
                           §§push(_loc3_);
                        }
                        addr65:
                     }
                     §§goto(addr68);
                  }
                  while(§§pop() < _loc2_)
                  {
                     if(param1[_loc3_] !== "None")
                     {
                        if(_loc5_)
                        {
                           return false;
                        }
                     }
                     else
                     {
                        _loc3_++;
                     }
                     §§goto(addr65);
                  }
               }
               addr68:
               return true;
            }
            §§goto(addr49);
         }
         §§goto(addr53);
      }
      
      public function friends() : void
      {
         var _loc1_:Boolean = false;
         var _loc2_:Boolean = true;
         if(this.friendsmc)
         {
            return;
         }
         this.friendsmc = new Friends() as MovieClip;
         if(_loc2_)
         {
            this.friendsmc.x = 400;
            if(_loc2_)
            {
               this.friendsmc.y = 300;
               §§goto(addr53);
            }
            §§goto(addr64);
         }
         addr53:
         addChildAt(this.friendsmc,getChildIndex(this.mouse));
         if(_loc2_)
         {
            addr64:
            this.q.fadeIn(this.friendsmc);
         }
      }
      
      public function addfriend(param1:String) : void
      {
         var _loc2_:Boolean = true;
         var _loc3_:Boolean = false;
         if(_loc2_)
         {
            if(!this.q.arrayContains(this.pChar.Social.Friends,param1))
            {
               if(!_loc3_)
               {
                  this.pChar.Social.Friends.push(param1);
                  if(_loc2_)
                  {
                     this.getC().send("AddFriend",param1);
                     if(!_loc3_)
                     {
                        addr58:
                        if(this.friendsmc)
                        {
                           if(!_loc3_)
                           {
                              this.friendsmc.load();
                           }
                        }
                     }
                  }
               }
            }
            return;
         }
         §§goto(addr58);
      }
      
      public function removefriend(param1:String) : void
      {
         var _loc2_:Boolean = false;
         var _loc3_:Boolean = true;
         if(!_loc2_)
         {
            if(this.q.arrayContains(this.pChar.Social.Friends,param1))
            {
               if(!_loc2_)
               {
                  this.q.removeValueFromArray(this.pChar.Social.Friends,param1);
                  if(_loc3_)
                  {
                     this.getC().send("RemoveFriend",param1);
                     if(_loc2_)
                     {
                     }
                     §§goto(addr68);
                  }
               }
               if(this.friendsmc)
               {
                  if(_loc3_)
                  {
                     §§goto(addr68);
                  }
               }
            }
            §§goto(addr68);
         }
         addr68:
         this.friendsmc.load();
      }
      
      public function logout(param1:int) : void
      {
         var _loc3_:Boolean = false;
         var _loc4_:Boolean = true;
         if(_loc4_)
         {
            var t:int = param1;
            §§push(this.joinedgc);
            if(!_loc3_)
            {
               if(!§§pop())
               {
                  if(_loc4_)
                  {
                     return;
                  }
                  §§goto(addr74);
               }
               else
               {
                  §§push(Boolean(this.GuildChannel));
                  if(_loc4_)
                  {
                     addr47:
                     if(§§pop())
                     {
                        if(_loc4_)
                        {
                           §§pop();
                           if(_loc4_)
                           {
                              addr55:
                              §§push(this.GuildChannel.connected);
                              if(!_loc3_)
                              {
                                 addr68:
                                 if(§§pop())
                                 {
                                    if(!_loc3_)
                                    {
                                       this.GuildChannel.disconnect();
                                    }
                                    §§goto(addr74);
                                 }
                                 §§goto(addr79);
                              }
                              §§goto(addr68);
                           }
                           addr74:
                           this.GuildChannel = null;
                           if(!_loc3_)
                           {
                              addr79:
                              this.q.fade(root,t,function():void
                              {
                                 var _loc2_:Boolean = false;
                                 var _loc3_:Boolean = true;
                                 var ti:Timer = null;
                                 var after:* = undefined;
                                 after = function(param1:TimerEvent):void
                                 {
                                    var _loc2_:Boolean = true;
                                    var _loc3_:Boolean = false;
                                    ti.removeEventListener(TimerEvent.TIMER,after);
                                    if(_loc2_)
                                    {
                                       ti.stop();
                                       if(_loc2_)
                                       {
                                          acc.send("Refresh");
                                          if(!_loc2_)
                                          {
                                          }
                                          §§goto(addr24);
                                       }
                                       ti = null;
                                    }
                                    addr24:
                                 };
                                 ti = new Timer(6000,1);
                                 ti.addEventListener(TimerEvent.TIMER,after);
                                 ti.start();
                              },function():void
                              {
                                 var _loc1_:Boolean = true;
                                 var _loc2_:Boolean = false;
                                 cleargame(true);
                                 if(!_loc2_)
                                 {
                                    removehud();
                                 }
                              });
                           }
                           return;
                        }
                     }
                  }
                  §§goto(addr68);
               }
               §§goto(addr79);
            }
            §§goto(addr47);
         }
         §§goto(addr55);
      }
      
      public function removehud() : void
      {
         var _loc1_:Boolean = false;
         var _loc2_:Boolean = true;
         if(_loc2_)
         {
            this.chatinput.removeEventListener(KeyboardEvent.KEY_DOWN,this.sendMsg);
            this.mapinput.removeEventListener(KeyboardEvent.KEY_DOWN,this.sendMsg);
            stage.removeEventListener(KeyboardEvent.KEY_DOWN,this.enterChat);
            removeEventListener(MouseEvent.CLICK,this.openstuff);
            this.q.remove(this.timermc,"timermc");
            if(_loc2_)
            {
               if(this.pi)
               {
                  this.q.remove(this.pi.b,"b");
               }
               this.q.remove(this.pi,"pi");
               if(!_loc1_)
               {
                  if(root.maphelp)
                  {
                     this.q.remove(root.maphelp);
                     if(!_loc1_)
                     {
                        delete root.maphelp;
                        addr84:
                        this.q.remove(this.leavebtn,"leavebtn");
                        this.q.remove(this.goldmallbtn,"goldmallbtn");
                        this.q.remove(this.buffmc,"buffmc");
                        this.q.remove(this.expmc,"expmc");
                        this.q.remove(this.pshopmc,"pshopmc");
                        this.q.remove(this.warehousemc,"warehousemc");
                        this.q.remove(this.publicbtn,"publicbtn");
                        this.q.remove(this.guildtabbtn,"guildtabbtn");
                     }
                     this.q.remove(this.settingsmc,"settingsmc");
                     this.q.remove(this.settingsbtn,"settingsbtn");
                     if(_loc2_)
                     {
                        this.q.remove(this.friendsmc,"friendsmc");
                        this.q.remove(this.friendsbtn,"friendsbtn");
                        this.q.remove(this.shopmc,"shopmc");
                        if(!_loc1_)
                        {
                           this.q.remove(this.shopbtn,"shopbtn");
                           this.q.remove(this.questlog,"questlog");
                           this.q.remove(logbtn,"logbtn");
                           if(!_loc1_)
                           {
                              this.q.remove(this.guildbtn,"guildbtn");
                              if(!_loc1_)
                              {
                                 this.q.remove(this.pvpbtn,"pvpbtn");
                                 this.q.remove(this.skillmc,"skillmc");
                              }
                              this.q.remove(this.skillbtn,"skillbtn");
                              this.q.remove(this.charmc,"charmc");
                              if(!_loc1_)
                              {
                                 addr230:
                                 this.q.remove(this.charbtn,"charbtn");
                                 if(!_loc1_)
                                 {
                                    this.q.remove(this.invmc,"invmc");
                                    this.q.remove(this.invbtn,"invbtn");
                                    addr250:
                                    if(this.mapmc)
                                    {
                                       this.closemap();
                                       if(_loc2_)
                                       {
                                          addr258:
                                          this.q.remove(this.mapbtn,"mapbtn");
                                          this.q.remove(this.lvltxt,"lvltxt");
                                          if(_loc2_)
                                          {
                                             this.q.remove(this.moneytxt,"moneytxt");
                                             if(!_loc1_)
                                             {
                                                addr282:
                                                this.q.remove(this.chatinput,"chatinput");
                                                this.q.remove(this.chattxt,"chattxt");
                                                if(!_loc1_)
                                                {
                                                   this.q.remove(this.chatmin,"chatmin");
                                                   if(!_loc1_)
                                                   {
                                                      §§goto(addr305);
                                                   }
                                                   §§goto(addr319);
                                                }
                                                §§goto(addr353);
                                             }
                                             §§goto(addr340);
                                          }
                                       }
                                       §§goto(addr282);
                                    }
                                    §§goto(addr258);
                                 }
                                 §§goto(addr319);
                              }
                              §§goto(addr258);
                           }
                           §§goto(addr250);
                        }
                        addr305:
                        this.q.remove(this.chatbg,"chatbg");
                        if(!_loc1_)
                        {
                           addr313:
                           this.q.remove(this.chatScroll,"chatScroll");
                           addr319:
                           this.q.remove(this.mapinput,"mapinput");
                           this.q.remove(this.mapchat,"mapchat");
                           if(_loc2_)
                           {
                              this.q.remove(this.mapchatbg,"mapchatbg");
                              this.q.remove(this.mapchatScroll,"mapchatScroll");
                              addr353:
                              this.q.remove(this.guildtxt,"guildtxt");
                              if(_loc2_)
                              {
                                 addr362:
                                 this.q.remove(this.guildinput,"guildinput");
                                 this.q.remove(this.guildScroll,"guildScroll");
                              }
                              addr340:
                           }
                        }
                        return;
                     }
                     §§goto(addr362);
                  }
                  §§goto(addr84);
               }
               §§goto(addr313);
            }
            §§goto(addr84);
         }
         §§goto(addr230);
      }
      
      public function mpmod(param1:Message, param2:int, param3:int, param4:int, param5:String, param6:uint, param7:Boolean = false) : void
      {
         var _loc9_:Boolean = false;
         var _loc10_:Boolean = true;
         var _loc8_:MovieClip = null;
         if(!(_loc8_ = this.getMC(param3,param2)))
         {
            return;
         }
         trace("val: " + param4);
         if(param7)
         {
            if(!_loc9_)
            {
               §§push(this.updatequeue);
               §§push("MPmod:");
               §§push(param2);
               if(!_loc9_)
               {
                  §§push(§§pop() + §§pop());
                  if(!_loc9_)
                  {
                     §§push("_");
                     if(!_loc9_)
                     {
                        §§push(§§pop() + §§pop());
                        if(!_loc9_)
                        {
                           §§push(param3);
                           if(!_loc9_)
                           {
                              addr64:
                              §§push(§§pop() + §§pop());
                              if(!_loc9_)
                              {
                                 §§goto(addr100);
                              }
                              §§goto(addr72);
                           }
                           §§push(§§pop() + §§pop());
                           §§push("_");
                           if(_loc10_)
                           {
                              §§push(§§pop() + §§pop());
                              if(!_loc9_)
                              {
                                 §§push(§§pop() + param5);
                                 §§push("_");
                                 if(_loc10_)
                                 {
                                    §§push(§§pop() + §§pop());
                                    if(_loc10_)
                                    {
                                       addr99:
                                       addr100:
                                       §§push("_");
                                       if(_loc10_)
                                       {
                                          addr72:
                                          §§push(§§pop() + §§pop());
                                          §§push(param4);
                                       }
                                       §§pop().push(§§pop() + §§pop());
                                       return;
                                       §§push(§§pop() + param6);
                                       §§push("_");
                                    }
                                    §§goto(addr99);
                                 }
                                 §§goto(addr100);
                              }
                              §§goto(addr99);
                           }
                           §§goto(addr100);
                        }
                        §§goto(addr72);
                     }
                     §§goto(addr100);
                  }
                  §§goto(addr99);
               }
               §§goto(addr64);
            }
         }
         else
         {
            this.modifyMP(_loc8_,param6);
            if(!_loc9_)
            {
               if(param5 !== "")
               {
                  if(_loc10_)
                  {
                     this.generateDamage(_loc8_,param4,param5 + "Num");
                  }
               }
            }
         }
      }
      
      public function hpmod(param1:Message, param2:int, param3:int, param4:int, param5:String, param6:uint, param7:Boolean = false) : void
      {
         var _loc9_:Boolean = false;
         var _loc10_:Boolean = true;
         var _loc8_:MovieClip = null;
         if(!(_loc8_ = this.getMC(param3,param2)))
         {
            return;
         }
         trace("val: " + param4);
         if(!_loc9_)
         {
            if(param7)
            {
               §§push(this.updatequeue);
               §§push("HPmod:");
               §§push(param2);
               if(_loc10_)
               {
                  §§push(§§pop() + §§pop());
                  §§push("_");
                  if(_loc10_)
                  {
                     §§push(§§pop() + §§pop());
                     §§push(param3);
                     if(_loc10_)
                     {
                        §§push(§§pop() + §§pop());
                        if(_loc10_)
                        {
                           addr89:
                           §§push("_");
                           if(!_loc9_)
                           {
                              §§push(§§pop() + §§pop());
                           }
                           §§push(§§pop() + §§pop());
                           if(_loc10_)
                           {
                              addr92:
                              §§push(§§pop() + param6);
                           }
                           §§pop().push(§§pop() + "_");
                           if(_loc10_)
                           {
                              return;
                           }
                           §§goto(addr123);
                        }
                        addr69:
                        §§push(§§pop() + param4);
                        if(_loc10_)
                        {
                           §§push("_");
                           if(_loc10_)
                           {
                              §§push(§§pop() + §§pop());
                              if(!_loc9_)
                              {
                                 §§push(§§pop() + param5);
                                 if(!_loc9_)
                                 {
                                    §§push("_");
                                    if(!_loc10_)
                                    {
                                    }
                                    §§goto(addr89);
                                 }
                                 §§goto(addr92);
                              }
                           }
                        }
                        §§goto(addr89);
                     }
                     §§goto(addr69);
                  }
                  §§goto(addr89);
               }
               §§goto(addr69);
            }
            else
            {
               this.modifyHP(_loc8_,param6);
               if(_loc10_)
               {
                  if(param5 !== "")
                  {
                     addr116:
                     this.generateDamage(_loc8_,param4,param5 + "Num");
                  }
               }
            }
            addr123:
            return;
         }
         §§goto(addr116);
      }
      
      public function openelements() : void
      {
         var _loc3_:Boolean = true;
         var _loc4_:Boolean = false;
         var _loc1_:MovieClip = null;
         if(_loc3_)
         {
            if(!this.elementmc)
            {
               _loc1_ = this.elementmc = new Elements() as MovieClip;
               if(!_loc4_)
               {
                  _loc1_.x = 400;
                  if(_loc3_)
                  {
                     _loc1_.y = 300;
                     if(_loc3_)
                     {
                        addChildAt(_loc1_,getChildIndex(this.mouse));
                        if(!_loc4_)
                        {
                           addr75:
                           this.q.fadeIn(_loc1_);
                        }
                     }
                     return;
                  }
               }
               §§goto(addr75);
            }
         }
      }
      
      public function removeEnemyAO() : void
      {
         var _loc7_:Boolean = true;
         var _loc8_:Boolean = false;
         var _loc1_:Object = null;
         var _loc2_:Object = null;
         if(_loc7_)
         {
            var _loc3_:int = 0;
            if(!_loc8_)
            {
               var _loc4_:* = this.ao;
               if(_loc7_)
               {
                  for each(_loc1_ in _loc4_)
                  {
                     if(_loc1_.enemy)
                     {
                        trace("Deleting " + _loc1_.Name);
                        trace("before:" + this.ao[_loc1_.Name + "_e"]);
                        if(!_loc8_)
                        {
                           var _loc5_:int = 0;
                           if(!_loc8_)
                           {
                              var _loc6_:* = _loc1_;
                              if(!_loc8_)
                              {
                                 for each(_loc2_ in _loc6_)
                                 {
                                    if(_loc7_)
                                    {
                                       if(!(_loc2_ is AnimatedBitmapData))
                                       {
                                          if(!_loc8_)
                                          {
                                             continue;
                                          }
                                       }
                                       else
                                       {
                                          trace("Destroy " + _loc2_);
                                          if(_loc8_)
                                          {
                                             continue;
                                          }
                                       }
                                       _loc2_.destroy();
                                    }
                                 }
                              }
                           }
                        }
                        delete this.ao[_loc1_.Name + "_e"];
                        if(!_loc8_)
                        {
                           trace("after:" + this.ao[_loc1_.Name + "_e"]);
                        }
                     }
                  }
               }
            }
         }
      }
      
      public function collectGarbage() : void
      {
         var _loc2_:Boolean = true;
         var _loc3_:Boolean = false;
         if(_loc2_)
         {
            trace("Before forced garbage collection: " + System.totalMemory);
            if(!_loc3_)
            {
               System.pauseForGCIfCollectionImminent(0);
            }
         }
         try
         {
            new LocalConnection().connect("foo");
            if(!_loc3_)
            {
               new LocalConnection().connect("foo");
            }
         }
         catch(e:*)
         {
         }
         trace("After forced garbage collection: " + System.totalMemory);
      }
      
      public function bubbleSpawn() : void
      {
         var _loc2_:Boolean = false;
         var _loc3_:Boolean = true;
         var bubbleb:Bitmap = null;
         if(_loc3_)
         {
            var sizerange:Point = null;
            if(!_loc2_)
            {
               var size:Number = NaN;
               addr35:
               var index:int = 0;
               if(!_loc2_)
               {
                  var speed:Number = NaN;
                  if(!_loc2_)
                  {
                     var bubblemove:* = undefined;
                     if(_loc3_)
                     {
                        bubblemove = function(param1:Event):void
                        {
                           var _loc2_:Boolean = false;
                           var _loc3_:Boolean = true;
                           if(bubbleb.y <= 0 - bubbleb.height)
                           {
                              if(_loc3_)
                              {
                                 bubbleb.removeEventListener(Event.ENTER_FRAME,bubblemove);
                                 if(!_loc2_)
                                 {
                                    trace("remove bubble");
                                    if(!_loc3_)
                                    {
                                    }
                                 }
                                 §§goto(addr44);
                              }
                              removeChild(bubbleb);
                              if(!_loc2_)
                              {
                                 bubbleb = null;
                                 if(!_loc3_)
                                 {
                                    §§goto(addr44);
                                 }
                              }
                              return;
                           }
                           bubbleb.y -= speed;
                           addr44:
                        };
                        bubbleb = new Bitmap(this.bubbledata);
                        bubbleb.y = stage.stageHeight + 5;
                        bubbleb.x = Math.random() * stage.stageWidth;
                        sizerange = new Point(0.2,0.8);
                        size = sizerange.x + Math.random() * (sizerange.y - sizerange.x);
                        if(!_loc2_)
                        {
                           bubbleb.scaleX = size;
                           if(!_loc2_)
                           {
                              bubbleb.scaleY = size;
                              addr122:
                              index = getChildIndex(this.chatbg);
                              if(_loc3_)
                              {
                                 if(!this.ol)
                                 {
                                 }
                                 §§goto(addr151);
                              }
                           }
                           §§goto(addr151);
                        }
                        index = getChildIndex(this.ol);
                        if(_loc3_)
                        {
                           §§goto(addr151);
                        }
                        addr151:
                        addChildAt(bubbleb,index);
                        §§goto(addr157);
                     }
                     addr157:
                     bubbleb.addEventListener(Event.ENTER_FRAME,bubblemove);
                     §§push(§§newactivation());
                     §§push(6 * size);
                     if(_loc3_)
                     {
                        §§push(Number(§§pop()));
                     }
                     §§pop().§§slot[5] = §§pop();
                     return;
                  }
               }
               §§goto(addr151);
            }
            §§goto(addr122);
         }
         §§goto(addr35);
      }
      
      public function skillFX(param1:String, param2:Point) : void
      {
         var _loc5_:Boolean = true;
         var _loc6_:Boolean = false;
         var _loc4_:MovieClip = null;
         var _loc3_:Class = getDefinitionByName(param1) as Class;
         (_loc4_ = new _loc3_() as MovieClip).x = param2.x;
         if(_loc5_)
         {
            _loc4_.y = param2.y;
            if(!_loc6_)
            {
               addChildAt(_loc4_,getChildIndex(this.mouse));
               if(!_loc5_)
               {
               }
               §§goto(addr74);
            }
            trace("Spawned skill " + param1);
            if(_loc6_)
            {
            }
            §§goto(addr74);
         }
         addr74:
         this.anims.push(_loc4_);
      }
      
      public function emptyAO(param1:Boolean = false) : void
      {
         var _loc8_:Boolean = false;
         var _loc9_:Boolean = true;
         var _loc2_:Object = null;
         var _loc3_:Object = null;
         if(!_loc8_)
         {
            var _loc4_:int = 0;
            if(!_loc8_)
            {
               var _loc5_:* = this.ao;
               if(_loc9_)
               {
                  for each(_loc2_ in _loc5_)
                  {
                     if(_loc2_.enemy)
                     {
                        if(_loc9_)
                        {
                           continue;
                        }
                        addr124:
                        this.ao[_loc2_.Name] = {};
                        if(_loc8_)
                        {
                           continue;
                        }
                     }
                     else
                     {
                        trace("Deleting " + _loc2_.Name);
                        if(!_loc9_)
                        {
                           continue;
                        }
                        trace("before:" + this.ao[_loc2_.Name + "_e"]);
                        if(_loc9_)
                        {
                           var _loc6_:int = 0;
                           if(_loc9_)
                           {
                              var _loc7_:* = _loc2_;
                              if(!_loc8_)
                              {
                                 for each(_loc3_ in _loc7_)
                                 {
                                    if(_loc9_)
                                    {
                                       if(!(_loc3_ is AnimatedBitmapData))
                                       {
                                          if(_loc9_)
                                          {
                                             continue;
                                          }
                                       }
                                       else
                                       {
                                          trace("Destroy " + _loc3_);
                                          if(_loc8_)
                                          {
                                             continue;
                                          }
                                       }
                                    }
                                    _loc3_.destroy();
                                 }
                              }
                           }
                           if(!_loc9_)
                           {
                              continue;
                           }
                           §§goto(addr124);
                        }
                     }
                     delete this.ao[_loc2_.Name];
                     trace("after:" + this.ao[_loc2_.Name + "_e"]);
                  }
               }
            }
            if(_loc9_)
            {
               addr164:
               this.collectGarbage();
            }
            return;
         }
         §§goto(addr164);
      }
      
      public function createGuild(param1:String, param2:String, param3:Function) : void
      {
         var _loc5_:Boolean = false;
         var _loc6_:Boolean = true;
         if(!_loc5_)
         {
            var c:Client = null;
            var guildcreated:* = undefined;
            var n:String = param1;
            var emblem:String = param2;
            var f:Function = param3;
            var success:* = function():void
            {
               var _loc1_:Boolean = false;
               var _loc2_:Boolean = true;
               q.stoploading();
               if(!_loc1_)
               {
                  f();
               }
            };
            guildcreated = function(param1:Message, param2:Boolean, param3:String = ""):void
            {
               var _loc5_:Boolean = false;
               var _loc6_:Boolean = true;
               var _loc4_:MovieClip = null;
               if(_loc6_)
               {
                  getC().removeMessageHandler("GuildCreate",guildcreated);
                  if(!_loc5_)
                  {
                     q.stoploading();
                     §§goto(addr20);
                  }
                  §§goto(addr34);
               }
               addr20:
               if(param2)
               {
                  if(_loc6_)
                  {
                     tip(13);
                     if(_loc6_)
                     {
                        pChar.Guild = param3;
                        addr34:
                        pChar.GuildRank = "Leader";
                     }
                  }
                  (_loc4_ = pmcs[pChar.key + "_mc"]).guild = pChar.Guild;
                  if(!_loc5_)
                  {
                     _loc4_.createtitle();
                     if(_loc6_)
                     {
                        openguild(param3);
                        if(!_loc5_)
                        {
                           joinGuildChat();
                           if(_loc5_)
                           {
                           }
                           §§goto(addr68);
                        }
                     }
                     §§goto(addr68);
                  }
                  f();
               }
               addr68:
            };
            if(!_loc5_)
            {
               if(!this.gcreatemc)
               {
                  if(!_loc5_)
                  {
                     §§goto(addr69);
                  }
               }
               else
               {
                  c = this.client;
                  addr75:
                  c.bigDB.load("Guilds",n,function(param1:DatabaseObject):void
                  {
                     var _loc2_:Boolean = true;
                     var _loc3_:Boolean = false;
                     if(param1 == null)
                     {
                        if(_loc2_)
                        {
                           getC().addMessageHandler("GuildCreate",guildcreated);
                           if(!_loc3_)
                           {
                              if(emblem.indexOf(".") >= 0)
                              {
                                 if(_loc2_)
                                 {
                                    getC().send("CreateGuild",n,emblem,gcreatemc.file.data);
                                    if(!_loc2_)
                                    {
                                    }
                                    §§goto(addr49);
                                 }
                              }
                              else
                              {
                                 getC().send("CreateGuild",n,emblem);
                                 if(_loc3_)
                                 {
                                 }
                                 §§goto(addr49);
                              }
                              §§goto(addr49);
                           }
                        }
                     }
                     else
                     {
                        q.stoploading();
                     }
                     addr49:
                  },function(param1:PlayerIOError):void
                  {
                     q.stoploading();
                  });
               }
               return;
            }
            addr69:
            return;
         }
         §§goto(addr75);
      }
      
      public function openguildcreate() : void
      {
         var _loc3_:Boolean = false;
         var _loc4_:Boolean = true;
         var _loc1_:MovieClip = null;
         if(_loc4_)
         {
            if(!this.gcreatemc)
            {
               _loc1_ = this.gcreatemc = new CreateGuild();
               if(!_loc3_)
               {
                  _loc1_.x = stage.stageWidth / 2;
                  if(!_loc3_)
                  {
                     _loc1_.y = stage.stageHeight / 2;
                     if(!_loc4_)
                     {
                     }
                     §§goto(addr78);
                  }
                  addChildAt(_loc1_,getChildIndex(this.mouse));
                  if(!_loc4_)
                  {
                  }
                  §§goto(addr78);
               }
               addr78:
               this.q.fadeIn(_loc1_);
               return;
            }
         }
      }
      
      public function calcGuildLvl(param1:uint) : Object
      {
         var _loc6_:Boolean = false;
         var _loc7_:Boolean = true;
         var _loc2_:* = 0;
         var _loc3_:* = 0;
         var _loc4_:* = NaN;
         var _loc5_:* = 0;
         if(!_loc6_)
         {
            §§push(this.guildxpneeds.length);
            if(!_loc6_)
            {
               §§push(int(§§pop()));
               if(_loc7_)
               {
                  _loc2_ = §§pop();
                  if(_loc7_)
                  {
                     §§push(1);
                     if(!_loc6_)
                     {
                        addr43:
                        _loc3_ = §§pop();
                        if(!_loc6_)
                        {
                           addr47:
                           §§push(param1 / this.guildxpneeds[0]);
                           if(!_loc6_)
                           {
                              §§push(Number(§§pop()));
                           }
                           _loc4_ = §§pop();
                           if(_loc7_)
                           {
                              addr67:
                              §§push(0);
                              if(_loc7_)
                              {
                                 addr70:
                                 _loc5_ = §§pop();
                                 if(!_loc6_)
                                 {
                                    while(true)
                                    {
                                       §§push(_loc5_);
                                    }
                                    addr125:
                                    return {
                                       "Level":_loc3_,
                                       "Percent":_loc4_
                                    };
                                    addr122:
                                 }
                                 §§goto(addr125);
                              }
                              while(true)
                              {
                                 if(§§pop() < _loc2_)
                                 {
                                    §§push(param1);
                                    if(!_loc6_)
                                    {
                                       §§push(this.guildxpneeds[_loc5_]);
                                       if(!_loc6_)
                                       {
                                          if(§§pop() >= §§pop())
                                          {
                                             if(!_loc6_)
                                             {
                                                _loc3_++;
                                                if(!_loc6_)
                                                {
                                                   addr93:
                                                   if(_loc3_ < 10)
                                                   {
                                                      if(_loc6_)
                                                      {
                                                      }
                                                      addr121:
                                                      _loc5_++;
                                                      continue;
                                                   }
                                                   §§goto(addr121);
                                                }
                                                addr113:
                                                §§push(param1 / this.guildxpneeds[_loc5_ + 1]);
                                                if(_loc7_)
                                                {
                                                   §§push(Number(§§pop()));
                                                }
                                                _loc4_ = §§pop();
                                                if(!_loc7_)
                                                {
                                                   continue;
                                                }
                                                §§goto(addr121);
                                             }
                                             §§goto(addr93);
                                          }
                                          §§goto(addr121);
                                       }
                                    }
                                    §§goto(addr113);
                                 }
                              }
                           }
                           §§goto(addr125);
                        }
                        §§goto(addr67);
                     }
                     §§goto(addr70);
                  }
                  §§goto(addr47);
               }
               §§goto(addr43);
            }
            §§goto(addr47);
         }
         §§goto(addr67);
      }
      
      public function openguild(param1:String) : void
      {
         var _loc3_:Boolean = false;
         var _loc4_:Boolean = true;
         if(_loc4_)
         {
            var c:Client = null;
            if(_loc4_)
            {
               var g:String = param1;
               if(_loc4_)
               {
                  addr48:
                  c = this.client;
                  if(!_loc4_)
                  {
                  }
                  §§goto(addr60);
               }
               if(this.guildmc)
               {
                  if(!_loc3_)
                  {
                     §§goto(addr60);
                  }
               }
               else
               {
                  c.bigDB.load("Guilds",g,function(param1:DatabaseObject):void
                  {
                     var _loc4_:Boolean = true;
                     var _loc5_:Boolean = false;
                     var _loc2_:MovieClip = null;
                     §§push("Guild");
                     if(_loc4_)
                     {
                        §§push(§§pop() in pChar);
                        §§push(§§pop() in pChar);
                        if(!_loc5_)
                        {
                           if(§§pop())
                           {
                              §§pop();
                              if(!_loc5_)
                              {
                                 addr26:
                                 §§push(pChar.Guild == param1.key);
                                 §§push(pChar.Guild == param1.key);
                                 if(!_loc5_)
                                 {
                                    if(§§pop())
                                    {
                                       §§pop();
                                       if(_loc4_)
                                       {
                                          addr36:
                                          §§push(Boolean(onKong));
                                          §§push(Boolean(onKong));
                                          if(!_loc5_)
                                          {
                                             if(§§pop())
                                             {
                                                §§pop();
                                                §§push(pChar.GuildRank == "Leader");
                                             }
                                             if(§§pop())
                                             {
                                                kongregate.stats.submit("Guild Level",calcGuildLvl(param1.XP).Level);
                                                if(_loc4_)
                                                {
                                                   addr59:
                                                   if(guildmc)
                                                   {
                                                      return;
                                                   }
                                                   §§push(param1 == null);
                                                   if(_loc4_)
                                                   {
                                                      §§push(§§pop());
                                                      if(!_loc5_)
                                                      {
                                                         if(!§§pop())
                                                         {
                                                            §§pop();
                                                            addr73:
                                                            §§push("Guild" in pChar);
                                                            §§push("Guild" in pChar);
                                                            if(_loc4_)
                                                            {
                                                               addr79:
                                                               if(§§pop())
                                                               {
                                                                  addr80:
                                                                  §§pop();
                                                                  §§push(pChar.Guild == g);
                                                                  if(!_loc4_)
                                                                  {
                                                                  }
                                                                  addr105:
                                                                  if(§§pop())
                                                                  {
                                                                     if(_loc4_)
                                                                     {
                                                                        §§push(delete pChar.Guild);
                                                                        if(!_loc5_)
                                                                        {
                                                                           addr113:
                                                                           §§pop();
                                                                           §§push(delete pChar.GuildRank);
                                                                        }
                                                                        §§pop();
                                                                        getC().send("LeaveGuild");
                                                                        if(!_loc5_)
                                                                        {
                                                                           if(param1 == null)
                                                                           {
                                                                              if(!_loc5_)
                                                                              {
                                                                                 addr129:
                                                                                 q.addChatTxt(chattxt,"The guild " + g + " has disbanded.","Public",16776960);
                                                                                 addr139:
                                                                              }
                                                                              §§goto(addr139);
                                                                           }
                                                                           else
                                                                           {
                                                                              q.addChatTxt(chattxt,"You have been kicked from the guild.","Public",16776960);
                                                                           }
                                                                           return;
                                                                        }
                                                                     }
                                                                     §§goto(addr139);
                                                                  }
                                                                  else
                                                                  {
                                                                     _loc2_ = guildmc = new GuildHome() as MovieClip;
                                                                     if(_loc4_)
                                                                     {
                                                                        _loc2_.o = param1;
                                                                        if(!_loc5_)
                                                                        {
                                                                           addChildAt(_loc2_,getChildIndex(mouse));
                                                                           if(_loc4_)
                                                                           {
                                                                              _loc2_.x = stage.stageWidth / 2;
                                                                              if(!_loc5_)
                                                                              {
                                                                                 addr183:
                                                                                 _loc2_.y = stage.stageHeight / 2;
                                                                                 if(_loc5_)
                                                                                 {
                                                                                 }
                                                                                 §§goto(addr195);
                                                                              }
                                                                              q.fadeIn(_loc2_);
                                                                           }
                                                                           addr195:
                                                                           return;
                                                                        }
                                                                     }
                                                                     §§goto(addr183);
                                                                  }
                                                               }
                                                               §§push(§§pop());
                                                            }
                                                            if(§§pop())
                                                            {
                                                               if(_loc4_)
                                                               {
                                                                  §§pop();
                                                                  if(!_loc5_)
                                                                  {
                                                                     §§push(!q.arrayContains(param1.Members,pChar.key));
                                                                     if(_loc4_)
                                                                     {
                                                                        §§goto(addr105);
                                                                     }
                                                                  }
                                                                  §§goto(addr113);
                                                               }
                                                            }
                                                         }
                                                         §§goto(addr105);
                                                      }
                                                      §§goto(addr79);
                                                   }
                                                   §§goto(addr80);
                                                }
                                                §§goto(addr139);
                                             }
                                             §§goto(addr59);
                                          }
                                          §§goto(addr79);
                                       }
                                       §§goto(addr73);
                                    }
                                    §§goto(addr36);
                                 }
                                 §§goto(addr79);
                              }
                              §§goto(addr129);
                           }
                           §§goto(addr26);
                        }
                        §§goto(addr79);
                     }
                     §§goto(addr73);
                  },function(param1:PlayerIOError):void
                  {
                     var _loc2_:Boolean = false;
                     var _loc3_:Boolean = true;
                     trace("error loading guild");
                     if(_loc3_)
                     {
                        trace(param1.errorID);
                        if(!_loc2_)
                        {
                           trace(String(param1));
                        }
                     }
                  });
               }
               return;
            }
            addr60:
            return;
         }
         §§goto(addr48);
      }
      
      public function guildinvite(param1:String) : void
      {
         var _loc2_:Boolean = false;
         var _loc3_:Boolean = true;
         if(_loc3_)
         {
            this.getC().send("GuildInvite",param1);
         }
      }
      
      public function invitedguild(param1:Message, param2:String, param3:String) : void
      {
         var _loc6_:Boolean = true;
         var _loc7_:Boolean = false;
         var mc:MovieClip = null;
         var m:Message = param1;
         var p:String = param2;
         var g:String = param3;
         if(!_loc7_)
         {
            mc = this.guildinvitemc = new Confirm() as MovieClip;
            addChildAt(mc,getChildIndex(this.mouse));
            mc.x = stage.stageWidth / 2;
            mc.y = stage.stageHeight / 2;
            if(_loc6_)
            {
               mc.title = "Guild Invite";
               if(!_loc7_)
               {
                  mc.txt = p + " " + this.getTxt("GuildInvitedYou") + " " + g;
                  addr108:
                  mc.confirmation = function():void
                  {
                     getC().send("JoinGuild",g);
                  };
               }
               mc.decline = function():void
               {
                  getC().send("DeclineGuild",p);
               };
               §§goto(addr116);
            }
            §§goto(addr108);
         }
         addr116:
      }
      
      public function leaveguild() : void
      {
         var _loc1_:Boolean = false;
         var _loc2_:Boolean = true;
         if(_loc2_)
         {
            this.getC().send("LeaveGuild");
            if(_loc2_)
            {
               this.q.addChatTxt(this.chattxt,"You have left the guild " + this.pChar.Guild + ".","Public",16776960);
               §§goto(addr25);
            }
            §§goto(addr55);
         }
         addr25:
         if(!_loc1_)
         {
            addr55:
            §§push(delete this.pChar.Guild);
            if(!_loc1_)
            {
               §§pop();
               §§goto(addr71);
            }
            §§pop();
            if(_loc1_)
            {
            }
            §§goto(addr71);
         }
         addr71:
         if(!_loc1_)
         {
            §§push(delete this.pChar.GuildRank);
         }
         this.disconnectGuild();
      }
      
      public function disbandguild() : void
      {
         var _loc1_:Boolean = true;
         var _loc2_:Boolean = false;
         if(!_loc2_)
         {
            this.getC().send("DisbandGuild");
            if(!_loc2_)
            {
               this.q.addChatTxt(this.chattxt,"The guild " + this.pChar.Guild + " has disbanded.","Public",16776960);
               if(!_loc2_)
               {
                  §§push(delete this.pChar.Guild);
                  if(_loc1_)
                  {
                     §§pop();
                     §§goto(addr73);
                  }
                  §§pop();
                  if(_loc1_)
                  {
                     this.disconnectGuild();
                  }
                  §§goto(addr73);
               }
            }
            §§goto(addr64);
         }
         addr73:
         if(!_loc2_)
         {
            addr64:
            §§push(delete this.pChar.GuildRank);
         }
      }
      
      public function openWarDeclaration() : void
      {
         var _loc3_:Boolean = false;
         var _loc4_:Boolean = true;
         var _loc1_:MovieClip = null;
         _loc1_ = this.guildwarmc = new GuildWarDeclare() as MovieClip;
         if(_loc4_)
         {
            addChildAt(_loc1_,getChildIndex(this.mouse));
            if(_loc4_)
            {
               _loc1_.x = stage.stageWidth / 2;
               if(!_loc3_)
               {
                  _loc1_.y = stage.stageHeight / 2;
                  if(!_loc3_)
                  {
                     addr75:
                     this.q.fadeIn(_loc1_);
                  }
               }
            }
            return;
         }
         §§goto(addr75);
      }
      
      public function generateBlends(param1:MovieClip) : void
      {
         var _loc13_:Boolean = false;
         var _loc14_:Boolean = true;
         var _loc2_:MovieClip = null;
         var _loc3_:MovieClip = null;
         var _loc4_:MovieClip = null;
         var _loc5_:* = 0;
         var _loc6_:MovieClip = null;
         var _loc7_:MovieClip = null;
         var _loc8_:* = 0;
         var _loc9_:AnimatedBitmapData = null;
         var _loc10_:AnimatedBitmap = null;
         var _loc11_:Object = null;
         var _loc12_:* = 0;
         if(_loc14_)
         {
            this.clearblends(param1.pname);
         }
         _loc3_ = param1.a;
         if((_loc4_ = _loc3_.getChildAt(0)).wep)
         {
            if(_loc14_)
            {
               _loc2_ = _loc4_.wep;
               addr71:
               if(_loc4_.weapon)
               {
                  if(!_loc13_)
                  {
                     _loc2_ = _loc4_.weapon;
                     addr80:
                     if(_loc4_.wep1)
                     {
                        if(!_loc13_)
                        {
                           addr85:
                           _loc2_ = _loc4_.wep1;
                           §§goto(addr89);
                        }
                        §§goto(addr96);
                     }
                     addr89:
                     §§push(1);
                     if(!_loc13_)
                     {
                        _loc5_ = §§pop();
                        if(_loc14_)
                        {
                           addr96:
                           while(true)
                           {
                              §§push(_loc5_);
                           }
                           addr232:
                        }
                        §§goto(addr235);
                     }
                     for(; §§pop() <= 3; §§goto(addr232))
                     {
                        if(!(_loc7_ = _loc2_["blend" + _loc5_]))
                        {
                           break;
                        }
                        trace("Blend " + _loc5_ + ": " + _loc7_);
                        if(!this.q.vectorContains(this.setWeaponBlends,param1.pname))
                        {
                           if(_loc14_)
                           {
                              §§push(1);
                              if(!_loc13_)
                              {
                                 _loc8_ = §§pop();
                                 addr133:
                                 if(_loc7_.frameSpeed)
                                 {
                                    if(_loc14_)
                                    {
                                       addr142:
                                       _loc8_ = int(_loc7_.frameSpeed);
                                       addr143:
                                       _loc9_ = new AnimatedBitmapData(_loc7_,true,false,0,1,null,null,"",_loc8_);
                                       (_loc10_ = new AnimatedBitmap(_loc9_,Event.ENTER_FRAME,60,false,"auto",false)).mouseEnabled = false;
                                       if(!_loc13_)
                                       {
                                          _loc10_.mouseChildren = false;
                                       }
                                       (_loc11_ = new Object()).ab = _loc10_;
                                       if(_loc14_)
                                       {
                                          _loc11_.ab._destroyData = true;
                                          _loc11_.wepmc = _loc2_.name;
                                          if(_loc14_)
                                          {
                                             _loc11_.t = param1;
                                          }
                                          _loc11_.user = param1.pname;
                                          if(!_loc13_)
                                          {
                                             addr211:
                                             _loc11_.blendmc = _loc7_.name;
                                             if(_loc14_)
                                             {
                                                addChild(_loc10_);
                                             }
                                             addr225:
                                             _loc7_.visible = false;
                                             if(_loc14_)
                                             {
                                                addr231:
                                                _loc5_++;
                                             }
                                             continue;
                                          }
                                          this.weaponBlends.push(_loc11_);
                                          §§goto(addr225);
                                       }
                                       §§goto(addr211);
                                    }
                                    §§goto(addr231);
                                 }
                                 §§goto(addr143);
                              }
                              §§goto(addr142);
                           }
                           §§goto(addr133);
                        }
                        §§goto(addr211);
                     }
                     §§goto(addr235);
                  }
                  addr235:
                  if(_loc6_ = _loc4_[param1.wep2])
                  {
                     if(!_loc13_)
                     {
                        §§push(1);
                        if(_loc14_)
                        {
                           _loc12_ = §§pop();
                           if(!_loc13_)
                           {
                              while(true)
                              {
                                 §§push(_loc12_);
                                 §§goto(addr374);
                              }
                           }
                           §§goto(addr389);
                        }
                        addr374:
                        §§goto(addr379);
                     }
                  }
                  addr379:
                  while(true)
                  {
                     if(§§pop() > 3)
                     {
                        if(_loc14_)
                        {
                           break;
                        }
                     }
                     else
                     {
                        if(!(_loc7_ = _loc6_["blend" + _loc12_]))
                        {
                           break;
                        }
                        trace("Blend " + _loc12_ + ": " + _loc7_);
                        if(this.q.vectorContains(this.setWeaponBlends,param1.pname))
                        {
                           continue loop1;
                        }
                        if(_loc14_)
                        {
                           §§push(1);
                           if(_loc14_)
                           {
                              _loc8_ = §§pop();
                              addr287:
                              if(_loc7_.frameSpeed)
                              {
                                 if(!_loc13_)
                                 {
                                    addr295:
                                    _loc8_ = int(_loc7_.frameSpeed);
                                 }
                              }
                              _loc9_ = new AnimatedBitmapData(_loc7_,true,false,0,1,null,null,"",_loc8_);
                              _loc10_ = new AnimatedBitmap(_loc9_,Event.ENTER_FRAME,60,false,"auto",false);
                              (_loc11_ = new Object()).ab = _loc10_;
                              _loc11_.ab._destroyData = true;
                              if(_loc14_)
                              {
                                 _loc11_.wepmc = _loc6_.name;
                                 _loc11_.t = param1;
                                 if(_loc14_)
                                 {
                                    _loc11_.user = param1.pname;
                                    if(!_loc13_)
                                    {
                                       _loc11_.blendmc = _loc7_.name;
                                    }
                                    addr358:
                                    this.weaponBlends.push(_loc11_);
                                    continue loop1;
                                 }
                                 addChild(_loc10_);
                                 if(_loc13_)
                                 {
                                    continue loop1;
                                 }
                              }
                              §§goto(addr358);
                           }
                           §§goto(addr295);
                        }
                        §§goto(addr287);
                     }
                     continue loop1;
                  }
                  if(!this.q.vectorContains(this.setWeaponBlends,param1.pname))
                  {
                     if(_loc14_)
                     {
                        addr389:
                        this.setWeaponBlends.push(param1.pname);
                     }
                  }
                  return;
               }
               §§goto(addr80);
            }
            §§goto(addr85);
         }
         §§goto(addr71);
      }
      
      public function scaleContentsX(param1:MovieClip, param2:Number, param3:Number) : void
      {
         var _loc7_:Boolean = false;
         var _loc8_:Boolean = true;
         var _loc4_:* = 0;
         var _loc5_:* = 0;
         var _loc6_:DisplayObject = null;
         if(_loc8_)
         {
            §§push(int(param1.numChildren));
            if(_loc8_)
            {
               _loc4_ = §§pop();
               if(!_loc7_)
               {
                  addr43:
                  §§push(0);
                  if(_loc8_)
                  {
                     _loc5_ = §§pop();
                     if(!_loc7_)
                     {
                        addr50:
                        loop0:
                        while(true)
                        {
                           §§push(_loc5_);
                           addr84:
                           for(; §§pop() < _loc4_; continue loop0)
                           {
                              _loc6_ = param1.getChildAt(_loc5_);
                              _loc6_.scaleX *= param2;
                              if(!_loc7_)
                              {
                                 _loc6_.scaleY *= param3;
                                 if(_loc7_)
                                 {
                                    continue;
                                 }
                              }
                              _loc5_++;
                           }
                        }
                     }
                     return;
                  }
                  §§goto(addr84);
               }
               §§goto(addr50);
            }
            §§goto(addr84);
         }
         §§goto(addr43);
      }
      
      public function scaleContentsDivide(param1:MovieClip, param2:Number, param3:Number) : void
      {
         var _loc7_:Boolean = false;
         var _loc8_:Boolean = true;
         var _loc4_:* = 0;
         var _loc5_:* = 0;
         var _loc6_:DisplayObject = null;
         if(!_loc7_)
         {
            §§push(int(param1.numChildren));
            if(!_loc7_)
            {
               _loc4_ = §§pop();
               if(!_loc7_)
               {
                  addr40:
                  §§push(0);
                  if(_loc8_)
                  {
                     _loc5_ = §§pop();
                     if(!_loc7_)
                     {
                        loop1:
                        while(true)
                        {
                           §§push(_loc5_);
                           addr82:
                           while(§§pop() < _loc4_)
                           {
                              _loc6_ = param1.getChildAt(_loc5_);
                              _loc6_.scaleX /= param2;
                              if(!_loc7_)
                              {
                                 _loc6_.scaleY /= param3;
                                 if(!_loc7_)
                                 {
                                    _loc5_++;
                                 }
                              }
                              continue loop1;
                           }
                        }
                     }
                  }
                  §§goto(addr82);
               }
               return;
            }
            §§goto(addr82);
         }
         §§goto(addr40);
      }
      
      public function joinedGuildChat(param1:Connection) : void
      {
         var _loc3_:Boolean = false;
         var _loc4_:Boolean = true;
         var c:Connection = param1;
         this.GuildChannel = c;
         this.joinedgc = true;
         if(_loc4_)
         {
            this.guildtabbtn.visible = true;
            c.addMessageHandler("Chat",function(param1:Message, param2:String, param3:String, param4:int = -1):void
            {
               var _loc7_:Boolean = false;
               var _loc8_:Boolean = true;
               var _loc5_:* = null;
               var _loc6_:Color = null;
               if(_loc8_)
               {
                  §§push(param3);
                  §§push("You have joined Channel");
                  if(_loc8_)
                  {
                     if(§§pop().indexOf(§§pop()) >= 0)
                     {
                        §§push(param3);
                        §§push("You have joined Channel");
                        if(!_loc7_)
                        {
                           param3 = §§pop().replace(§§pop(),getTxt("You have joined Channel"));
                           addr32:
                           §§push(param3);
                           §§push("has joined the guild chat.");
                           if(!_loc8_)
                           {
                           }
                           addr49:
                           param3 = §§pop().replace(§§pop(),getTxt("LeftGuildChat"));
                           if(guildtxt)
                           {
                              §§push(param2);
                              §§push(": ");
                              if(!_loc7_)
                              {
                                 §§push(§§pop() + §§pop());
                                 if(!_loc7_)
                                 {
                                    §§push(§§pop() + param3);
                                 }
                                 §§push(§§pop());
                                 if(!_loc7_)
                                 {
                                    _loc5_ = §§pop();
                                    §§push(param2);
                                    if(!_loc7_)
                                    {
                                       addr74:
                                       if(§§pop() == "")
                                       {
                                          if(_loc8_)
                                          {
                                             §§push(param4);
                                             if(_loc8_)
                                             {
                                                §§push(-1);
                                                if(_loc8_)
                                                {
                                                   if(§§pop() == §§pop())
                                                   {
                                                      if(_loc8_)
                                                      {
                                                         addr88:
                                                         §§push(65280);
                                                         if(!_loc7_)
                                                         {
                                                            param4 = §§pop();
                                                            if(_loc8_)
                                                            {
                                                               addr96:
                                                               _loc5_ = param3;
                                                               addr107:
                                                               q.addChatTxt(guildtxt,_loc5_,"Guild",param4);
                                                               if(!guildtxt.visible)
                                                               {
                                                                  addr116:
                                                                  (_loc6_ = new Color()).brightness = 0.5;
                                                                  if(_loc8_)
                                                                  {
                                                                     guildtabbtn.transform.colorTransform = _loc6_;
                                                                  }
                                                                  §§goto(addr130);
                                                               }
                                                               addr130:
                                                               return;
                                                               addr95:
                                                               addr98:
                                                            }
                                                         }
                                                         §§goto(addr107);
                                                      }
                                                      else
                                                      {
                                                         addr105:
                                                         §§push(65280);
                                                      }
                                                      param4 = §§pop();
                                                      §§goto(addr107);
                                                   }
                                                   §§goto(addr95);
                                                }
                                                else
                                                {
                                                   addr101:
                                                   if(§§pop() == §§pop())
                                                   {
                                                      if(_loc8_)
                                                      {
                                                         §§goto(addr105);
                                                      }
                                                      §§goto(addr116);
                                                   }
                                                }
                                                §§goto(addr107);
                                             }
                                             else
                                             {
                                                addr100:
                                                §§push(-1);
                                             }
                                             §§goto(addr101);
                                          }
                                          §§goto(addr88);
                                       }
                                       else
                                       {
                                          §§push(param4);
                                       }
                                       §§goto(addr100);
                                    }
                                    §§goto(addr96);
                                 }
                              }
                              §§goto(addr74);
                           }
                           §§goto(addr130);
                        }
                        param3 = §§pop().replace(§§pop(),getTxt("JoinedGuildChat"));
                        if(!_loc7_)
                        {
                           §§push(param3);
                           §§push("has left the guild chat.");
                           if(!_loc7_)
                           {
                              §§goto(addr49);
                           }
                           §§goto(addr74);
                        }
                        §§goto(addr98);
                     }
                  }
                  §§goto(addr32);
               }
               §§goto(addr105);
            });
         }
         c.addMessageHandler("NewRank",function(param1:Message):void
         {
            var _loc3_:Boolean = false;
            var _loc4_:Boolean = true;
            if(!_loc3_)
            {
               var C:Client = null;
               if(_loc4_)
               {
                  var m:Message = param1;
                  if(!_loc3_)
                  {
                     addr23:
                     getC().send("NewRank");
                     if(!_loc4_)
                     {
                     }
                     §§goto(addr36);
                  }
                  C = client;
                  if(!_loc4_)
                  {
                  }
                  §§goto(addr36);
               }
               addr36:
               C.bigDB.load("Chars",pChar.key,function(param1:DatabaseObject):void
               {
                  pChar.GuildRank = param1.GuildRank;
               });
               return;
            }
            §§goto(addr23);
         });
      }
      
      public function playSound(param1:String) : void
      {
         var _loc7_:Boolean = false;
         var _loc8_:Boolean = true;
         var _loc3_:Sound = null;
         var _loc4_:SoundChannel = null;
         var _loc5_:* = 0;
         var _loc6_:* = NaN;
         if(!_loc7_)
         {
            if(ApplicationDomain.currentDomain.hasDefinition(param1))
            {
               var _loc2_:Class = getDefinitionByName(param1) as Class;
               _loc3_ = new _loc2_() as Sound;
               _loc4_ = root.soundChannel;
               if(_loc8_)
               {
                  §§push(0);
                  if(_loc8_)
                  {
                     _loc5_ = §§pop();
                     if(!_loc7_)
                     {
                        §§push(1);
                        if(!_loc7_)
                        {
                           addr71:
                           §§push(Number(§§pop()));
                           if(_loc8_)
                           {
                              _loc6_ = §§pop();
                              if(!_loc7_)
                              {
                                 if(root[param1 + "Data"])
                                 {
                                    if(!_loc7_)
                                    {
                                       addr94:
                                       _loc5_ = int(root[param1 + "Data"].Offset);
                                       if(_loc8_)
                                       {
                                          addr112:
                                          _loc6_ = Number(root[param1 + "Data"].vol);
                                          addr105:
                                       }
                                    }
                                    §§goto(addr105);
                                 }
                              }
                              (_loc4_ = _loc3_.play(_loc5_)).soundTransform = new SoundTransform(_loc6_ * this.soundTransformer.volume);
                              return;
                           }
                           §§goto(addr112);
                        }
                        §§goto(addr94);
                     }
                     §§goto(addr112);
                  }
                  §§goto(addr71);
               }
               §§goto(addr112);
            }
         }
      }
      
      public function Ad(param1:String) : void
      {
         var _loc5_:Boolean = false;
         var _loc6_:Boolean = true;
         var _loc3_:MovieClip = null;
         if(!_loc5_)
         {
            if(!this.ad)
            {
               var _loc2_:Class = getDefinitionByName(param1) as Class;
               _loc3_ = this.ad = new _loc2_() as MovieClip;
               if(_loc6_)
               {
                  addChild(_loc3_);
               }
               return;
            }
         }
      }
      
      public function opentrade(param1:Message, param2:String) : void
      {
         var _loc5_:Boolean = false;
         var _loc6_:Boolean = true;
         var _loc3_:MovieClip = null;
         _loc3_ = this.trademc = new Trade() as MovieClip;
         if(_loc6_)
         {
            _loc3_.tradep = param2;
            if(!_loc5_)
            {
               addr47:
               addChildAt(_loc3_,getChildIndex(this.mouse));
            }
            return;
         }
         §§goto(addr47);
      }
      
      public function tradem(param1:Message, param2:String) : void
      {
         var _loc4_:Boolean = true;
         var _loc5_:Boolean = false;
         if(!_loc5_)
         {
            var mc:MovieClip = null;
            var m:Message = param1;
            var n:String = param2;
            mc = new Confirm() as MovieClip;
         }
         mc.txt = n + " " + this.getTxt("WantsTrade",mc.titletxt);
         mc.title = this.getTxt("Trade",mc.bg.titletxt);
         addChildAt(mc,getChildIndex(this.mouse));
         mc.confirmation = function():void
         {
            getC().send("Trade",n,true);
         };
         mc.decline = function():void
         {
            getC().send("Trade",n,false);
         };
      }
      
      public function trade(param1:String) : void
      {
         var _loc2_:Boolean = true;
         var _loc3_:Boolean = false;
         if(!_loc3_)
         {
            if(this.trademc)
            {
               if(!_loc3_)
               {
                  §§goto(addr23);
               }
            }
            else
            {
               this.getC().send("Trade",param1,true);
            }
            return;
         }
         addr23:
      }
      
      public function tradelock(param1:Message, param2:int) : void
      {
         var _loc3_:Boolean = false;
         var _loc4_:Boolean = true;
         if(_loc4_)
         {
            if(!this.trademc)
            {
               if(!_loc3_)
               {
                  §§goto(addr30);
               }
            }
            else
            {
               this.trademc.lock2 = param2;
               if(!_loc3_)
               {
                  this.trademc.o2.gotoAndStop(param2);
               }
            }
            return;
         }
         addr30:
      }
      
      public function tradeinv(param1:Message, param2:String, param3:Boolean) : void
      {
         var _loc4_:Boolean = false;
         var _loc5_:Boolean = true;
         if(!this.trademc)
         {
            return;
         }
         §§push(param3);
         if(_loc5_)
         {
            if(§§pop())
            {
               this.itemlist(this.trademc.side1,Vector.<String>(param2.split(",")),8,"Trade",false);
            }
            §§push(param3);
         }
         if(!§§pop())
         {
            this.itemlist(this.trademc.side2,Vector.<String>(param2.split(",")),8,"Trade",false);
         }
         this.trademc.lock1 = 1;
         if(_loc5_)
         {
            this.trademc.lock2 = 1;
            this.trademc.o2.gotoAndStop(1);
            if(_loc5_)
            {
               addr91:
               this.trademc.o1.gotoAndStop(1);
            }
            return;
         }
         §§goto(addr91);
      }
      
      public function tu(param1:Message, param2:int, param3:int) : void
      {
         var _loc4_:Boolean = false;
         var _loc5_:Boolean = true;
         trace("got trade amounts");
         if(!this.trademc)
         {
            return;
         }
         this.trademc.denars2.text = String(param2);
         this.trademc.gold2.text = String(param3);
         if(!_loc4_)
         {
            this.trademc.lock1 = 1;
            if(!_loc4_)
            {
               addr60:
               this.trademc.lock2 = 1;
            }
            this.trademc.o2.gotoAndStop(1);
            if(!_loc4_)
            {
               this.trademc.o1.gotoAndStop(1);
            }
            return;
         }
         §§goto(addr60);
      }
      
      public function loadBranch() : void
      {
         var _loc2_:Boolean = false;
         var _loc3_:Boolean = true;
         var loadedBranch:* = undefined;
         var c:Client = null;
         loadedBranch = function(param1:DatabaseObject):void
         {
            var _loc2_:Boolean = false;
            var _loc3_:Boolean = true;
            root.branch = param1.b + "-" + language;
            if(_loc3_)
            {
               trace("Loaded branch " + param1.b);
            }
         };
         c = root.client;
         if(!_loc2_)
         {
            if(c != null)
            {
               c.bigDB.load("B","b",loadedBranch);
               return;
            }
         }
      }
      
      public function translateTexts(param1:DisplayObject, param2:Boolean = true) : void
      {
         var _loc6_:Boolean = false;
         var _loc7_:Boolean = true;
         var _loc3_:* = 0;
         var _loc4_:* = 0;
         var _loc5_:DisplayObject = null;
         if(_loc7_)
         {
            §§push(int(param1.numChildren));
            if(_loc7_)
            {
               _loc3_ = §§pop();
               if(_loc7_)
               {
                  addr35:
                  §§push(0);
                  if(!_loc6_)
                  {
                     addr39:
                     _loc4_ = §§pop();
                     if(_loc7_)
                     {
                        while(true)
                        {
                           §§push(_loc4_);
                        }
                        addr147:
                        return;
                        addr144:
                     }
                     §§goto(addr147);
                  }
                  while(true)
                  {
                     if(§§pop() < _loc3_)
                     {
                        §§push((_loc5_ = param1.getChildAt(_loc4_)) is MovieClip);
                        if(_loc7_)
                        {
                           §§push(§§pop());
                           if(_loc7_)
                           {
                              if(!§§pop())
                              {
                                 if(_loc7_)
                                 {
                                    §§pop();
                                    §§push(_loc5_ is Sprite);
                                    if(_loc7_)
                                    {
                                       addr76:
                                       if(!§§pop())
                                       {
                                          if(!_loc6_)
                                          {
                                             §§pop();
                                             §§push(_loc5_ is Loader);
                                             if(_loc6_)
                                             {
                                             }
                                             addr94:
                                             if(!§§pop())
                                             {
                                                if(_loc6_)
                                                {
                                                }
                                             }
                                             else
                                             {
                                                _loc5_.text = root.getTxt(!!_loc5_.multiline ? _loc5_.name.split("_").join(" ") : _loc5_.text,!!param2 ? _loc5_ : null,false,false,!!param2 ? "Familiar Pro" : "Poor Richard");
                                                if(!_loc7_)
                                                {
                                                   continue;
                                                }
                                             }
                                             _loc4_++;
                                             continue;
                                          }
                                       }
                                    }
                                    §§goto(addr94);
                                 }
                                 if(§§pop())
                                 {
                                    this.translateTexts(_loc5_);
                                 }
                                 else
                                 {
                                    §§goto(addr94);
                                    §§push(_loc5_ is TextField);
                                 }
                                 §§goto(addr94);
                              }
                           }
                           §§goto(addr76);
                        }
                        §§goto(addr94);
                     }
                  }
               }
               §§goto(addr147);
            }
            §§goto(addr39);
         }
         §§goto(addr35);
      }
      
      public function translateButtons(param1:DisplayObject, param2:Number = 0.6, param3:Number = 10) : void
      {
         var _loc7_:Boolean = true;
         var _loc8_:Boolean = false;
         var _loc4_:* = 0;
         var _loc5_:* = 0;
         var _loc6_:DisplayObject = null;
         if(_loc7_)
         {
            §§push(int(param1.numChildren));
            if(!_loc8_)
            {
               _loc4_ = §§pop();
               if(_loc7_)
               {
                  §§push(0);
                  if(!_loc8_)
                  {
                     §§goto(addr42);
                  }
                  §§goto(addr76);
               }
               §§goto(addr45);
            }
            addr42:
            _loc5_ = §§pop();
            if(!_loc8_)
            {
               addr45:
               loop1:
               while(true)
               {
                  §§push(_loc5_);
                  addr76:
                  while(§§pop() < _loc4_)
                  {
                     if((_loc6_ = param1.getChildAt(_loc5_)) is SimpleButton)
                     {
                        if(_loc8_)
                        {
                           continue loop1;
                        }
                        this.changeButtonText(_loc6_,"",param2,param3);
                        if(_loc8_)
                        {
                           continue loop1;
                        }
                     }
                     _loc5_++;
                     continue loop1;
                  }
               }
            }
            return;
         }
         §§goto(addr45);
      }
      
      public function changeButtonText(param1:SimpleButton, param2:String = "", param3:Number = 0.6, param4:Number = 10) : void
      {
         var _loc6_:Boolean = false;
         var _loc7_:Boolean = true;
         var DO:DisplayObject = null;
         if(!_loc6_)
         {
            var btn:SimpleButton = param1;
            var txt:String = param2;
         }
         var txtf:Number = param3;
         var minsize:Number = param4;
         var getTxtF:* = function(param1:DisplayObject):TextField
         {
            var _loc3_:Boolean = false;
            var _loc4_:Boolean = true;
            var _loc2_:* = 0;
            if(!_loc3_)
            {
               if(!param1)
               {
                  if(!_loc3_)
                  {
                     return;
                  }
               }
               else
               {
                  §§push(0);
                  if(!_loc3_)
                  {
                     _loc2_ = §§pop();
                     if(_loc4_)
                     {
                        addr23:
                        while(true)
                        {
                           §§push(_loc2_);
                        }
                        addr39:
                     }
                     §§goto(addr43);
                  }
                  while(§§pop() < param1.numChildren)
                  {
                     if(param1.getChildAt(_loc2_) is TextField)
                     {
                        if(_loc4_)
                        {
                           return param1.getChildAt(_loc2_);
                        }
                     }
                     else
                     {
                        _loc2_++;
                     }
                     §§goto(addr39);
                  }
               }
               addr43:
               return null;
            }
            §§goto(addr23);
         };
         DO = btn.upState as DisplayObjectContainer;
         if(_loc7_)
         {
            §§push(txt);
            if(!_loc6_)
            {
               §§push("");
               if(!_loc6_)
               {
                  §§push(§§pop() == §§pop());
                  §§push(§§pop() == §§pop());
                  if(_loc7_)
                  {
                     if(§§pop())
                     {
                        if(!_loc6_)
                        {
                           §§pop();
                           if(!_loc6_)
                           {
                              addr81:
                              if(getTxtF(DO))
                              {
                                 txt = getTxtF(DO).text;
                              }
                              if(getTxtF(DO))
                              {
                                 getTxtF(DO).text = this.getTxt(txt,getTxtF(DO),true,false,"Familiar Pro",txtf,minsize);
                              }
                              DO = btn.overState as DisplayObjectContainer;
                              §§push(txt);
                              if(_loc7_)
                              {
                                 addr143:
                                 §§push("");
                                 if(_loc7_)
                                 {
                                    addr148:
                                    §§push(§§pop() == §§pop());
                                    §§push(§§pop() == §§pop());
                                    if(_loc7_)
                                    {
                                       if(§§pop())
                                       {
                                          §§pop();
                                          §§push(Boolean(getTxtF(DO)));
                                       }
                                       if(§§pop())
                                       {
                                          txt = getTxtF(DO).text;
                                       }
                                       if(getTxtF(DO))
                                       {
                                          getTxtF(DO).text = this.getTxt(txt,getTxtF(DO),true,false,"Familiar Pro",txtf,minsize);
                                          addr203:
                                          DO = btn.downState as DisplayObjectContainer;
                                          §§push(txt);
                                       }
                                       §§goto(addr203);
                                    }
                                    §§goto(addr216);
                                 }
                                 addr214:
                                 addr216:
                                 if(§§pop())
                                 {
                                    §§pop();
                                    §§push(Boolean(getTxtF(DO)));
                                 }
                                 if(§§pop())
                                 {
                                    if(!_loc6_)
                                    {
                                       txt = getTxtF(DO).text;
                                    }
                                 }
                                 if(getTxtF(DO))
                                 {
                                    getTxtF(DO).text = this.getTxt(txt,getTxtF(DO),true,false,"Familiar Pro",txtf,minsize);
                                    addr245:
                                 }
                                 return;
                                 §§push(§§pop() == §§pop());
                                 §§push(§§pop() == §§pop());
                              }
                              §§goto(addr214);
                              §§push("");
                           }
                           §§goto(addr245);
                        }
                        §§goto(addr148);
                     }
                     §§goto(addr81);
                  }
                  §§goto(addr148);
               }
               §§goto(addr214);
            }
            §§goto(addr143);
         }
         §§goto(addr203);
      }
      
      public function getTxt(param1:String, param2:TextField = null, param3:Boolean = true, param4:Boolean = false, param5:String = "Familiar Pro", param6:Number = 0.6, param7:Number = 10) : String
      {
         var _loc14_:Boolean = true;
         var _loc15_:Boolean = false;
         var newtxt:String = null;
         if(_loc14_)
         {
            var txtformat:TextFormat = null;
            if(!_loc15_)
            {
               var txt:String = param1;
            }
            var txtf:TextField = param2;
            if(!_loc15_)
            {
               var apply:Boolean = param3;
               if(_loc14_)
               {
                  var keepSize:Boolean = param4;
                  if(_loc14_)
                  {
                     var font:String = param5;
                     var txtfactor:Number = param6;
                     var minsize:Number = param7;
                  }
                  trace("getTXT " + txt);
                  if(!_loc15_)
                  {
                     var _loc10_:int = 0;
                     var _loc11_:* = §§checkfilter(this.xml.§*§);
                     var _loc9_:* = new XMLList("");
                     §§push(§§findproperty(String));
                     this.xml.§*§.(@id == txt);
                     §§pop().§§slot[8] = (§§newactivation()).String(_loc9_).split("\\n").join("\n");
                     §§push(newtxt);
                     if(!_loc15_)
                     {
                        §§push(§§pop() == null);
                        §§push(§§pop() == null);
                        if(!_loc15_)
                        {
                           if(!§§pop())
                           {
                              §§pop();
                              §§push(newtxt);
                              §§push("");
                              if(_loc14_)
                              {
                                 addr134:
                                 if(§§pop() == §§pop())
                                 {
                                    §§push(txt);
                                    §§push("The");
                                    if(!_loc15_)
                                    {
                                       if(§§pop() == §§pop())
                                       {
                                          if(_loc14_)
                                          {
                                             return "";
                                          }
                                          else
                                          {
                                             addr239:
                                             if(txtf.name == "txt")
                                             {
                                                addr244:
                                                txtformat.size *= 0.8;
                                             }
                                             addr252:
                                             txtformat.leading = 2;
                                             addr283:
                                             txtf.defaultTextFormat = txtformat;
                                             addr290:
                                             addr288:
                                             if(apply)
                                             {
                                                if(_loc14_)
                                                {
                                                   txtf.text = newtxt;
                                                   if(!_loc14_)
                                                   {
                                                   }
                                                   return String(this.xml.§*§.(@id == txt)).split("\\n").join("\n");
                                                   addr348:
                                                }
                                                §§goto(addr348);
                                             }
                                             _loc10_ = 0;
                                             _loc11_ = §§checkfilter(this.xml.§*§);
                                             _loc9_ = new XMLList("");
                                             §§push(§§findproperty(String));
                                             this.xml.§*§.(@id == txt);
                                             §§pop().trace(trace(_loc9_).split("\\n").join("\n"));
                                             §§goto(addr348);
                                          }
                                       }
                                       else
                                       {
                                          return txt;
                                       }
                                       return §§pop();
                                    }
                                    addr175:
                                    if(§§pop() == §§pop())
                                    {
                                       txtformat.font = font;
                                       §§push(keepSize);
                                       if(!_loc15_)
                                       {
                                          if(!§§pop())
                                          {
                                             if(!_loc15_)
                                             {
                                                txtformat.size *= txtfactor;
                                                txtformat.size = txtformat.size < minsize ? minsize : txtformat.size;
                                                if(_loc14_)
                                                {
                                                   addr225:
                                                   §§push(keepSize);
                                                   if(_loc14_)
                                                   {
                                                      addr231:
                                                      if(§§pop() && txtf.parent is Tooltip)
                                                      {
                                                         §§goto(addr239);
                                                      }
                                                      §§goto(addr252);
                                                   }
                                                   §§goto(addr290);
                                                }
                                                §§goto(addr288);
                                             }
                                             §§goto(addr239);
                                          }
                                          §§goto(addr225);
                                       }
                                       §§goto(addr232);
                                    }
                                    else
                                    {
                                       addr260:
                                       if(this.language == "ru")
                                       {
                                          txtformat.font = "Franklin Gothic Medium";
                                          addr265:
                                          §§push(keepSize);
                                          if(!_loc15_)
                                          {
                                             if(!§§pop())
                                             {
                                                txtformat.size *= 0.8;
                                             }
                                             txtformat.leading = 2;
                                             §§goto(addr283);
                                          }
                                          §§goto(addr239);
                                       }
                                    }
                                    §§goto(addr239);
                                 }
                                 else if(txtf)
                                 {
                                    txtformat = txtf.defaultTextFormat;
                                    if(!_loc15_)
                                    {
                                       txtf.embedFonts = true;
                                       §§push(this.language);
                                       if(_loc14_)
                                       {
                                          addr171:
                                          §§push("lv");
                                          if(!_loc15_)
                                          {
                                             §§goto(addr175);
                                          }
                                       }
                                       §§goto(addr260);
                                    }
                                    §§goto(addr225);
                                 }
                                 §§goto(addr348);
                              }
                              §§goto(addr260);
                           }
                           §§goto(addr134);
                        }
                        §§goto(addr231);
                     }
                     §§goto(addr171);
                  }
               }
               §§goto(addr232);
            }
            §§goto(addr244);
         }
         §§goto(addr265);
      }
      
      public function branchtimer(param1:TimerEvent) : void
      {
         var _loc2_:Boolean = false;
         var _loc3_:Boolean = true;
         param1 = null;
         if(!_loc2_)
         {
            this.loadBranch();
         }
      }
      
      public function garbagetimer(param1:TimerEvent) : void
      {
         var _loc4_:Boolean = true;
         var _loc5_:Boolean = false;
         if(!_loc5_)
         {
            var e:TimerEvent = param1;
            if(!_loc5_)
            {
               e = null;
               addr28:
            }
            try
            {
               new LocalConnection().connect(root.foo);
               if(!_loc5_)
               {
                  new LocalConnection().connect(root.foo);
               }
            }
            catch(e2:*)
            {
               if(_loc4_)
               {
                  e2 = null;
               }
            }
            return;
         }
         §§goto(addr28);
      }
      
      public function rightclick(param1:MouseEvent) : void
      {
         var _loc3_:Boolean = false;
         var _loc4_:Boolean = true;
         var _loc2_:MovieClip = null;
         if(_loc4_)
         {
            trace("Right");
            if(!_loc3_)
            {
               §§goto(addr27);
            }
            §§goto(addr33);
         }
         addr27:
         if(this.rclick !== null)
         {
            if(!_loc3_)
            {
               addr33:
               this.rclick();
               if(!_loc3_)
               {
                  §§goto(addr37);
               }
            }
            §§goto(addr49);
         }
         addr37:
         if(param1.target is AnimatedBitmap)
         {
            if(_loc4_)
            {
               trace(param1.target.name);
               _loc2_ = this.pmcs[param1.target.name.split(",")[0] + "_mc"];
               addr49:
               if(!_loc3_)
               {
                  §§push(!_loc2_);
                  if(!_loc3_)
                  {
                     §§push(Boolean(§§pop()));
                     if(_loc4_)
                     {
                        §§push(§§pop());
                        if(!_loc3_)
                        {
                           if(!§§pop())
                           {
                              if(!_loc3_)
                              {
                                 addr86:
                                 §§pop();
                                 if(_loc4_)
                                 {
                                    §§push(Boolean(_loc2_.enemy));
                                    if(!_loc3_)
                                    {
                                       addr104:
                                       if(!§§pop())
                                       {
                                          if(_loc4_)
                                          {
                                             §§pop();
                                             §§goto(addr125);
                                          }
                                       }
                                    }
                                    if(§§pop())
                                    {
                                       if(!_loc3_)
                                       {
                                          return;
                                       }
                                       §§goto(addr125);
                                    }
                                    else
                                    {
                                       this.prc(_loc2_);
                                       §§goto(addr125);
                                    }
                                    §§goto(addr125);
                                 }
                                 §§goto(addr112);
                              }
                           }
                        }
                     }
                     §§goto(addr104);
                  }
                  §§goto(addr86);
               }
               §§goto(addr112);
            }
            §§goto(addr49);
         }
         addr125:
         if(!_loc3_)
         {
            addr112:
            §§push(_loc2_.pname == this.pChar.key);
         }
      }
      
      public function leftclick(param1:MouseEvent) : void
      {
         var _loc3_:Boolean = false;
         var _loc4_:Boolean = true;
         var amc:DisplayObject = null;
         var sound:Click = null;
         if(!_loc3_)
         {
            var door:String = null;
            if(_loc4_)
            {
               var doorn:String = null;
               if(!_loc3_)
               {
                  var addtxt:String = null;
                  var e:MouseEvent = param1;
                  if(_loc4_)
                  {
                     §§push(Boolean(root.loadmc));
                     if(Boolean(root.loadmc))
                     {
                        §§pop();
                        §§push(Boolean(e.target == root.loadmc.cancelbtn));
                        if(_loc4_)
                        {
                           addr72:
                           if(§§pop())
                           {
                              if(_loc4_)
                              {
                                 §§pop();
                                 if(!_loc3_)
                                 {
                                    §§push(root.connection == null);
                                    if(!_loc3_)
                                    {
                                       addr86:
                                       if(§§pop())
                                       {
                                          trace("Cancel");
                                          if(!_loc3_)
                                          {
                                             gotoAndStop(5);
                                             this.q.remove(this.loadmc);
                                             this.leaveBattle(true,false);
                                          }
                                          return;
                                       }
                                       trace(e.target.name);
                                       sound = new Click();
                                       if(!_loc3_)
                                       {
                                          §§push(e.target is TextField);
                                          if(_loc4_)
                                          {
                                             if(!§§pop())
                                             {
                                                if(!_loc3_)
                                                {
                                                   stage.focus = MovieClip(root);
                                                   addr136:
                                                   §§push(e.target is SimpleButton);
                                                   §§push(e.target is SimpleButton);
                                                   if(_loc4_)
                                                   {
                                                      addr166:
                                                      if(!§§pop())
                                                      {
                                                         §§pop();
                                                         §§push(e.target is TextField);
                                                         §§push(e.target is TextField);
                                                      }
                                                      if(§§pop())
                                                      {
                                                         this.soundChannel = sound.play(0,1);
                                                         this.soundChannel.soundTransform = this.soundTransformer;
                                                      }
                                                      if(e.target == this.btnscroll)
                                                      {
                                                         if(_loc4_)
                                                         {
                                                            if(this.btnscroll.currentFrame == 1)
                                                            {
                                                               this.btnscroll.gotoAndPlay(1);
                                                               if(!_loc3_)
                                                               {
                                                                  addr210:
                                                                  §§push(root.selectedao === null);
                                                                  if(!_loc3_)
                                                                  {
                                                                     §§push(!§§pop());
                                                                     §§push(!§§pop());
                                                                     if(!_loc3_)
                                                                     {
                                                                        if(§§pop())
                                                                        {
                                                                           addr222:
                                                                           §§pop();
                                                                           addr228:
                                                                           if(e.target is AnimatedBitmap)
                                                                           {
                                                                              if(!_loc3_)
                                                                              {
                                                                                 addr232:
                                                                                 §§push(root.selectedao.name in this.npcs);
                                                                                 if(_loc4_)
                                                                                 {
                                                                                    if(§§pop())
                                                                                    {
                                                                                       if(_loc4_)
                                                                                       {
                                                                                          §§push(Boolean(this.npcs[root.selectedao.name].FirstMeet));
                                                                                          if(!_loc3_)
                                                                                          {
                                                                                             addr253:
                                                                                             if(§§pop())
                                                                                             {
                                                                                                if(_loc4_)
                                                                                                {
                                                                                                   §§pop();
                                                                                                   §§push(this.dialogCheck(root.selectedao.name + "FM",root.selectedao.name,"FirstMeet"));
                                                                                                   if(!_loc3_)
                                                                                                   {
                                                                                                      addr274:
                                                                                                      if(!§§pop())
                                                                                                      {
                                                                                                         this.talknpc(root.selectedao.name);
                                                                                                         return;
                                                                                                      }
                                                                                                      if(_loc4_)
                                                                                                      {
                                                                                                         return;
                                                                                                      }
                                                                                                      addr359:
                                                                                                      addtxt = "";
                                                                                                      if(!_loc3_)
                                                                                                      {
                                                                                                         §§push(door);
                                                                                                         if(_loc4_)
                                                                                                         {
                                                                                                            addr370:
                                                                                                            §§push(door);
                                                                                                            if(_loc4_)
                                                                                                            {
                                                                                                               §§push(§§pop().length - 1);
                                                                                                               if(_loc4_)
                                                                                                               {
                                                                                                                  §§push(§§pop().charAt(§§pop()) == "s");
                                                                                                                  §§push(§§pop().charAt(§§pop()) == "s");
                                                                                                                  if(_loc4_)
                                                                                                                  {
                                                                                                                     if(!§§pop())
                                                                                                                     {
                                                                                                                        if(_loc4_)
                                                                                                                        {
                                                                                                                           §§pop();
                                                                                                                           if(_loc4_)
                                                                                                                           {
                                                                                                                              §§push(this.doors[root.selectedao.name] == true);
                                                                                                                              if(_loc4_)
                                                                                                                              {
                                                                                                                                 addr404:
                                                                                                                                 if(§§pop())
                                                                                                                                 {
                                                                                                                                    addtxt = root.getTxt("The") + " ";
                                                                                                                                 }
                                                                                                                                 confirm.txt = root.getTxt("Travel",confirm.titletxt) + " " + addtxt + root.getTxt(door) + "?";
                                                                                                                                 addr438:
                                                                                                                                 confirm.confirmation = function():void
                                                                                                                                 {
                                                                                                                                    root.joinCity(door,doorn in root.mines);
                                                                                                                                 };
                                                                                                                                 root.addChildAt(confirm,getChildIndex(this.mouse));
                                                                                                                                 confirm.x = 400;
                                                                                                                                 if(!_loc3_)
                                                                                                                                 {
                                                                                                                                    confirm.y = 300;
                                                                                                                                    if(!_loc3_)
                                                                                                                                    {
                                                                                                                                       §§goto(addr459);
                                                                                                                                    }
                                                                                                                                    else
                                                                                                                                    {
                                                                                                                                       addr703:
                                                                                                                                       §§push(Boolean(amc.commandclickable));
                                                                                                                                       if(_loc4_)
                                                                                                                                       {
                                                                                                                                          addr710:
                                                                                                                                          if(§§pop())
                                                                                                                                          {
                                                                                                                                             this.openCommand(amc);
                                                                                                                                             if(!_loc3_)
                                                                                                                                             {
                                                                                                                                                addr718:
                                                                                                                                                §§push(Boolean(this.commandmc));
                                                                                                                                                if(_loc4_)
                                                                                                                                                {
                                                                                                                                                   §§push(§§pop());
                                                                                                                                                   if(_loc4_)
                                                                                                                                                   {
                                                                                                                                                      addr726:
                                                                                                                                                      if(§§pop())
                                                                                                                                                      {
                                                                                                                                                         if(_loc4_)
                                                                                                                                                         {
                                                                                                                                                            §§pop();
                                                                                                                                                            addr737:
                                                                                                                                                            if(this.commandmc.currentFrame == this.commandmc.totalFrames)
                                                                                                                                                            {
                                                                                                                                                               addr738:
                                                                                                                                                               this.commandmc.removeEventListener(MouseEvent.CLICK,this.command);
                                                                                                                                                               if(!_loc3_)
                                                                                                                                                               {
                                                                                                                                                                  this.q.removeChildFade(this.commandmc,0.06);
                                                                                                                                                                  addr754:
                                                                                                                                                                  this.commandmc = null;
                                                                                                                                                                  addr757:
                                                                                                                                                                  §§push(Boolean(this.skillmenumc));
                                                                                                                                                                  if(Boolean(this.skillmenumc))
                                                                                                                                                                  {
                                                                                                                                                                     addr762:
                                                                                                                                                                     §§pop();
                                                                                                                                                                     §§push(this.skillmenumc.currentFrame == this.skillmenumc.totalFrames);
                                                                                                                                                                     if(_loc4_)
                                                                                                                                                                     {
                                                                                                                                                                        addr773:
                                                                                                                                                                        if(§§pop())
                                                                                                                                                                        {
                                                                                                                                                                           addr774:
                                                                                                                                                                           this.skillmenumc.removeEventListener(MouseEvent.CLICK,this.skillclick);
                                                                                                                                                                           addr781:
                                                                                                                                                                           this.q.removeChildFade(this.skillmenumc,0.06);
                                                                                                                                                                           addr787:
                                                                                                                                                                           this.dettachTool(this.skillmenumc);
                                                                                                                                                                           if(_loc4_)
                                                                                                                                                                           {
                                                                                                                                                                              if(MovieClip(root).toolmc)
                                                                                                                                                                              {
                                                                                                                                                                                 if(!_loc3_)
                                                                                                                                                                                 {
                                                                                                                                                                                    if(MovieClip(root).toolb)
                                                                                                                                                                                    {
                                                                                                                                                                                       this.toolb.bitmapData.dispose();
                                                                                                                                                                                       if(_loc4_)
                                                                                                                                                                                       {
                                                                                                                                                                                          addr812:
                                                                                                                                                                                          root.removeChild(MovieClip(root).toolb);
                                                                                                                                                                                          if(_loc4_)
                                                                                                                                                                                          {
                                                                                                                                                                                             addr821:
                                                                                                                                                                                             MovieClip(root).toolmc = null;
                                                                                                                                                                                             addr826:
                                                                                                                                                                                             MovieClip(root).toolb = null;
                                                                                                                                                                                             addr831:
                                                                                                                                                                                             this.skillmenumc = null;
                                                                                                                                                                                             addr834:
                                                                                                                                                                                             if(this.prcmc)
                                                                                                                                                                                             {
                                                                                                                                                                                                addr844:
                                                                                                                                                                                                this.q.removeChildFade(this.prcmc);
                                                                                                                                                                                             }
                                                                                                                                                                                          }
                                                                                                                                                                                          §§goto(addr834);
                                                                                                                                                                                       }
                                                                                                                                                                                       §§goto(addr855);
                                                                                                                                                                                    }
                                                                                                                                                                                    §§goto(addr821);
                                                                                                                                                                                 }
                                                                                                                                                                                 §§goto(addr853);
                                                                                                                                                                              }
                                                                                                                                                                              §§goto(addr831);
                                                                                                                                                                           }
                                                                                                                                                                           §§goto(addr855);
                                                                                                                                                                        }
                                                                                                                                                                        §§goto(addr821);
                                                                                                                                                                     }
                                                                                                                                                                     §§goto(addr854);
                                                                                                                                                                  }
                                                                                                                                                                  §§goto(addr773);
                                                                                                                                                               }
                                                                                                                                                               §§goto(addr821);
                                                                                                                                                            }
                                                                                                                                                            §§goto(addr757);
                                                                                                                                                         }
                                                                                                                                                         §§goto(addr855);
                                                                                                                                                      }
                                                                                                                                                      §§goto(addr737);
                                                                                                                                                   }
                                                                                                                                                   §§goto(addr853);
                                                                                                                                                }
                                                                                                                                                §§goto(addr762);
                                                                                                                                             }
                                                                                                                                             §§goto(addr754);
                                                                                                                                          }
                                                                                                                                          §§goto(addr718);
                                                                                                                                       }
                                                                                                                                       §§goto(addr762);
                                                                                                                                    }
                                                                                                                                 }
                                                                                                                                 §§goto(addr737);
                                                                                                                              }
                                                                                                                              else
                                                                                                                              {
                                                                                                                                 addr501:
                                                                                                                                 §§pop();
                                                                                                                                 §§push(this.doors[root.selectedao.name] == true);
                                                                                                                                 if(!_loc3_)
                                                                                                                                 {
                                                                                                                                    addr512:
                                                                                                                                    if(§§pop())
                                                                                                                                    {
                                                                                                                                       addtxt = root.getTxt("The");
                                                                                                                                       if(_loc4_)
                                                                                                                                       {
                                                                                                                                          addr522:
                                                                                                                                          confirm.txt = addtxt + root.getTxt(door) + " " + root.getTxt("IsLocked",confirm.titletxt);
                                                                                                                                          if(!_loc3_)
                                                                                                                                          {
                                                                                                                                             confirm.confirmation = function():void
                                                                                                                                             {
                                                                                                                                             };
                                                                                                                                             root.addChildAt(confirm,getChildIndex(this.mouse));
                                                                                                                                             confirm.x = 400;
                                                                                                                                             confirm.y = 300;
                                                                                                                                             addr558:
                                                                                                                                             trace("added confirm");
                                                                                                                                             if(_loc4_)
                                                                                                                                             {
                                                                                                                                                §§goto(addr564);
                                                                                                                                             }
                                                                                                                                             else
                                                                                                                                             {
                                                                                                                                                §§goto(addr861);
                                                                                                                                             }
                                                                                                                                          }
                                                                                                                                          else
                                                                                                                                          {
                                                                                                                                             §§goto(addr737);
                                                                                                                                          }
                                                                                                                                          §§goto(addr855);
                                                                                                                                       }
                                                                                                                                       §§goto(addr558);
                                                                                                                                    }
                                                                                                                                    §§goto(addr522);
                                                                                                                                 }
                                                                                                                                 else
                                                                                                                                 {
                                                                                                                                    addr672:
                                                                                                                                    if(§§pop())
                                                                                                                                    {
                                                                                                                                       if(!_loc3_)
                                                                                                                                       {
                                                                                                                                          trace(e.target.name.split(",")[0]);
                                                                                                                                          if(_loc4_)
                                                                                                                                          {
                                                                                                                                             trace(amc);
                                                                                                                                             addr694:
                                                                                                                                             §§push(Boolean(amc));
                                                                                                                                             §§push(Boolean(amc));
                                                                                                                                             if(_loc4_)
                                                                                                                                             {
                                                                                                                                                addr697:
                                                                                                                                                if(§§pop())
                                                                                                                                                {
                                                                                                                                                   if(_loc4_)
                                                                                                                                                   {
                                                                                                                                                      §§pop();
                                                                                                                                                      if(!_loc3_)
                                                                                                                                                      {
                                                                                                                                                         §§goto(addr703);
                                                                                                                                                      }
                                                                                                                                                      §§goto(addr754);
                                                                                                                                                   }
                                                                                                                                                   §§goto(addr853);
                                                                                                                                                }
                                                                                                                                                §§goto(addr710);
                                                                                                                                             }
                                                                                                                                             §§goto(addr754);
                                                                                                                                          }
                                                                                                                                          §§goto(addr812);
                                                                                                                                       }
                                                                                                                                       §§goto(addr861);
                                                                                                                                    }
                                                                                                                                    §§goto(addr718);
                                                                                                                                 }
                                                                                                                              }
                                                                                                                              §§goto(addr718);
                                                                                                                           }
                                                                                                                           addr459:
                                                                                                                           trace("added confirm");
                                                                                                                           return;
                                                                                                                        }
                                                                                                                        addr499:
                                                                                                                        if(!§§pop())
                                                                                                                        {
                                                                                                                           §§goto(addr501);
                                                                                                                        }
                                                                                                                        §§goto(addr512);
                                                                                                                     }
                                                                                                                     §§goto(addr404);
                                                                                                                  }
                                                                                                                  §§goto(addr726);
                                                                                                               }
                                                                                                               §§goto(addr754);
                                                                                                            }
                                                                                                            else
                                                                                                            {
                                                                                                               addr491:
                                                                                                               §§push(§§pop().length - 1);
                                                                                                            }
                                                                                                            §§push(§§pop().charAt(§§pop()) == "s");
                                                                                                            if(!_loc3_)
                                                                                                            {
                                                                                                               §§goto(addr499);
                                                                                                            }
                                                                                                            §§goto(addr754);
                                                                                                         }
                                                                                                         else
                                                                                                         {
                                                                                                            addr489:
                                                                                                            §§push(door);
                                                                                                         }
                                                                                                         §§goto(addr491);
                                                                                                      }
                                                                                                      else
                                                                                                      {
                                                                                                         §§goto(addr613);
                                                                                                      }
                                                                                                   }
                                                                                                   else
                                                                                                   {
                                                                                                      addr331:
                                                                                                      §§pop();
                                                                                                      §§push(Boolean(this.q.arrayContains(this.pChar.Quests.Done,"Payoff")));
                                                                                                      if(_loc4_)
                                                                                                      {
                                                                                                         addr343:
                                                                                                         if(§§pop())
                                                                                                         {
                                                                                                            confirm = new Confirm() as MovieClip;
                                                                                                            confirm.title = root.getTxt(door,confirm.bg.titletxt);
                                                                                                            §§goto(addr359);
                                                                                                         }
                                                                                                         else
                                                                                                         {
                                                                                                            confirm = new Confirm() as MovieClip;
                                                                                                            addr470:
                                                                                                            confirm.title = root.getTxt(door,confirm.bg.titletxt);
                                                                                                            if(_loc4_)
                                                                                                            {
                                                                                                               addtxt = "";
                                                                                                               if(_loc4_)
                                                                                                               {
                                                                                                                  addr487:
                                                                                                                  §§goto(addr489);
                                                                                                                  §§push(door);
                                                                                                               }
                                                                                                               §§goto(addr826);
                                                                                                            }
                                                                                                            §§goto(addr762);
                                                                                                         }
                                                                                                      }
                                                                                                      else
                                                                                                      {
                                                                                                         addr648:
                                                                                                         if(§§pop())
                                                                                                         {
                                                                                                            addr649:
                                                                                                            amc = e.target.father;
                                                                                                            if(_loc4_)
                                                                                                            {
                                                                                                               addr658:
                                                                                                               §§push(Boolean(amc));
                                                                                                               if(!_loc3_)
                                                                                                               {
                                                                                                                  addr663:
                                                                                                                  §§push(§§pop());
                                                                                                                  if(!_loc3_)
                                                                                                                  {
                                                                                                                     if(§§pop())
                                                                                                                     {
                                                                                                                        §§pop();
                                                                                                                        §§goto(addr672);
                                                                                                                        §§push(amc is MovieClip);
                                                                                                                     }
                                                                                                                     §§goto(addr672);
                                                                                                                  }
                                                                                                                  §§goto(addr697);
                                                                                                               }
                                                                                                               §§goto(addr672);
                                                                                                            }
                                                                                                            §§goto(addr844);
                                                                                                         }
                                                                                                         §§goto(addr658);
                                                                                                      }
                                                                                                   }
                                                                                                   §§goto(addr672);
                                                                                                }
                                                                                                §§goto(addr501);
                                                                                             }
                                                                                             §§goto(addr274);
                                                                                          }
                                                                                          §§goto(addr754);
                                                                                       }
                                                                                       §§goto(addr404);
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                       §§push(root.selectedao.name in this.doors);
                                                                                       if(_loc4_)
                                                                                       {
                                                                                          if(§§pop())
                                                                                          {
                                                                                             door = root.selectedao.name.split("_").join(" ");
                                                                                             if(_loc4_)
                                                                                             {
                                                                                                addr308:
                                                                                                doorn = root.selectedao.name;
                                                                                                if(_loc4_)
                                                                                                {
                                                                                                   §§push(door);
                                                                                                   if(_loc4_)
                                                                                                   {
                                                                                                      §§push(§§pop() !== "Prison");
                                                                                                      if(_loc4_)
                                                                                                      {
                                                                                                         addr326:
                                                                                                         if(!§§pop())
                                                                                                         {
                                                                                                            if(!_loc3_)
                                                                                                            {
                                                                                                               §§goto(addr331);
                                                                                                            }
                                                                                                            §§goto(addr754);
                                                                                                         }
                                                                                                         §§goto(addr343);
                                                                                                      }
                                                                                                      §§goto(addr855);
                                                                                                   }
                                                                                                   §§goto(addr370);
                                                                                                }
                                                                                                §§goto(addr522);
                                                                                             }
                                                                                             §§goto(addr855);
                                                                                          }
                                                                                          else
                                                                                          {
                                                                                             addr565:
                                                                                             if(e.target is AnimatedBitmap)
                                                                                             {
                                                                                                amc = MovieClip(root).getChildByName(e.target.name.split(",")[0]);
                                                                                                if(_loc4_)
                                                                                                {
                                                                                                   §§push(e.target.name in this.BGItems);
                                                                                                   if(!_loc3_)
                                                                                                   {
                                                                                                      if(§§pop())
                                                                                                      {
                                                                                                         if(!_loc3_)
                                                                                                         {
                                                                                                            §§goto(addr603);
                                                                                                         }
                                                                                                         else
                                                                                                         {
                                                                                                            §§goto(addr718);
                                                                                                         }
                                                                                                      }
                                                                                                      else
                                                                                                      {
                                                                                                         addr622:
                                                                                                         §§push(e.target is MovieClip);
                                                                                                         if(_loc4_)
                                                                                                         {
                                                                                                            §§push(§§pop());
                                                                                                            if(!_loc3_)
                                                                                                            {
                                                                                                               if(§§pop())
                                                                                                               {
                                                                                                                  if(!_loc3_)
                                                                                                                  {
                                                                                                                     §§pop();
                                                                                                                     if(_loc4_)
                                                                                                                     {
                                                                                                                        §§push(Boolean(e.target.father));
                                                                                                                        if(!_loc3_)
                                                                                                                        {
                                                                                                                           §§goto(addr648);
                                                                                                                        }
                                                                                                                        addr853:
                                                                                                                        §§push(Boolean(this.guildrc));
                                                                                                                        if(Boolean(this.guildrc))
                                                                                                                        {
                                                                                                                           addr854:
                                                                                                                           §§pop();
                                                                                                                           addr855:
                                                                                                                           §§goto(addr860);
                                                                                                                        }
                                                                                                                        addr860:
                                                                                                                        if(this.guildrc.alpha > 0)
                                                                                                                        {
                                                                                                                           addr861:
                                                                                                                           this.q.remove(this.guildrc);
                                                                                                                        }
                                                                                                                        return;
                                                                                                                     }
                                                                                                                     §§goto(addr787);
                                                                                                                  }
                                                                                                                  §§goto(addr663);
                                                                                                               }
                                                                                                               §§goto(addr648);
                                                                                                            }
                                                                                                            §§goto(addr754);
                                                                                                         }
                                                                                                         §§goto(addr855);
                                                                                                      }
                                                                                                      §§goto(addr855);
                                                                                                   }
                                                                                                   §§goto(addr663);
                                                                                                }
                                                                                                §§goto(addr781);
                                                                                             }
                                                                                             §§goto(addr622);
                                                                                          }
                                                                                       }
                                                                                    }
                                                                                    §§goto(addr737);
                                                                                 }
                                                                                 §§goto(addr326);
                                                                              }
                                                                              §§goto(addr649);
                                                                           }
                                                                           §§goto(addr565);
                                                                        }
                                                                        §§goto(addr228);
                                                                     }
                                                                     §§goto(addr326);
                                                                  }
                                                                  §§goto(addr222);
                                                                  addr199:
                                                               }
                                                               §§goto(addr762);
                                                            }
                                                            §§goto(addr199);
                                                         }
                                                         addr564:
                                                         return;
                                                      }
                                                      if(this.btnscroll)
                                                      {
                                                         if(_loc4_)
                                                         {
                                                            this.btnscroll.gotoAndStop(1);
                                                            §§goto(addr210);
                                                         }
                                                         §§goto(addr470);
                                                      }
                                                      §§goto(addr210);
                                                   }
                                                   if(§§pop())
                                                   {
                                                      if(_loc4_)
                                                      {
                                                         §§pop();
                                                         if(_loc4_)
                                                         {
                                                            §§goto(addr166);
                                                            §§push(e.target.type == "input");
                                                         }
                                                         §§goto(addr487);
                                                      }
                                                      §§goto(addr694);
                                                   }
                                                   §§goto(addr166);
                                                }
                                                addr603:
                                                e.target.visible = false;
                                                e.target.mouseEnabled = false;
                                                addr613:
                                                this.getC().send("GotBGItem",e.target.name);
                                                return;
                                             }
                                             §§goto(addr136);
                                          }
                                          §§goto(addr663);
                                       }
                                       §§goto(addr774);
                                    }
                                    §§goto(addr222);
                                 }
                                 §§goto(addr438);
                              }
                              §§goto(addr253);
                           }
                           §§goto(addr86);
                        }
                        §§goto(addr166);
                     }
                     §§goto(addr72);
                  }
                  §§goto(addr738);
               }
               §§goto(addr658);
            }
            §§goto(addr232);
         }
         §§goto(addr308);
      }
      
      public function middleclick(param1:MouseEvent) : void
      {
         var _loc2_:Boolean = false;
         var _loc3_:Boolean = true;
         if(_loc3_)
         {
            trace("Middle");
            if(!_loc2_)
            {
               §§goto(addr32);
            }
            §§goto(addr39);
         }
         addr32:
         if(this.mclick !== null)
         {
            if(!_loc2_)
            {
               addr39:
               this.mclick();
            }
         }
      }
      
      public function leftup(param1:MouseEvent) : void
      {
         var _loc2_:Boolean = true;
         var _loc3_:Boolean = false;
         if(_loc2_)
         {
            if(this.dragb)
            {
               if(!_loc3_)
               {
                  removeChild(this.dragb);
                  if(_loc2_)
                  {
                     §§goto(addr36);
                  }
                  §§goto(addr42);
               }
            }
         }
         addr36:
         this.dragb = null;
         if(!_loc3_)
         {
            addr42:
            this.dragmc = null;
         }
      }
      
      public function talknpc(param1:String) : void
      {
         var _loc2_:Boolean = false;
         var _loc3_:Boolean = true;
         if(this.scenemc)
         {
            return;
         }
         if(this.questtalk)
         {
            return;
         }
         if(this.npctalk)
         {
            if(!_loc2_)
            {
               if(!this.npctalk.closing)
               {
                  this.npctalk.close();
                  if(!_loc2_)
                  {
                     §§goto(addr40);
                  }
                  §§goto(addr99);
               }
               addr40:
               this.npctalk = null;
               if(!_loc2_)
               {
                  this.npctalk = new NPCTalk() as MovieClip;
                  this.npctalk.npc = param1;
                  addr62:
                  this.npctalk.o = this.npcs[param1];
                  addChildAt(this.npctalk,getChildIndex(this.mouse));
                  if(!_loc2_)
                  {
                     this.q.fadeIn(this.npctalk);
                     if(root[param1 + "_arr"])
                     {
                        if(!_loc2_)
                        {
                           addr99:
                           removeChild(root[param1 + "_arr"]);
                        }
                        delete root[param1 + "_arr"];
                     }
                  }
                  §§goto(addr99);
                  addr45:
               }
               return;
            }
            §§goto(addr62);
         }
         §§goto(addr45);
      }
      
      public function lsc(param1:Event) : void
      {
         var _loc2_:Boolean = false;
         var _loc3_:Boolean = true;
         if(!_loc2_)
         {
            this.loadscreensl.contentLoaderInfo.removeEventListener(Event.COMPLETE,this.lsc);
         }
      }
      
      public function loadloop(param1:Event) : void
      {
         var _loc3_:Boolean = true;
         var _loc4_:Boolean = false;
         if(!_loc4_)
         {
            var total:Number = NaN;
            var loadednum:Number = NaN;
            var percloaded:Number = NaN;
            var loadingframe:int = 0;
            if(_loc3_)
            {
               var i:int = 0;
               if(!_loc4_)
               {
                  var e:Event = param1;
                  if(_loc3_)
                  {
                     §§push(this.removedS);
                     if(_loc3_)
                     {
                        if(!§§pop())
                        {
                           i = 0;
                           while(true)
                           {
                              §§push(i);
                              if(!_loc4_)
                              {
                                 if(§§pop() >= numChildren)
                                 {
                                    addr109:
                                    this.removedS = true;
                                    if(!_loc4_)
                                    {
                                       total = this.stage.loaderInfo.bytesTotal;
                                       addr129:
                                       loadednum = this.stage.loaderInfo.bytesLoaded;
                                       §§push(§§newactivation());
                                       §§push(loadednum);
                                       if(_loc3_)
                                       {
                                          §§push(§§pop() / total);
                                          if(!_loc4_)
                                          {
                                             §§push(Number(§§pop()));
                                          }
                                       }
                                       §§pop().§§slot[4] = §§pop();
                                    }
                                    loadingframe = int(108 * percloaded);
                                    this.loadingtxt.text = int(percloaded * 100) + "%";
                                    if(!_loc4_)
                                    {
                                       this.loadingmc1.gotoAndStop(loadingframe);
                                       if(_loc3_)
                                       {
                                          this.loadingmc2.gotoAndStop(loadingframe);
                                          if(_loc3_)
                                          {
                                             addr187:
                                             if(total == loadednum)
                                             {
                                                addr192:
                                                this.loaded = 1;
                                             }
                                             §§push(this.loaded);
                                             break;
                                          }
                                          §§goto(addr192);
                                       }
                                       §§goto(addr235);
                                    }
                                    §§goto(addr187);
                                 }
                                 else
                                 {
                                    §§push(getChildAt(i) is TextField);
                                    if(_loc3_)
                                    {
                                       if(§§pop())
                                       {
                                          if(_loc3_)
                                          {
                                             §§pop();
                                             if(_loc3_)
                                             {
                                                addr84:
                                                if(TextField(getChildAt(i)).text.indexOf("Protected by") >= 0)
                                                {
                                                   if(!_loc4_)
                                                   {
                                                      addr88:
                                                      removeChildAt(i);
                                                      if(_loc4_)
                                                      {
                                                         continue;
                                                      }
                                                   }
                                                }
                                                §§push(i);
                                                if(_loc3_)
                                                {
                                                   §§push(§§pop() + 1);
                                                }
                                                i = §§pop();
                                                continue;
                                             }
                                             §§goto(addr88);
                                          }
                                       }
                                    }
                                    §§goto(addr84);
                                 }
                              }
                              break;
                           }
                           §§push(§§pop() >= 1);
                           if(_loc3_)
                           {
                              if(§§pop())
                              {
                                 if(!_loc4_)
                                 {
                                    addr205:
                                    §§pop();
                                    §§push(this.xml === null);
                                    if(_loc3_)
                                    {
                                       §§push(!§§pop());
                                    }
                                 }
                              }
                           }
                           if(§§pop())
                           {
                              if(!_loc4_)
                              {
                                 this.q.fade(MovieClip(root),2,function():void
                                 {
                                    var _loc1_:Boolean = true;
                                    var _loc2_:Boolean = false;
                                    addChild(new PMagicSplash());
                                    if(!_loc2_)
                                    {
                                       addChild(new MagicSplash());
                                       turnarrowmc = new TurnArrow() as MovieClip;
                                       if(!_loc2_)
                                       {
                                          turnarrowbd = new AnimatedBitmapData(turnarrowmc);
                                          if(_loc1_)
                                          {
                                             q.remove(turnarrowmc);
                                             turnarrowmc = null;
                                             if(_loc1_)
                                             {
                                                turnarrow = new AnimatedBitmap(turnarrowbd,Event.ENTER_FRAME,60);
                                                turnarrow.stop();
                                                turnarrowbd = null;
                                                qs = new QuestState() as MovieClip;
                                                addr58:
                                                qs.id = 1;
                                                if(!_loc2_)
                                                {
                                                   qnew = new AnimatedBitmapData(qs);
                                                   addr68:
                                                   qs.stop();
                                                   qs = new QuestState() as MovieClip;
                                                   qs.id = 2;
                                                   if(!_loc2_)
                                                   {
                                                      qs.getChildAt(0).gotoAndStop(2);
                                                   }
                                                   qactive = new AnimatedBitmapData(qs);
                                                   qs.stop();
                                                   if(!_loc2_)
                                                   {
                                                      qs = new QuestState() as MovieClip;
                                                      if(!_loc2_)
                                                      {
                                                         qs.id = 3;
                                                      }
                                                      §§goto(addr128);
                                                   }
                                                }
                                                qs.getChildAt(0).gotoAndStop(3);
                                                if(_loc1_)
                                                {
                                                   addr115:
                                                   qdone = new AnimatedBitmapData(qs);
                                                   if(_loc1_)
                                                   {
                                                      addr123:
                                                      qs.stop();
                                                   }
                                                   qs = null;
                                                   §§goto(addr128);
                                                }
                                                §§goto(addr123);
                                             }
                                             §§goto(addr68);
                                          }
                                          addr128:
                                          return;
                                       }
                                       §§goto(addr58);
                                    }
                                    §§goto(addr115);
                                 });
                                 if(!_loc3_)
                                 {
                                 }
                              }
                              §§goto(addr235);
                           }
                           else
                           {
                              return;
                           }
                        }
                        §§goto(addr109);
                     }
                     §§goto(addr205);
                  }
                  §§goto(addr187);
               }
               addr235:
               stage.removeEventListener(Event.ENTER_FRAME,this.loadloop);
               return;
            }
            §§goto(addr129);
         }
         §§goto(addr109);
      }
      
      public function faderloop(param1:Event) : void
      {
         var _loc7_:Boolean = false;
         var _loc8_:Boolean = true;
         var _loc2_:MovieClip = null;
         var _loc3_:* = 0;
         var _loc4_:AnimatedBitmap = null;
         var _loc5_:DisplayObject = null;
         var _loc6_:Matrix = null;
         _loc2_ = MovieClip(param1.target);
         if(_loc8_)
         {
            §§push(this.mult);
            if(_loc8_)
            {
               if(§§pop() == 2)
               {
                  if(!_loc7_)
                  {
                     if(_loc2_.currentFrame % 2 == 0)
                     {
                        if(_loc8_)
                        {
                           _loc2_.gotoAndPlay(_loc2_.currentFrame + 1);
                           if(!_loc7_)
                           {
                              addr66:
                              §§push(0);
                              if(!_loc7_)
                              {
                                 _loc3_ = §§pop();
                                 if(_loc7_)
                                 {
                                 }
                                 §§goto(addr163);
                              }
                              loop1:
                              for(; §§pop() < _loc2_.numChildren; while(true)
                              {
                                 continue loop1;
                              })
                              {
                                 if(!(_loc4_ = _loc2_["ao" + _loc3_]))
                                 {
                                    if(!_loc8_)
                                    {
                                       continue;
                                    }
                                 }
                                 else
                                 {
                                    if(!((_loc5_ = _loc2_.getChildAt(_loc3_)) is MovieClip))
                                    {
                                       if(!_loc7_)
                                       {
                                          addr158:
                                          _loc3_++;
                                          continue;
                                       }
                                       addr124:
                                       _loc4_.rotation = _loc5_.rotation;
                                       §§goto(addr158);
                                    }
                                    else
                                    {
                                       _loc5_.visible = false;
                                       if(_loc8_)
                                       {
                                          _loc4_.x = _loc5_.x;
                                          if(_loc8_)
                                          {
                                             _loc4_.y = _loc5_.y;
                                             if(!_loc7_)
                                             {
                                                §§goto(addr124);
                                             }
                                          }
                                       }
                                    }
                                    _loc6_ = _loc5_.transform.matrix;
                                    if(!_loc7_)
                                    {
                                       _loc4_.transform.matrix = _loc6_;
                                       if(!_loc7_)
                                       {
                                          if(_loc2_.currentFrame == _loc2_.totalFrames)
                                          {
                                             if(_loc7_)
                                             {
                                             }
                                          }
                                          §§goto(addr158);
                                       }
                                    }
                                    _loc4_.destroy();
                                 }
                                 §§goto(addr158);
                              }
                              addr163:
                              return;
                              addr160:
                           }
                           §§goto(addr163);
                        }
                        §§goto(addr159);
                     }
                  }
               }
               §§goto(addr66);
            }
            §§goto(addr160);
         }
         §§goto(addr163);
      }
      
      public function sign(param1:MouseEvent) : void
      {
         var _loc2_:Boolean = false;
         var _loc3_:Boolean = true;
         if(!_loc2_)
         {
            this.kongregate.services.showRegistrationBox();
         }
      }
      
      public function onKongregateInPageLogin(param1:Event) : void
      {
         var _loc2_:Boolean = false;
         var _loc3_:Boolean = true;
         if(_loc3_)
         {
            this.kongbtn.removeEventListener(MouseEvent.CLICK,this.sign);
            if(_loc3_)
            {
               removeChild(this.kongbtn);
               if(_loc3_)
               {
                  this.kongregate.services.removeEventListener("login",this.onKongregateInPageLogin);
                  if(_loc3_)
                  {
                     this.isGuest = false;
                     if(_loc3_)
                     {
                        addr63:
                        this.login();
                     }
                  }
               }
               return;
            }
         }
         §§goto(addr63);
      }
      
      public function mousedepth(param1:Boolean = true) : void
      {
         var _loc3_:Boolean = true;
         var _loc4_:Boolean = false;
         var _loc2_:* = 0;
         if(param1)
         {
            this.HUDtoFront();
            if(_loc3_)
            {
               addr24:
               if(this.pi)
               {
                  addChild(this.pi);
               }
               if(this.mapmc)
               {
                  addChild(this.mapmc);
                  if(!_loc4_)
                  {
                     addr40:
                     if(this.mapborder)
                     {
                        addChild(this.mapborder);
                        if(_loc3_)
                        {
                           addr49:
                           if(this.roomlist)
                           {
                              if(_loc3_)
                              {
                                 addChild(this.roomlist);
                                 addr58:
                                 if(this.lobbymc)
                                 {
                                    if(_loc3_)
                                    {
                                       addChild(this.lobbymc);
                                       if(!_loc4_)
                                       {
                                          addr70:
                                          if(this.mapclose)
                                          {
                                             addr73:
                                             addChild(this.mapclose);
                                             if(_loc3_)
                                             {
                                                addr79:
                                                if(this.loadmc)
                                                {
                                                   if(!_loc4_)
                                                   {
                                                      addChild(this.loadmc);
                                                   }
                                                   addr167:
                                                   this.mapchatbg.visible = true;
                                                   if(_loc3_)
                                                   {
                                                      addChild(this.mapchat);
                                                      if(!_loc4_)
                                                      {
                                                         addr180:
                                                         this.mapchat.visible = true;
                                                         if(_loc3_)
                                                         {
                                                            addr187:
                                                            addChild(this.mapinput);
                                                            if(!_loc4_)
                                                            {
                                                               addr194:
                                                               this.mapinput.visible = true;
                                                               addChild(this.mapchatScroll);
                                                               if(_loc3_)
                                                               {
                                                                  this.mapchatScroll.visible = true;
                                                                  if(_loc3_)
                                                                  {
                                                                     addr211:
                                                                     if(this.mouse)
                                                                     {
                                                                        addr214:
                                                                        addChild(this.mouse);
                                                                        if(!_loc4_)
                                                                        {
                                                                           addr221:
                                                                           §§push(0);
                                                                           if(!_loc4_)
                                                                           {
                                                                              _loc2_ = §§pop();
                                                                              while(true)
                                                                              {
                                                                                 §§push(_loc2_);
                                                                              }
                                                                              addr268:
                                                                           }
                                                                           for(; §§pop() < numChildren; §§goto(addr268))
                                                                           {
                                                                              §§push(getChildAt(_loc2_) is TextField);
                                                                              if(!_loc4_)
                                                                              {
                                                                                 if(§§pop())
                                                                                 {
                                                                                    if(!_loc4_)
                                                                                    {
                                                                                       addr238:
                                                                                       §§pop();
                                                                                       if(_loc4_)
                                                                                       {
                                                                                          continue;
                                                                                       }
                                                                                       §§push(TextField(getChildAt(_loc2_)).text.indexOf("Protected by") >= 0);
                                                                                    }
                                                                                 }
                                                                                 if(§§pop())
                                                                                 {
                                                                                    if(!_loc4_)
                                                                                    {
                                                                                       removeChildAt(_loc2_);
                                                                                       if(_loc4_)
                                                                                       {
                                                                                          continue;
                                                                                       }
                                                                                    }
                                                                                 }
                                                                                 _loc2_++;
                                                                                 continue;
                                                                              }
                                                                              §§goto(addr238);
                                                                           }
                                                                        }
                                                                        §§goto(addr271);
                                                                     }
                                                                  }
                                                               }
                                                            }
                                                            §§goto(addr221);
                                                         }
                                                         §§goto(addr194);
                                                      }
                                                      §§goto(addr187);
                                                   }
                                                   §§goto(addr180);
                                                }
                                                §§push(Boolean(this.fader));
                                                if(!_loc4_)
                                                {
                                                   §§push(§§pop());
                                                   if(_loc3_)
                                                   {
                                                      if(§§pop())
                                                      {
                                                         if(_loc3_)
                                                         {
                                                            §§pop();
                                                            if(_loc3_)
                                                            {
                                                               §§push(this.fader.stage !== null);
                                                               if(!_loc4_)
                                                               {
                                                                  addr113:
                                                                  if(§§pop())
                                                                  {
                                                                     addChild(this.fader);
                                                                  }
                                                                  addr121:
                                                                  §§push(Boolean(this.mouseLoad));
                                                                  if(Boolean(this.mouseLoad))
                                                                  {
                                                                     if(_loc4_)
                                                                     {
                                                                     }
                                                                     addr138:
                                                                     if(§§pop())
                                                                     {
                                                                        addChild(this.mouseLoad);
                                                                        if(_loc3_)
                                                                        {
                                                                           addr145:
                                                                           if(this.fps)
                                                                           {
                                                                              addChild(this.fps);
                                                                              if(_loc3_)
                                                                              {
                                                                                 addr154:
                                                                                 if(this.mapmc)
                                                                                 {
                                                                                    if(!_loc4_)
                                                                                    {
                                                                                       addChild(this.mapchatbg);
                                                                                       if(_loc3_)
                                                                                       {
                                                                                          §§goto(addr167);
                                                                                       }
                                                                                       §§goto(addr194);
                                                                                    }
                                                                                    addr271:
                                                                                    return;
                                                                                 }
                                                                                 §§goto(addr211);
                                                                              }
                                                                              §§goto(addr221);
                                                                           }
                                                                           §§goto(addr154);
                                                                        }
                                                                        §§goto(addr211);
                                                                     }
                                                                     §§goto(addr145);
                                                                  }
                                                                  §§goto(addr138);
                                                               }
                                                               §§pop();
                                                               addr134:
                                                               §§goto(addr138);
                                                               §§push(Boolean(this.mouseLoad.stage));
                                                            }
                                                            §§goto(addr167);
                                                         }
                                                         §§goto(addr121);
                                                      }
                                                   }
                                                   §§goto(addr113);
                                                }
                                                §§goto(addr138);
                                             }
                                             §§goto(addr154);
                                          }
                                          §§goto(addr79);
                                       }
                                       §§goto(addr214);
                                    }
                                    §§goto(addr167);
                                 }
                                 §§goto(addr70);
                              }
                              §§goto(addr145);
                           }
                           §§goto(addr58);
                        }
                        §§goto(addr73);
                     }
                     §§goto(addr49);
                  }
                  §§goto(addr134);
               }
               §§goto(addr40);
            }
            §§goto(addr58);
         }
         §§goto(addr24);
      }
      
      public function menuloop(param1:Event) : void
      {
         var _loc2_:Boolean = true;
         var _loc3_:Boolean = false;
         if(!_loc3_)
         {
            §§push(this.key.isDown(Keyboard.INSERT));
            if(_loc2_)
            {
               §§push(Boolean(§§pop()));
               if(!_loc3_)
               {
                  if(§§pop())
                  {
                     if(!_loc3_)
                     {
                        §§pop();
                        §§push(this.key.isDown(Keyboard.SHIFT));
                        if(_loc2_)
                        {
                           addr42:
                           §§push(Boolean(§§pop()));
                        }
                     }
                  }
               }
               if(§§pop())
               {
                  trace("using dev server");
                  if(!_loc3_)
                  {
                     this.dev = true;
                  }
                  §§goto(addr99);
               }
               this.mouse.x = mouseX - 14;
               this.mouse.y = mouseY - 9;
               if(this.mouseLoad)
               {
                  if(_loc2_)
                  {
                     this.mouseLoad.x = mouseX + 16;
                     if(_loc2_)
                     {
                        addr93:
                        if(this.mouseLoad)
                        {
                           if(!_loc3_)
                           {
                              §§goto(addr99);
                           }
                        }
                     }
                  }
                  §§goto(addr99);
               }
               §§goto(addr93);
            }
            §§goto(addr42);
         }
         addr99:
         this.mouseLoad.y = mouseY + 3;
      }
      
      public function completed(param1:Event) : void
      {
         var _loc2_:Boolean = false;
         var _loc3_:Boolean = true;
         if(_loc3_)
         {
            this.sound.removeEventListener(Event.COMPLETE,this.completed);
            if(_loc3_)
            {
               this.musicChannel = this.sound.play(0,1000);
               if(_loc3_)
               {
                  this.musicChannel.soundTransform = this.musicTransformer;
               }
            }
            this.musicSound = this.sound;
            if(!_loc2_)
            {
               this.sound = null;
               if(!_loc2_)
               {
                  addr68:
                  this.musicPlaying = root[this.RoomData.Map.split(" ").join("_") + "Music"];
               }
               return;
            }
         }
         §§goto(addr68);
      }
      
      public function gameloop(param1:Event) : void
      {
         /*
          * Decompilation error
          * Timeout (1 minute) was reached
          * Instruction count: 2886
          */
         throw new flash.errors.IllegalOperationError("Not decompiled due to timeout");
      }
      
      public function sendChatMsg(param1:TextField, param2:Connection) : void
      {
         var _loc3_:Boolean = true;
         var _loc4_:Boolean = false;
         if(!_loc4_)
         {
            if(!param2)
            {
               trace("No chat room connected");
               if(_loc3_)
               {
                  §§goto(addr25);
               }
            }
            else
            {
               §§push(param2 === null);
               if(!_loc4_)
               {
                  §§push(!§§pop());
                  if(_loc3_)
                  {
                     if(§§pop())
                     {
                        if(!_loc4_)
                        {
                           addr54:
                           §§pop();
                           §§push(param2.connected);
                           if(_loc3_)
                           {
                              addr59:
                              §§push(Boolean(§§pop()));
                           }
                        }
                     }
                     if(§§pop())
                     {
                        param2.send("Chat",param1.text);
                        trace("sent " + param1.text);
                        param1.text = "";
                     }
                     §§goto(addr75);
                  }
                  §§goto(addr59);
               }
               §§goto(addr54);
            }
            addr75:
            return;
         }
         addr25:
      }
      
      public function closemapc(param1:MouseEvent) : void
      {
         var _loc2_:Boolean = true;
         var _loc3_:Boolean = false;
         if(!_loc3_)
         {
            this.closemap();
            if(!_loc3_)
            {
               addr22:
               this.RoomData.Type = "City";
            }
            return;
         }
         §§goto(addr22);
      }
      
      public function closemap(param1:Boolean = true) : void
      {
         var _loc2_:Boolean = true;
         var _loc3_:Boolean = false;
         if(_loc2_)
         {
            if(this.q.Loading)
            {
               if(!_loc3_)
               {
                  return;
               }
               §§goto(addr64);
            }
            else
            {
               trace("Closing map");
               if(this.lobbymc)
               {
                  if(_loc2_)
                  {
                     this.lobbymc.clear(param1);
                     if(!_loc3_)
                     {
                        addr38:
                        if(this.mapmc)
                        {
                           this.mapmc.close();
                        }
                        this.q.remove(this.mapmc);
                        if(!_loc3_)
                        {
                           this.q.remove(this.mapborder);
                           addr64:
                           this.q.remove(this.roomlist);
                           this.q.remove(this.lobbymc);
                           this.mapmc = null;
                           this.mapborder = null;
                           §§goto(addr80);
                        }
                        §§goto(addr97);
                     }
                     addr80:
                     this.roomlist = null;
                     this.lobbymc = null;
                     this.mapchat.visible = false;
                     this.mapinput.visible = false;
                     if(!_loc3_)
                     {
                        addr97:
                        this.mapchatbg.visible = false;
                        this.mapchatScroll.visible = false;
                     }
                     if(this.mapclose)
                     {
                        this.mapclose.removeEventListener(MouseEvent.CLICK,this.closemapc);
                        removeChild(this.mapclose);
                        this.mapclose = null;
                     }
                  }
                  §§goto(addr129);
               }
               §§goto(addr38);
            }
            §§goto(addr97);
         }
         addr129:
         this.collectGarbage();
      }
      
      public function openmap() : void
      {
         var _loc3_:Boolean = false;
         var _loc4_:Boolean = true;
         var _loc1_:MovieClip = null;
         var _loc2_:BitmapData = null;
         if(_loc4_)
         {
            this.mapmc = new Map() as MovieClip;
            if(_loc4_)
            {
               this.mapmc.visible = false;
               if(!_loc3_)
               {
                  addChildAt(this.mapmc,getChildIndex(this.mouse));
               }
            }
         }
         _loc1_ = new MapBorder() as MovieClip;
         _loc2_ = new BitmapData(_loc1_.width,_loc1_.height,true,0);
         if(_loc4_)
         {
            stage.quality = "best";
            if(!_loc3_)
            {
               _loc2_.draw(_loc1_);
               if(_loc4_)
               {
                  stage.quality = "low";
                  if(!_loc3_)
                  {
                     addr88:
                     this.mapborder = new Bitmap(_loc2_,"auto",true);
                     if(!_loc3_)
                     {
                        addr97:
                        this.mapborder.visible = false;
                     }
                  }
                  _loc2_ = null;
                  if(!_loc3_)
                  {
                     addChildAt(this.mapborder,getChildIndex(this.mouse));
                     this.mapclose = new Close() as SimpleButton;
                     trace(this.mapclose);
                     this.mapclose.addEventListener(MouseEvent.CLICK,this.closemapc);
                     if(_loc4_)
                     {
                        this.mapclose.x = 770;
                        this.mapclose.y = 28;
                        addChildAt(this.mapclose,getChildIndex(this.mouse));
                        this.mousedepth(false);
                     }
                  }
                  return;
               }
               §§goto(addr88);
            }
         }
         §§goto(addr97);
      }
      
      public function toggleChat() : void
      {
         var _loc1_:Boolean = true;
         var _loc2_:Boolean = false;
         if(_loc1_)
         {
            if(this.ChatRoom == "Public")
            {
               if(this.chattxt)
               {
                  this.chattxt.visible = !this.chatinput.visible;
               }
               if(this.chatScroll)
               {
                  this.chatScroll.visible = !this.chatinput.visible;
                  if(_loc1_)
                  {
                     addr71:
                     if(this.chatinput)
                     {
                        this.chatinput.visible = !this.chatinput.visible;
                        if(_loc1_)
                        {
                           addr90:
                           if(!this.chatinput.visible)
                           {
                              this.publicbtn.x = -400;
                              if(!_loc2_)
                              {
                                 addr100:
                                 this.guildtabbtn.x = -400;
                                 if(!_loc2_)
                                 {
                                    addr119:
                                    if(!this.chatbg)
                                    {
                                    }
                                    addr131:
                                    §§push(Boolean(this.chattxt.visible));
                                    if(_loc1_)
                                    {
                                       if(!§§pop())
                                       {
                                          if(!_loc2_)
                                          {
                                             §§pop();
                                             addr144:
                                             §§push(Boolean(this.guildtxt.visible));
                                          }
                                       }
                                    }
                                    if(§§pop())
                                    {
                                       this.chatmin.x = this.chatminp1.x;
                                       if(_loc1_)
                                       {
                                          addr164:
                                          this.chatmin.y = this.chatminp1.y;
                                          addr170:
                                       }
                                       else
                                       {
                                          addr177:
                                          this.chatmin.y = this.chatminp.y;
                                       }
                                       return;
                                    }
                                    this.chatmin.x = this.chatminp.x;
                                    §§goto(addr177);
                                    §§goto(addr177);
                                 }
                                 this.chatbg.visible = !this.chatbg.visible;
                                 if(!_loc2_)
                                 {
                                    §§goto(addr131);
                                 }
                                 §§goto(addr170);
                              }
                              §§goto(addr144);
                           }
                           else
                           {
                              this.publicbtn.x = 41;
                              this.guildtabbtn.x = 97.6;
                              if(_loc1_)
                              {
                                 §§goto(addr119);
                              }
                           }
                           §§goto(addr177);
                        }
                        §§goto(addr119);
                     }
                     §§goto(addr90);
                     addr45:
                  }
                  §§goto(addr119);
               }
               §§goto(addr45);
            }
            else
            {
               if(this.guildtxt)
               {
                  if(_loc1_)
                  {
                     this.guildtxt.visible = !this.chatinput.visible;
                     addr59:
                     if(this.guildScroll)
                     {
                        if(!_loc2_)
                        {
                           this.guildScroll.visible = !this.chatinput.visible;
                           §§goto(addr71);
                        }
                     }
                     §§goto(addr71);
                  }
                  §§goto(addr164);
               }
               §§goto(addr59);
            }
         }
         §§goto(addr100);
      }
      
      public function openstuff(param1:MouseEvent) : void
      {
         var _loc3_:Boolean = false;
         var _loc4_:Boolean = true;
         var _loc2_:Color = null;
         if(param1.target == logbtn)
         {
            if(!_loc3_)
            {
               if(this.questlog)
               {
                  return;
               }
               this.questlog = new QuestLog() as MovieClip;
               if(_loc4_)
               {
                  this.questlog.x = 400;
                  if(_loc4_)
                  {
                     this.questlog.y = 300;
                     if(!_loc3_)
                     {
                        addChildAt(this.questlog,getChildIndex(this.mouse));
                        if(!_loc3_)
                        {
                           this.questlog.added();
                           if(_loc4_)
                           {
                              this.q.fadeIn(this.questlog);
                           }
                           else
                           {
                              addr144:
                              this.charmc.y = 300;
                              if(_loc4_)
                              {
                                 addChildAt(this.charmc,getChildIndex(this.mouse));
                                 if(!_loc3_)
                                 {
                                    this.q.fadeIn(this.charmc);
                                 }
                                 else
                                 {
                                    addr384:
                                    this.friends();
                                    addr386:
                                 }
                              }
                           }
                           §§goto(addr572);
                        }
                        else
                        {
                           addr200:
                           this.guildtxt.visible = false;
                        }
                        this.guildScroll.visible = false;
                        this.chattxt.visible = true;
                        this.chatScroll.visible = true;
                        if(_loc4_)
                        {
                           this.ChatRoom = "Public";
                           if(_loc3_)
                           {
                              addr348:
                              this.trade(param1.target.parent.p.pname);
                              if(_loc4_)
                              {
                                 addr357:
                              }
                              else
                              {
                                 addr436:
                                 this.settingsmc.x = 286.3;
                                 if(_loc4_)
                                 {
                                    this.settingsmc.y = 178.35;
                                    if(_loc4_)
                                    {
                                       addChildAt(this.settingsmc,getChildIndex(this.mouse));
                                       addr458:
                                       this.q.fadeIn(this.settingsmc);
                                    }
                                    else
                                    {
                                       addr555:
                                       this.q.fadeIn(this.pvpmc);
                                    }
                                 }
                                 else
                                 {
                                    addr521:
                                    this.pvpmc.x = stage.stageWidth / 2;
                                    if(!_loc3_)
                                    {
                                       addr531:
                                       this.pvpmc.y = stage.stageHeight / 2;
                                       if(_loc3_)
                                       {
                                       }
                                    }
                                    else
                                    {
                                       addr566:
                                       MovieClip(root).shop("GoldMall",1);
                                    }
                                 }
                              }
                           }
                           §§goto(addr572);
                        }
                        addChildAt(this.pvpmc,getChildIndex(this.mouse));
                        addr540:
                        §§goto(addr555);
                     }
                     else
                     {
                        addr189:
                        this.leave();
                        if(!_loc4_)
                        {
                        }
                        §§goto(addr572);
                     }
                  }
                  else
                  {
                     §§goto(addr304);
                  }
               }
               §§goto(addr521);
            }
            else
            {
               addr288:
               this.openSkills();
            }
            §§goto(addr572);
         }
         else if(param1.target == this.invbtn)
         {
            if(this.invmc)
            {
               if(!_loc3_)
               {
                  return;
               }
               §§goto(addr144);
            }
            else
            {
               this.invmc = new Inventory() as MovieClip;
               this.invmc.x = 500;
               this.invmc.y = 300;
               addChildAt(this.invmc,getChildIndex(this.mouse));
               if(_loc4_)
               {
                  this.displaymoney();
                  if(_loc4_)
                  {
                     this.q.fadeIn(this.invmc);
                  }
                  else
                  {
                     §§goto(addr386);
                  }
               }
               else
               {
                  addr296:
                  §§push("Guild" in this.pChar);
                  if(!_loc3_)
                  {
                     if(!§§pop())
                     {
                        addr304:
                        return;
                     }
                     this.openguild(this.pChar.Guild);
                  }
                  else
                  {
                     addr511:
                     if(§§pop())
                     {
                        §§goto(addr512);
                     }
                     else
                     {
                        this.pvpmc = new PVP() as MovieClip;
                        if(_loc4_)
                        {
                           §§goto(addr521);
                        }
                        §§goto(addr555);
                     }
                  }
               }
               §§goto(addr572);
            }
            §§goto(addr555);
         }
         else
         {
            if(param1.target == this.charbtn)
            {
               if(_loc4_)
               {
                  if(this.charmc)
                  {
                     if(!_loc3_)
                     {
                        return;
                     }
                     §§goto(addr566);
                  }
                  else
                  {
                     this.charmc = new Character() as MovieClip;
                     this.charmc.x = 250;
                     §§goto(addr144);
                  }
                  §§goto(addr572);
               }
               §§goto(addr540);
            }
            else
            {
               if(param1.target == this.chatmin)
               {
                  this.toggleChat();
                  if(_loc3_)
                  {
                     addr335:
                     this.pShop(this.pChar.key);
                     if(!_loc4_)
                     {
                        §§goto(addr458);
                     }
                  }
               }
               else if(param1.target == this.mapbtn)
               {
                  this.openmap();
               }
               else if(param1.target == this.leavebtn)
               {
                  §§goto(addr189);
               }
               else
               {
                  if(param1.target == this.publicbtn)
                  {
                     §§goto(addr200);
                  }
                  else if(param1.target == this.guildtabbtn)
                  {
                     _loc2_ = new Color();
                     if(_loc4_)
                     {
                        _loc2_.brightness = 0;
                        if(!_loc3_)
                        {
                           this.guildtabbtn.transform.colorTransform = _loc2_;
                           this.guildtxt.visible = true;
                           if(_loc4_)
                           {
                              this.guildScroll.visible = true;
                              if(_loc4_)
                              {
                                 §§goto(addr262);
                              }
                           }
                           §§goto(addr272);
                        }
                        addr262:
                        this.chattxt.visible = false;
                        §§goto(addr266);
                     }
                     addr266:
                     this.chatScroll.visible = false;
                     if(!_loc3_)
                     {
                        addr272:
                        this.ChatRoom = "Guild";
                     }
                     §§goto(addr572);
                  }
                  else if(param1.target == this.skillbtn)
                  {
                     §§goto(addr288);
                  }
                  else if(param1.target == this.guildbtn)
                  {
                     §§goto(addr296);
                  }
                  else if(param1.target.name == "viewguildbtn")
                  {
                     if(!_loc3_)
                     {
                        this.openguild(param1.target.parent.p.guild);
                     }
                  }
                  else if(param1.target == this.shopbtn)
                  {
                     if(!_loc3_)
                     {
                        §§goto(addr335);
                     }
                     else
                     {
                        §§goto(addr357);
                     }
                  }
                  else if(param1.target.name == "tradebtn")
                  {
                     §§goto(addr348);
                  }
                  else if(param1.target.name == "pshopbtn")
                  {
                     if(_loc4_)
                     {
                        this.pShop(param1.target.parent.p.pname);
                        if(_loc3_)
                        {
                           §§goto(addr540);
                        }
                     }
                     else
                     {
                        §§goto(addr521);
                     }
                  }
                  else if(param1.target == this.friendsbtn)
                  {
                     if(_loc4_)
                     {
                        §§goto(addr384);
                     }
                     else
                     {
                        addr403:
                     }
                  }
                  else if(param1.target.name == "friendbtn")
                  {
                     if(_loc4_)
                     {
                        this.addfriend(param1.target.parent.p.pname);
                        if(!_loc3_)
                        {
                           §§goto(addr403);
                        }
                        §§goto(addr572);
                     }
                     else
                     {
                        addr411:
                        this.guildinvite(param1.target.parent.p.pname);
                     }
                  }
                  else if(param1.target.name == "guildinvitebtn")
                  {
                     if(_loc4_)
                     {
                        §§goto(addr411);
                     }
                     else
                     {
                        §§goto(addr531);
                     }
                  }
                  else if(param1.target == this.settingsbtn)
                  {
                     if(this.settingsmc)
                     {
                        if(!_loc3_)
                        {
                           return;
                        }
                        §§goto(addr540);
                     }
                     else
                     {
                        this.settingsmc = new Settings() as MovieClip;
                        §§goto(addr436);
                     }
                  }
                  else
                  {
                     if(param1.target == this.pvpbtn)
                     {
                        if(!_loc3_)
                        {
                           §§push(Boolean(this.pvpmc));
                           if(!_loc3_)
                           {
                              §§push(§§pop());
                              if(!_loc3_)
                              {
                                 if(!§§pop())
                                 {
                                    addr482:
                                    §§pop();
                                    if(_loc4_)
                                    {
                                       addr490:
                                       §§push(Boolean(this.pvpsizemc));
                                       §§push(Boolean(this.pvpsizemc));
                                       if(!_loc3_)
                                       {
                                          addr494:
                                          if(!§§pop())
                                          {
                                             §§pop();
                                             if(!_loc3_)
                                             {
                                                §§push(Boolean(this.pvpcreate));
                                                if(_loc4_)
                                                {
                                                   addr505:
                                                   §§goto(addr511);
                                                   §§push(§§pop() || this.lobbymc);
                                                }
                                                §§goto(addr507);
                                             }
                                             §§goto(addr521);
                                          }
                                       }
                                       §§goto(addr505);
                                    }
                                    §§goto(addr507);
                                 }
                                 §§goto(addr490);
                              }
                              §§goto(addr494);
                           }
                           §§goto(addr482);
                        }
                        addr512:
                        return;
                     }
                     if(param1.target == this.goldmallbtn)
                     {
                        §§goto(addr566);
                     }
                  }
                  §§goto(addr348);
               }
               addr572:
               return;
            }
            §§goto(addr348);
         }
         §§goto(addr189);
      }
      
      public function openSkills() : void
      {
         var _loc3_:Boolean = true;
         var _loc4_:Boolean = false;
         var _loc1_:MovieClip = null;
         if(!_loc4_)
         {
            if(!this.skillmc)
            {
               _loc1_ = this.skillmc = new Skills() as MovieClip;
               if(_loc3_)
               {
                  _loc1_.x = 400;
                  if(_loc3_)
                  {
                     §§goto(addr58);
                  }
                  §§goto(addr73);
               }
               addr58:
               _loc1_.y = 300;
               if(_loc3_)
               {
                  addChildAt(_loc1_,getChildIndex(this.mouse));
                  if(_loc3_)
                  {
                     addr73:
                     this.q.fadeIn(_loc1_);
                  }
               }
               return;
            }
         }
      }
      
      public function pShop(param1:String) : void
      {
         var _loc3_:Boolean = true;
         var _loc4_:Boolean = false;
         var _loc2_:MovieClip = null;
         _loc2_ = this.pmcs[param1 + "_mc"];
         §§push(Boolean(this.pshopmc));
         if(_loc3_)
         {
            if(!§§pop())
            {
               if(_loc3_)
               {
                  §§goto(addr44);
               }
            }
            §§goto(addr49);
         }
         addr44:
         §§pop();
         if(!_loc4_)
         {
            addr49:
            if(!_loc2_)
            {
               return;
            }
            this.pshopmc = new CreateShop() as MovieClip;
            if(!_loc4_)
            {
               §§goto(addr67);
            }
            §§goto(addr81);
         }
         addr67:
         this.pshopmc.p = _loc2_;
         this.pshopmc.x = 400;
         this.pshopmc.y = 300;
         if(!_loc4_)
         {
            addr81:
            addChildAt(this.pshopmc,getChildIndex(this.mouse));
         }
      }
      
      public function disconnectGuild() : void
      {
         var _loc1_:Boolean = false;
         var _loc2_:Boolean = true;
         §§push(this.GuildChannel === null);
         if(!_loc1_)
         {
            §§push(!§§pop());
            if(_loc2_)
            {
               addr26:
               if(§§pop())
               {
                  if(_loc2_)
                  {
                     §§pop();
                     §§push(this.GuildChannel.connected);
                     if(!_loc1_)
                     {
                        §§push(Boolean(§§pop()));
                        if(!_loc1_)
                        {
                           addr41:
                           if(§§pop())
                           {
                              if(_loc2_)
                              {
                                 this.GuildChannel.disconnect();
                                 addr55:
                                 this.GuildChannel = null;
                                 this.guildtxt.visible = false;
                                 if(!_loc1_)
                                 {
                                    this.guildScroll.visible = false;
                                 }
                                 this.chattxt.visible = true;
                                 if(!_loc1_)
                                 {
                                    §§goto(addr82);
                                 }
                                 §§goto(addr99);
                              }
                              addr82:
                              this.chatScroll.visible = true;
                              if(_loc2_)
                              {
                                 this.ChatRoom = "Public";
                              }
                              §§goto(addr96);
                           }
                           §§goto(addr55);
                        }
                     }
                  }
                  addr96:
                  if(!("Guild" in this.pChar))
                  {
                     if(!_loc1_)
                     {
                        addr99:
                        this.guildtabbtn.visible = false;
                     }
                  }
                  return;
               }
            }
            §§goto(addr41);
         }
         §§goto(addr26);
      }
      
      public function joinGuildChat() : void
      {
         var _loc2_:Boolean = false;
         var _loc3_:Boolean = true;
         var _loc1_:Client = null;
         if(_loc3_)
         {
            this.joinedgc = false;
            if(!_loc2_)
            {
               this.disconnectGuild();
            }
         }
         _loc1_ = this.client;
         if(!_loc2_)
         {
            §§push(_loc1_.multiplayer);
            §§push("GuildChat_");
            if(!_loc2_)
            {
               §§push(§§pop() + this.branch);
               if(!_loc2_)
               {
                  addr61:
                  §§push(§§pop() + this.pChar.Guild);
               }
               §§pop().createJoinRoom(§§pop(),"GuildChat",false,{},{"Name":this.pChar.key},this.joinedGuildChat);
               §§goto(addr76);
            }
            §§goto(addr61);
         }
         addr76:
      }
      
      public function battleloop(param1:Event) : void
      {
         /*
          * Decompilation error
          * Timeout (1 minute) was reached
          * Instruction count: 4619
          */
         throw new flash.errors.IllegalOperationError("Not decompiled due to timeout");
      }
      
      public function strike(param1:MovieClip, param2:MovieClip) : void
      {
         var _loc26_:Boolean = false;
         var _loc27_:Boolean = true;
         var _loc3_:Vector.<String> = null;
         var _loc4_:* = 0;
         var _loc5_:* = null;
         var _loc6_:* = 0;
         var _loc7_:Vector.<String> = null;
         var _loc8_:int = 0;
         var _loc9_:uint = 0;
         var _loc10_:Vector.<String> = null;
         var _loc11_:* = null;
         var _loc12_:int = 0;
         var _loc13_:MovieClip = null;
         var _loc14_:* = null;
         var _loc15_:* = 0;
         var _loc16_:* = null;
         var _loc17_:* = null;
         var _loc18_:Vector.<String> = null;
         var _loc19_:* = null;
         var _loc20_:* = NaN;
         var _loc21_:* = null;
         var _loc22_:int = 0;
         var _loc23_:MovieClip = null;
         _loc3_ = param1.strikes;
         if(_loc27_)
         {
            §§push(int(_loc3_.length));
            if(_loc27_)
            {
               _loc4_ = §§pop();
               trace("Strike: " + param1.strike);
               trace("AtkNum: " + param1.atkNum);
               if(_loc27_)
               {
                  addr100:
                  trace(_loc3_);
                  if(param1.strike >= param1.atkNum)
                  {
                     this.processQueue();
                     if(!_loc26_)
                     {
                        addr112:
                        trace("Strikes: " + _loc4_);
                        _loc5_ = "";
                        if(_loc27_)
                        {
                           §§push(0);
                           if(_loc27_)
                           {
                              §§goto(addr126);
                           }
                           §§goto(addr872);
                        }
                     }
                     §§goto(addr877);
                  }
                  §§goto(addr112);
               }
               §§goto(addr129);
            }
            addr126:
            _loc6_ = §§pop();
            if(_loc27_)
            {
               addr129:
               loop0:
               while(true)
               {
                  §§push(_loc6_);
                  addr872:
                  while(true)
                  {
                     if(§§pop() >= _loc4_)
                     {
                        break loop0;
                     }
                     _loc7_ = Vector.<String>(_loc3_[_loc6_].split(":"));
                     trace("here");
                     if(_loc26_)
                     {
                        continue;
                     }
                     _loc8_ = int(_loc7_[0]);
                     if(_loc7_.length <= 1)
                     {
                        if(!_loc27_)
                        {
                           addr178:
                           §§push((_loc10_ = Vector.<String>(_loc7_[1].split("=")[0].split("_"))).length);
                           if(!_loc26_)
                           {
                              if(§§pop() < param1.strike + 1)
                              {
                                 if(_loc27_)
                                 {
                                    addr870:
                                    _loc6_++;
                                    continue;
                                 }
                                 §§goto(addr870);
                              }
                              else
                              {
                                 §§push(_loc10_[param1.strike]);
                                 if(_loc27_)
                                 {
                                    §§push(§§pop());
                                    if(_loc27_)
                                    {
                                       addr218:
                                       _loc11_ = §§pop();
                                       if(_loc27_)
                                       {
                                          trace("here3");
                                          if(!_loc26_)
                                          {
                                             §§push(_loc11_);
                                             if(_loc27_)
                                             {
                                                §§push(§§pop() == null);
                                                if(_loc27_)
                                                {
                                                   if(!§§pop())
                                                   {
                                                      if(_loc27_)
                                                      {
                                                         §§pop();
                                                         if(_loc27_)
                                                         {
                                                            §§push(_loc11_);
                                                            if(_loc27_)
                                                            {
                                                               addr245:
                                                               §§push("");
                                                               if(_loc27_)
                                                               {
                                                                  addr249:
                                                                  if(§§pop() == §§pop())
                                                                  {
                                                                     if(!_loc26_)
                                                                     {
                                                                        addr253:
                                                                        §§goto(addr870);
                                                                     }
                                                                     else
                                                                     {
                                                                        addr259:
                                                                        _loc13_ = param2;
                                                                        if(!_loc26_)
                                                                        {
                                                                           §§push(_loc4_);
                                                                           if(!_loc26_)
                                                                           {
                                                                              §§push(1);
                                                                              if(!_loc26_)
                                                                              {
                                                                                 if(§§pop() > §§pop())
                                                                                 {
                                                                                    addr272:
                                                                                    _loc13_ = this.getMC(_loc8_,param2.team);
                                                                                 }
                                                                                 trace("here4");
                                                                                 if(_loc11_ == "Miss")
                                                                                 {
                                                                                    if(_loc27_)
                                                                                    {
                                                                                       this.generateDamage(_loc13_,0,"Miss");
                                                                                       §§push(_loc5_);
                                                                                       if(!_loc26_)
                                                                                       {
                                                                                          if(§§pop().indexOf("MissSound") < 0)
                                                                                          {
                                                                                             this.playSound("MissSound");
                                                                                             _loc5_ += "MissSound";
                                                                                             if(!_loc26_)
                                                                                             {
                                                                                                addr309:
                                                                                                if(_loc13_.action == "")
                                                                                                {
                                                                                                   _loc13_.action = "Hit";
                                                                                                   if(!_loc27_)
                                                                                                   {
                                                                                                      addr604:
                                                                                                      _loc17_ = "PotionSound";
                                                                                                      addr603:
                                                                                                      if(!_loc26_)
                                                                                                      {
                                                                                                         addr608:
                                                                                                         §§push(_loc5_);
                                                                                                         §§push(_loc17_);
                                                                                                         if(!_loc26_)
                                                                                                         {
                                                                                                            if(§§pop().indexOf(§§pop()) < 0)
                                                                                                            {
                                                                                                               addr615:
                                                                                                               this.playSound(_loc17_);
                                                                                                               addr618:
                                                                                                               §§push(_loc5_);
                                                                                                               if(!_loc26_)
                                                                                                               {
                                                                                                                  addr625:
                                                                                                                  _loc5_ = §§pop() + _loc17_;
                                                                                                               }
                                                                                                               §§goto(addr625);
                                                                                                            }
                                                                                                            §§push((_loc18_ = Vector.<String>(_loc11_.split("/")))[0]);
                                                                                                            if(_loc27_)
                                                                                                            {
                                                                                                               §§push(§§pop());
                                                                                                               if(_loc27_)
                                                                                                               {
                                                                                                                  addr646:
                                                                                                                  _loc19_ = §§pop();
                                                                                                                  if(_loc27_)
                                                                                                                  {
                                                                                                                     _loc20_ = Number(Number(_loc18_[0]));
                                                                                                                     §§push(_loc18_[1]);
                                                                                                                     if(!_loc26_)
                                                                                                                     {
                                                                                                                        §§push(§§pop());
                                                                                                                        if(!_loc26_)
                                                                                                                        {
                                                                                                                           addr666:
                                                                                                                           _loc21_ = §§pop();
                                                                                                                           trace("Bufftype:" + _loc21_);
                                                                                                                           trace("BuffV:" + _loc20_);
                                                                                                                           if(_loc27_)
                                                                                                                           {
                                                                                                                              addr680:
                                                                                                                              §§push(_loc19_);
                                                                                                                              §§push(".");
                                                                                                                              if(_loc27_)
                                                                                                                              {
                                                                                                                                 §§push(§§pop().indexOf(§§pop()) >= 0);
                                                                                                                                 §§push(§§pop().indexOf(§§pop()) >= 0);
                                                                                                                                 if(_loc27_)
                                                                                                                                 {
                                                                                                                                    if(!§§pop())
                                                                                                                                    {
                                                                                                                                       if(!_loc26_)
                                                                                                                                       {
                                                                                                                                          §§pop();
                                                                                                                                          addr696:
                                                                                                                                          §§push(_loc19_);
                                                                                                                                          §§push(",");
                                                                                                                                          if(_loc27_)
                                                                                                                                          {
                                                                                                                                             addr703:
                                                                                                                                             if(§§pop().indexOf(§§pop()) >= 0)
                                                                                                                                             {
                                                                                                                                                if(_loc27_)
                                                                                                                                                {
                                                                                                                                                   §§push(_loc21_);
                                                                                                                                                   §§push("Crit");
                                                                                                                                                   if(!_loc26_)
                                                                                                                                                   {
                                                                                                                                                      §§push(§§pop().indexOf(§§pop()) < 0);
                                                                                                                                                      §§push(§§pop().indexOf(§§pop()) < 0);
                                                                                                                                                      if(_loc27_)
                                                                                                                                                      {
                                                                                                                                                         if(§§pop())
                                                                                                                                                         {
                                                                                                                                                            §§pop();
                                                                                                                                                            addr781:
                                                                                                                                                            §§push(_loc21_);
                                                                                                                                                            §§push("Dodge");
                                                                                                                                                            if(_loc27_)
                                                                                                                                                            {
                                                                                                                                                               addr725:
                                                                                                                                                               §§push(§§pop().indexOf(§§pop()) < 0);
                                                                                                                                                            }
                                                                                                                                                            if(§§pop().indexOf(§§pop()) >= 0)
                                                                                                                                                            {
                                                                                                                                                               if(_loc27_)
                                                                                                                                                               {
                                                                                                                                                                  addr789:
                                                                                                                                                                  _loc20_ = Number("2");
                                                                                                                                                                  addr790:
                                                                                                                                                                  trace("BuffV:" + _loc20_);
                                                                                                                                                                  if(!_loc27_)
                                                                                                                                                                  {
                                                                                                                                                                  }
                                                                                                                                                                  addr802:
                                                                                                                                                                  _loc23_ = _loc13_;
                                                                                                                                                                  if(_loc27_)
                                                                                                                                                                  {
                                                                                                                                                                     if(_loc22_ >= 0)
                                                                                                                                                                     {
                                                                                                                                                                        if(!_loc26_)
                                                                                                                                                                        {
                                                                                                                                                                           _loc23_ = param1;
                                                                                                                                                                           if(_loc27_)
                                                                                                                                                                           {
                                                                                                                                                                              §§push(_loc21_);
                                                                                                                                                                              if(!_loc26_)
                                                                                                                                                                              {
                                                                                                                                                                                 §§push(§§pop().slice(0,_loc22_));
                                                                                                                                                                              }
                                                                                                                                                                              _loc21_ = §§pop();
                                                                                                                                                                              addr826:
                                                                                                                                                                              §§push(_loc21_);
                                                                                                                                                                              if(_loc27_)
                                                                                                                                                                              {
                                                                                                                                                                                 if(§§pop() == "Removes")
                                                                                                                                                                                 {
                                                                                                                                                                                    addr843:
                                                                                                                                                                                    if(_loc27_)
                                                                                                                                                                                    {
                                                                                                                                                                                       addr835:
                                                                                                                                                                                       §§push(_loc19_);
                                                                                                                                                                                       if(!_loc26_)
                                                                                                                                                                                       {
                                                                                                                                                                                          §§push(§§pop());
                                                                                                                                                                                       }
                                                                                                                                                                                    }
                                                                                                                                                                                    this.generateDamage(_loc23_,int(_loc20_),_loc21_ + "Num");
                                                                                                                                                                                    if(param1.strike >= param1.atkNum)
                                                                                                                                                                                    {
                                                                                                                                                                                       if(!_loc26_)
                                                                                                                                                                                       {
                                                                                                                                                                                          this.modifyHP(_loc13_,_loc9_);
                                                                                                                                                                                          addr859:
                                                                                                                                                                                       }
                                                                                                                                                                                    }
                                                                                                                                                                                    §§goto(addr870);
                                                                                                                                                                                 }
                                                                                                                                                                                 §§goto(addr843);
                                                                                                                                                                              }
                                                                                                                                                                              _loc21_ = §§pop();
                                                                                                                                                                              if(_loc26_)
                                                                                                                                                                              {
                                                                                                                                                                              }
                                                                                                                                                                              §§goto(addr843);
                                                                                                                                                                           }
                                                                                                                                                                           §§goto(addr826);
                                                                                                                                                                        }
                                                                                                                                                                        §§goto(addr843);
                                                                                                                                                                     }
                                                                                                                                                                     §§goto(addr826);
                                                                                                                                                                  }
                                                                                                                                                                  §§goto(addr835);
                                                                                                                                                                  addr787:
                                                                                                                                                               }
                                                                                                                                                               addr799:
                                                                                                                                                               _loc22_ = _loc21_.indexOf("|");
                                                                                                                                                               §§goto(addr802);
                                                                                                                                                            }
                                                                                                                                                            §§goto(addr790);
                                                                                                                                                         }
                                                                                                                                                         addr729:
                                                                                                                                                         if(§§pop())
                                                                                                                                                         {
                                                                                                                                                            if(_loc27_)
                                                                                                                                                            {
                                                                                                                                                               §§pop();
                                                                                                                                                               §§push(_loc20_);
                                                                                                                                                               if(_loc27_)
                                                                                                                                                               {
                                                                                                                                                                  §§push(1);
                                                                                                                                                                  if(_loc27_)
                                                                                                                                                                  {
                                                                                                                                                                     addr741:
                                                                                                                                                                     if(§§pop() >= §§pop())
                                                                                                                                                                     {
                                                                                                                                                                        §§push(_loc20_);
                                                                                                                                                                        §§push(100);
                                                                                                                                                                        if(!_loc26_)
                                                                                                                                                                        {
                                                                                                                                                                           §§push(§§pop() * §§pop());
                                                                                                                                                                           §§push(100);
                                                                                                                                                                           if(!_loc26_)
                                                                                                                                                                           {
                                                                                                                                                                              addr751:
                                                                                                                                                                              §§push(§§pop() - §§pop());
                                                                                                                                                                              if(!_loc26_)
                                                                                                                                                                              {
                                                                                                                                                                                 _loc20_ = Number(§§pop());
                                                                                                                                                                                 if(_loc27_)
                                                                                                                                                                                 {
                                                                                                                                                                                    addr775:
                                                                                                                                                                                    §§push(_loc21_);
                                                                                                                                                                                    if(!_loc26_)
                                                                                                                                                                                    {
                                                                                                                                                                                       §§push("XP");
                                                                                                                                                                                       if(!_loc26_)
                                                                                                                                                                                       {
                                                                                                                                                                                          §§goto(addr781);
                                                                                                                                                                                       }
                                                                                                                                                                                    }
                                                                                                                                                                                    §§goto(addr799);
                                                                                                                                                                                    addr758:
                                                                                                                                                                                 }
                                                                                                                                                                                 §§goto(addr787);
                                                                                                                                                                              }
                                                                                                                                                                              else
                                                                                                                                                                              {
                                                                                                                                                                                 addr767:
                                                                                                                                                                                 §§push(Number(§§pop()));
                                                                                                                                                                                 if(!_loc26_)
                                                                                                                                                                                 {
                                                                                                                                                                                    addr771:
                                                                                                                                                                                    _loc20_ = §§pop();
                                                                                                                                                                                    if(_loc27_)
                                                                                                                                                                                    {
                                                                                                                                                                                       §§goto(addr775);
                                                                                                                                                                                    }
                                                                                                                                                                                    §§goto(addr799);
                                                                                                                                                                                 }
                                                                                                                                                                              }
                                                                                                                                                                              §§goto(addr789);
                                                                                                                                                                           }
                                                                                                                                                                           else
                                                                                                                                                                           {
                                                                                                                                                                              addr764:
                                                                                                                                                                              §§push(§§pop() * §§pop());
                                                                                                                                                                              if(_loc27_)
                                                                                                                                                                              {
                                                                                                                                                                                 §§goto(addr767);
                                                                                                                                                                              }
                                                                                                                                                                           }
                                                                                                                                                                        }
                                                                                                                                                                        §§goto(addr751);
                                                                                                                                                                     }
                                                                                                                                                                     else
                                                                                                                                                                     {
                                                                                                                                                                        §§push(_loc20_);
                                                                                                                                                                        if(_loc27_)
                                                                                                                                                                        {
                                                                                                                                                                           addr763:
                                                                                                                                                                           §§goto(addr764);
                                                                                                                                                                           §§push(100);
                                                                                                                                                                        }
                                                                                                                                                                     }
                                                                                                                                                                     §§goto(addr771);
                                                                                                                                                                  }
                                                                                                                                                                  §§goto(addr751);
                                                                                                                                                               }
                                                                                                                                                               §§goto(addr763);
                                                                                                                                                            }
                                                                                                                                                         }
                                                                                                                                                         §§goto(addr741);
                                                                                                                                                      }
                                                                                                                                                      §§goto(addr729);
                                                                                                                                                   }
                                                                                                                                                   §§goto(addr781);
                                                                                                                                                }
                                                                                                                                                §§goto(addr758);
                                                                                                                                             }
                                                                                                                                             §§goto(addr775);
                                                                                                                                          }
                                                                                                                                          §§goto(addr725);
                                                                                                                                       }
                                                                                                                                    }
                                                                                                                                    §§goto(addr703);
                                                                                                                                 }
                                                                                                                                 §§goto(addr729);
                                                                                                                              }
                                                                                                                              §§goto(addr799);
                                                                                                                           }
                                                                                                                           §§goto(addr789);
                                                                                                                        }
                                                                                                                        §§goto(addr696);
                                                                                                                     }
                                                                                                                  }
                                                                                                                  §§goto(addr680);
                                                                                                               }
                                                                                                               §§goto(addr666);
                                                                                                            }
                                                                                                            §§goto(addr646);
                                                                                                         }
                                                                                                         §§goto(addr625);
                                                                                                      }
                                                                                                      §§goto(addr618);
                                                                                                   }
                                                                                                }
                                                                                                §§goto(addr843);
                                                                                             }
                                                                                             §§goto(addr859);
                                                                                          }
                                                                                          §§goto(addr309);
                                                                                       }
                                                                                       else
                                                                                       {
                                                                                          addr587:
                                                                                          _loc5_ = §§pop();
                                                                                          if(_loc27_)
                                                                                          {
                                                                                             addr591:
                                                                                          }
                                                                                          §§goto(addr843);
                                                                                       }
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                       addr350:
                                                                                       if(_loc13_.action == "")
                                                                                       {
                                                                                          _loc13_.action = "Block";
                                                                                       }
                                                                                    }
                                                                                    §§goto(addr843);
                                                                                 }
                                                                                 else if(_loc11_ == "Block")
                                                                                 {
                                                                                    if(!_loc26_)
                                                                                    {
                                                                                       this.generateDamage(_loc13_,0,"Block");
                                                                                       if(_loc5_.indexOf("BlockSound") < 0)
                                                                                       {
                                                                                          if(_loc27_)
                                                                                          {
                                                                                             this.playSound("BlockSound");
                                                                                             if(!_loc26_)
                                                                                             {
                                                                                                §§push(_loc5_ + "BlockSound");
                                                                                                if(!_loc26_)
                                                                                                {
                                                                                                   _loc5_ = §§pop();
                                                                                                   §§goto(addr350);
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                   addr484:
                                                                                                   _loc16_ = §§pop();
                                                                                                   if(root[param1.battleaction + "HitSound"])
                                                                                                   {
                                                                                                      if(!_loc26_)
                                                                                                      {
                                                                                                         addr494:
                                                                                                         §§push(root[param1.battleaction + "HitSound"]);
                                                                                                         if(_loc27_)
                                                                                                         {
                                                                                                            addr504:
                                                                                                            _loc16_ = §§pop();
                                                                                                            if(_loc27_)
                                                                                                            {
                                                                                                               addr508:
                                                                                                               if(root[param1.battleaction + "Hit" + param1.strike + "Sound"])
                                                                                                               {
                                                                                                                  if(!_loc26_)
                                                                                                                  {
                                                                                                                     _loc16_ = root[param1.battleaction + "Hit" + param1.strike + "Sound"];
                                                                                                                     addr536:
                                                                                                                     §§push(Boolean(param1.enemy));
                                                                                                                     if(Boolean(param1.enemy))
                                                                                                                     {
                                                                                                                        if(!_loc26_)
                                                                                                                        {
                                                                                                                           §§pop();
                                                                                                                           if(_loc27_)
                                                                                                                           {
                                                                                                                              addr554:
                                                                                                                              if(root[param1.pname + "HitSound"])
                                                                                                                              {
                                                                                                                                 addr555:
                                                                                                                                 _loc16_ = root[param1.pname + "HitSound"];
                                                                                                                                 addr563:
                                                                                                                                 §§push(_loc5_);
                                                                                                                                 §§push(_loc16_);
                                                                                                                                 if(!_loc26_)
                                                                                                                                 {
                                                                                                                                    if(§§pop().indexOf(§§pop()) < 0)
                                                                                                                                    {
                                                                                                                                       if(_loc27_)
                                                                                                                                       {
                                                                                                                                          this.playSound(_loc16_);
                                                                                                                                          §§push(_loc5_);
                                                                                                                                          if(!_loc26_)
                                                                                                                                          {
                                                                                                                                             §§push(_loc16_);
                                                                                                                                             if(_loc27_)
                                                                                                                                             {
                                                                                                                                                addr582:
                                                                                                                                                §§push(§§pop() + §§pop());
                                                                                                                                                if(_loc27_)
                                                                                                                                                {
                                                                                                                                                   §§goto(addr587);
                                                                                                                                                }
                                                                                                                                             }
                                                                                                                                             §§goto(addr625);
                                                                                                                                          }
                                                                                                                                          §§goto(addr587);
                                                                                                                                       }
                                                                                                                                       §§goto(addr859);
                                                                                                                                    }
                                                                                                                                    §§goto(addr591);
                                                                                                                                 }
                                                                                                                                 §§goto(addr582);
                                                                                                                              }
                                                                                                                              §§goto(addr563);
                                                                                                                           }
                                                                                                                           else
                                                                                                                           {
                                                                                                                              §§goto(addr603);
                                                                                                                           }
                                                                                                                        }
                                                                                                                     }
                                                                                                                     §§goto(addr554);
                                                                                                                  }
                                                                                                                  §§goto(addr563);
                                                                                                               }
                                                                                                               §§goto(addr536);
                                                                                                            }
                                                                                                            §§goto(addr615);
                                                                                                         }
                                                                                                         §§goto(addr563);
                                                                                                      }
                                                                                                      §§goto(addr555);
                                                                                                   }
                                                                                                   §§goto(addr508);
                                                                                                }
                                                                                             }
                                                                                             else
                                                                                             {
                                                                                                addr413:
                                                                                                §§push(_loc13_.action == "");
                                                                                                if(!_loc26_)
                                                                                                {
                                                                                                   addr419:
                                                                                                   if(§§pop())
                                                                                                   {
                                                                                                      _loc13_.action = "Hit";
                                                                                                   }
                                                                                                   this.generateDamage(_loc13_,int(_loc15_),_loc14_);
                                                                                                   _loc16_ = "HitSound";
                                                                                                   if(!_loc26_)
                                                                                                   {
                                                                                                      addr435:
                                                                                                      if(param1.pclass)
                                                                                                      {
                                                                                                         _loc16_ = param1.pclass + "HitSound";
                                                                                                         if(_loc27_)
                                                                                                         {
                                                                                                            if(param1.pclass == "Empire Officer")
                                                                                                            {
                                                                                                               if(_loc27_)
                                                                                                               {
                                                                                                                  addr461:
                                                                                                                  _loc16_ = "WarriorHitSound";
                                                                                                                  §§push(Boolean(param1));
                                                                                                                  §§push(Boolean(param1));
                                                                                                                  if(_loc27_)
                                                                                                                  {
                                                                                                                     if(§§pop())
                                                                                                                     {
                                                                                                                        addr468:
                                                                                                                        §§pop();
                                                                                                                        if(_loc27_)
                                                                                                                        {
                                                                                                                           §§push(Boolean(param1.getChildAt(0).getChildAt(0).ranged));
                                                                                                                           if(!_loc26_)
                                                                                                                           {
                                                                                                                              addr482:
                                                                                                                              if(§§pop())
                                                                                                                              {
                                                                                                                                 §§goto(addr484);
                                                                                                                                 §§push("MusketeerHitSound");
                                                                                                                              }
                                                                                                                              §§goto(addr484);
                                                                                                                           }
                                                                                                                           §§goto(addr554);
                                                                                                                        }
                                                                                                                        §§goto(addr494);
                                                                                                                     }
                                                                                                                     §§goto(addr482);
                                                                                                                  }
                                                                                                                  §§goto(addr536);
                                                                                                               }
                                                                                                               §§goto(addr603);
                                                                                                            }
                                                                                                            §§goto(addr484);
                                                                                                         }
                                                                                                         §§goto(addr591);
                                                                                                      }
                                                                                                      §§goto(addr484);
                                                                                                   }
                                                                                                   §§goto(addr603);
                                                                                                }
                                                                                                §§goto(addr468);
                                                                                             }
                                                                                             §§goto(addr494);
                                                                                          }
                                                                                          else
                                                                                          {
                                                                                             addr597:
                                                                                             if(param1.consumed)
                                                                                             {
                                                                                                if(!_loc26_)
                                                                                                {
                                                                                                   §§goto(addr603);
                                                                                                }
                                                                                             }
                                                                                          }
                                                                                          §§goto(addr608);
                                                                                       }
                                                                                       §§goto(addr350);
                                                                                    }
                                                                                    §§goto(addr859);
                                                                                 }
                                                                                 else
                                                                                 {
                                                                                    §§push(_loc12_);
                                                                                    if(!_loc26_)
                                                                                    {
                                                                                       §§push(0);
                                                                                       if(!_loc26_)
                                                                                       {
                                                                                          if(§§pop() < §§pop())
                                                                                          {
                                                                                             _loc14_ = "HitNum";
                                                                                             §§push(_loc11_);
                                                                                             §§push("*");
                                                                                             if(_loc27_)
                                                                                             {
                                                                                                if(§§pop().indexOf(§§pop()) >= 0)
                                                                                                {
                                                                                                   §§push(_loc11_);
                                                                                                   if(_loc27_)
                                                                                                   {
                                                                                                      addr380:
                                                                                                      _loc11_ = §§pop().split("*")[0];
                                                                                                      §§push("CritNum");
                                                                                                      if(_loc27_)
                                                                                                      {
                                                                                                         _loc14_ = §§pop();
                                                                                                         if(_loc27_)
                                                                                                         {
                                                                                                            addr392:
                                                                                                            §§push(int(int(_loc11_)));
                                                                                                            if(_loc27_)
                                                                                                            {
                                                                                                               §§push(§§pop());
                                                                                                               if(_loc27_)
                                                                                                               {
                                                                                                                  addr402:
                                                                                                                  _loc15_ = §§pop();
                                                                                                                  addr403:
                                                                                                                  §§push(0);
                                                                                                               }
                                                                                                               §§push(§§pop() > §§pop());
                                                                                                               §§push(§§pop() > §§pop());
                                                                                                               if(_loc27_)
                                                                                                               {
                                                                                                                  if(§§pop())
                                                                                                                  {
                                                                                                                     if(!_loc26_)
                                                                                                                     {
                                                                                                                        §§pop();
                                                                                                                        §§goto(addr413);
                                                                                                                     }
                                                                                                                     §§goto(addr536);
                                                                                                                  }
                                                                                                                  §§goto(addr419);
                                                                                                               }
                                                                                                               §§goto(addr536);
                                                                                                            }
                                                                                                            §§goto(addr403);
                                                                                                         }
                                                                                                         §§goto(addr435);
                                                                                                      }
                                                                                                      §§goto(addr461);
                                                                                                   }
                                                                                                   §§goto(addr504);
                                                                                                }
                                                                                                §§goto(addr392);
                                                                                             }
                                                                                             §§goto(addr380);
                                                                                          }
                                                                                          else
                                                                                          {
                                                                                             §§push("HealSound");
                                                                                             if(!_loc26_)
                                                                                             {
                                                                                                _loc17_ = §§pop();
                                                                                                §§goto(addr597);
                                                                                             }
                                                                                          }
                                                                                          §§goto(addr604);
                                                                                       }
                                                                                    }
                                                                                    §§goto(addr402);
                                                                                 }
                                                                                 §§goto(addr625);
                                                                              }
                                                                           }
                                                                           §§goto(addr402);
                                                                        }
                                                                        §§goto(addr272);
                                                                     }
                                                                  }
                                                                  else
                                                                  {
                                                                     addr255:
                                                                     §§push(_loc11_);
                                                                     §§push("/");
                                                                  }
                                                                  §§goto(addr259);
                                                               }
                                                               _loc12_ = §§pop().indexOf(§§pop());
                                                               §§goto(addr259);
                                                            }
                                                            §§goto(addr255);
                                                         }
                                                         §§goto(addr259);
                                                      }
                                                   }
                                                }
                                                §§goto(addr249);
                                             }
                                             §§goto(addr255);
                                          }
                                          §§goto(addr253);
                                       }
                                       §§goto(addr259);
                                    }
                                    §§goto(addr255);
                                 }
                                 §§goto(addr218);
                              }
                           }
                           §§goto(addr245);
                        }
                        §§goto(addr870);
                     }
                     else
                     {
                        trace("here2");
                        _loc9_ = uint(_loc7_[1].split("=")[1]);
                        if(_loc26_)
                        {
                           continue;
                        }
                     }
                     §§goto(addr178);
                  }
               }
               if(!_loc26_)
               {
                  addr877:
                  var _loc24_:*;
                  var _loc25_:* = (_loc24_ = param1).strike + 1;
                  if(!_loc26_)
                  {
                     _loc24_.strike = _loc25_;
                  }
               }
            }
            return;
         }
         §§goto(addr100);
      }
      
      public function modifyHP(param1:MovieClip, param2:uint) : void
      {
         var _loc4_:Boolean = true;
         var _loc5_:Boolean = false;
         var _loc3_:MovieClip = null;
         if(_loc4_)
         {
            trace(param1.hp);
            trace("modify val: " + param2);
            §§push(param2);
            if(!_loc5_)
            {
               if(§§pop() == param1.hp)
               {
                  return;
               }
               §§push(param2);
               if(_loc4_)
               {
                  if(§§pop() > param1.maxhp)
                  {
                     addr46:
                     param2 = param1.maxhp;
                     if(_loc4_)
                     {
                        §§goto(addr50);
                     }
                     §§goto(addr106);
                  }
                  addr50:
                  param1.hp = param2;
                  if(param1.hp <= 0)
                  {
                     if(_loc4_)
                     {
                        addr60:
                        param1.action = "Death";
                        if(_loc5_)
                        {
                        }
                        §§goto(addr106);
                     }
                     param1.hp = 0;
                     if(!_loc5_)
                     {
                        §§push(param1.pname == this.pChar.key);
                        if(!_loc5_)
                        {
                           if(§§pop())
                           {
                              if(!_loc5_)
                              {
                                 §§pop();
                                 if(!_loc5_)
                                 {
                                    §§push(!param1.enemy);
                                    if(!_loc5_)
                                    {
                                       addr100:
                                       if(§§pop())
                                       {
                                          §§goto(addr101);
                                       }
                                    }
                                    §§goto(addr106);
                                 }
                                 §§goto(addr109);
                              }
                              §§goto(addr106);
                           }
                           §§goto(addr100);
                        }
                        §§goto(addr106);
                     }
                     addr101:
                     root.tip(11);
                     if(_loc4_)
                     {
                        addr106:
                        if(this.onKong)
                        {
                           addr109:
                           _loc3_ = this.pmcs[this.pChar.key + "_mc"];
                           if(!_loc5_)
                           {
                              if(_loc3_)
                              {
                                 if(!_loc4_)
                                 {
                                 }
                              }
                              §§goto(addr162);
                           }
                           if(param1.team !== _loc3_.team)
                           {
                              if(_loc4_)
                              {
                                 if(param1.enemy)
                                 {
                                    if(!_loc5_)
                                    {
                                       this.kongregate.stats.submit("PvE Kills",1);
                                       if(!_loc4_)
                                       {
                                       }
                                       §§goto(addr162);
                                    }
                                 }
                                 else
                                 {
                                    this.kongregate.stats.submit("PvP Kills",1);
                                    §§goto(addr162);
                                 }
                              }
                           }
                        }
                     }
                     §§goto(addr162);
                  }
                  addr162:
                  param1.createhp();
                  return;
               }
            }
            §§goto(addr46);
         }
         §§goto(addr60);
      }
      
      public function modifyMP(param1:MovieClip, param2:uint) : void
      {
         var _loc3_:Boolean = false;
         var _loc4_:Boolean = true;
         if(_loc4_)
         {
            trace(param1.mp);
            if(!_loc3_)
            {
               §§goto(addr33);
            }
            §§goto(addr53);
         }
         addr33:
         trace("modify val: " + param2);
         if(!_loc3_)
         {
            if(param2 == param1.mp)
            {
               if(_loc4_)
               {
                  §§goto(addr47);
               }
               else
               {
                  addr53:
                  param1.createhp();
               }
            }
            else
            {
               param1.mp = param2;
               if(_loc4_)
               {
                  §§goto(addr53);
               }
            }
            return;
         }
         addr47:
      }
      
      public function setHP(param1:MovieClip, param2:int) : void
      {
      }
      
      public function generateDamage(param1:MovieClip, param2:int, param3:String) : void
      {
         var _loc6_:Boolean = true;
         var _loc7_:Boolean = false;
         var _loc4_:MovieClip = null;
         var _loc5_:Bitmap = null;
         if(!_loc7_)
         {
            §§push(param2);
            if(!_loc7_)
            {
               §§push(-1);
               if(_loc6_)
               {
                  if(§§pop() == §§pop())
                  {
                     if(_loc6_)
                     {
                        return;
                     }
                  }
                  else
                  {
                     §§push(param2);
                     if(!_loc7_)
                     {
                        §§push(0);
                        if(_loc6_)
                        {
                           addr43:
                           if(§§pop() < §§pop())
                           {
                              if(_loc6_)
                              {
                                 addr53:
                                 addr47:
                                 §§push(param2);
                                 if(!_loc7_)
                                 {
                                    §§push(-1);
                                 }
                                 param2 = §§pop();
                                 addr54:
                                 _loc4_ = new Numbers() as MovieClip;
                                 if(!_loc7_)
                                 {
                                    addChild(_loc4_);
                                    if(!_loc7_)
                                    {
                                       _loc4_.gotoAndStop(param3);
                                       if(!_loc7_)
                                       {
                                          _loc4_.val = param2;
                                          addr73:
                                       }
                                       if((_loc5_ = _loc4_.generate()) !== null)
                                       {
                                          _loc5_.name = param1.pname + numChildren;
                                          if(!_loc7_)
                                          {
                                             trace("generating " + _loc5_.name);
                                          }
                                          addChild(_loc5_);
                                          if(_loc6_)
                                          {
                                             _loc5_.x = param1.x + 20 - _loc5_.width;
                                             if(!_loc7_)
                                             {
                                                _loc5_.y = param1.y - param1.h - _loc5_.height;
                                                if(_loc7_)
                                                {
                                                }
                                                §§goto(addr156);
                                             }
                                          }
                                          this.q.removeChildFade(_loc5_,0.01);
                                          this.q.stageBoundary(_loc5_);
                                          if(!_loc7_)
                                          {
                                             param1.damageTexts.unshift(_loc5_);
                                          }
                                       }
                                       addr156:
                                       _loc5_ = null;
                                       if(!_loc7_)
                                       {
                                          this.q.remove(_loc4_);
                                       }
                                       _loc4_ = null;
                                       return;
                                    }
                                 }
                                 §§goto(addr73);
                              }
                           }
                           §§goto(addr54);
                        }
                        §§goto(addr53);
                        §§push(int(§§pop() * §§pop()));
                     }
                     §§goto(addr53);
                  }
                  §§goto(addr53);
               }
               §§goto(addr43);
            }
            §§goto(addr53);
         }
         §§goto(addr47);
      }
      
      public function processQueue() : void
      {
         var _loc20_:Boolean = false;
         var _loc21_:Boolean = true;
         var _loc1_:* = 0;
         var _loc2_:* = 0;
         var _loc3_:Vector.<String> = null;
         var _loc4_:* = null;
         var _loc5_:String = null;
         var _loc6_:String = null;
         var _loc7_:int = 0;
         var _loc8_:MovieClip = null;
         var _loc9_:* = uint(0);
         var _loc10_:* = uint(0);
         var _loc11_:* = null;
         var _loc12_:MovieClip = null;
         var _loc13_:Bitmap = null;
         var _loc14_:Vector.<String> = null;
         var _loc15_:uint = 0;
         var _loc16_:* = uint(0);
         var _loc17_:Bitmap = null;
         var _loc18_:Vector.<String> = null;
         var _loc19_:Vector.<String> = null;
         if(_loc21_)
         {
            trace("Process queue");
            if(_loc21_)
            {
               §§goto(addr78);
            }
            §§goto(addr804);
         }
         addr78:
         §§push(int(this.updatequeue.length));
         if(!_loc20_)
         {
            _loc1_ = §§pop();
            if(_loc21_)
            {
               §§push(0);
               if(!_loc20_)
               {
                  §§goto(addr93);
               }
               §§goto(addr800);
            }
            §§goto(addr96);
         }
         addr93:
         _loc2_ = §§pop();
         if(_loc21_)
         {
            addr96:
            loop1:
            while(true)
            {
               §§push(_loc2_);
               addr800:
               while(§§pop() < _loc1_)
               {
                  _loc3_ = Vector.<String>(this.updatequeue[_loc2_].split(":"));
                  if(_loc21_)
                  {
                     §§push(_loc3_[0]);
                     if(!_loc20_)
                     {
                        _loc4_ = §§pop();
                        §§push(_loc3_[1]);
                        if(_loc21_)
                        {
                           _loc5_ = §§pop();
                           §§push(_loc4_);
                           if(_loc21_)
                           {
                              if(§§pop() == "QuestState")
                              {
                                 addr141:
                                 _loc6_ = _loc5_.split("-")[0];
                                 if(_loc20_)
                                 {
                                    continue loop1;
                                 }
                                 _loc7_ = int(_loc5_.split("-")[1]);
                                 if(!_loc20_)
                                 {
                                    this.queststate(_loc6_,_loc7_);
                                 }
                                 else
                                 {
                                    addr697:
                                    _loc18_ = Vector.<String>(_loc5_.split("_"));
                                    if(!_loc20_)
                                    {
                                       trace("modvals: " + _loc18_);
                                       if(_loc21_)
                                       {
                                          this.mpmod(null,_loc18_[0],_loc18_[1],_loc18_[2],_loc18_[3],_loc18_[4]);
                                       }
                                    }
                                 }
                              }
                              else
                              {
                                 addr163:
                                 if(_loc4_ == "QuestDone")
                                 {
                                    this.questdone(int(_loc5_));
                                    if(!_loc21_)
                                    {
                                       addr642:
                                    }
                                 }
                                 else if(_loc4_ == "Money")
                                 {
                                    _loc8_ = this.pmcs[this.pChar.key + "_mc"];
                                    if(!_loc20_)
                                    {
                                       §§push(uint(int(_loc5_)));
                                       if(!_loc20_)
                                       {
                                          §§push(_loc9_ = §§pop());
                                          if(!_loc20_)
                                          {
                                             addr198:
                                             §§push(uint(§§pop() - this.pChar.Money));
                                             if(_loc21_)
                                             {
                                                _loc10_ = §§pop();
                                                §§push(this.onKong);
                                                if(_loc21_)
                                                {
                                                   if(§§pop())
                                                   {
                                                      if(_loc21_)
                                                      {
                                                         this.kongregate.stats.submit("Denars gained",_loc10_);
                                                         if(_loc21_)
                                                         {
                                                            addr222:
                                                            §§push(" Denars.");
                                                            if(_loc21_)
                                                            {
                                                               _loc11_ = §§pop();
                                                               addr226:
                                                               if(_loc10_ < 2)
                                                               {
                                                                  §§push(" Denar.");
                                                                  if(_loc21_)
                                                                  {
                                                                     _loc11_ = §§pop();
                                                                     addr234:
                                                                     §§push(this.language);
                                                                     if(_loc21_)
                                                                     {
                                                                        §§push("eng");
                                                                        if(_loc21_)
                                                                        {
                                                                           §§push(§§pop() !== §§pop());
                                                                           §§push(§§pop() !== §§pop());
                                                                           if(_loc21_)
                                                                           {
                                                                              if(§§pop())
                                                                              {
                                                                                 §§pop();
                                                                                 addr249:
                                                                                 §§push(this.language);
                                                                                 if(!_loc20_)
                                                                                 {
                                                                                    addr257:
                                                                                    if(§§pop() !== "")
                                                                                    {
                                                                                       §§push(" ");
                                                                                       if(!_loc20_)
                                                                                       {
                                                                                          addr266:
                                                                                          _loc11_ = §§pop() + this.getTxt("Denars");
                                                                                          addr265:
                                                                                          if(_loc21_)
                                                                                          {
                                                                                             addr269:
                                                                                             if(this.chattxt)
                                                                                             {
                                                                                                if(!_loc20_)
                                                                                                {
                                                                                                   addr274:
                                                                                                   MovieClip(root).q.addChatTxt(this.chattxt,this.getTxt("You gained") + " " + MovieClip(root).q.comma(String(_loc10_)) + _loc11_,"Public",16776960);
                                                                                                   if(_loc21_)
                                                                                                   {
                                                                                                      addr301:
                                                                                                      this.pChar.Money = _loc9_;
                                                                                                      §§push(Boolean(_loc8_.target));
                                                                                                      if(Boolean(_loc8_.target))
                                                                                                      {
                                                                                                         if(_loc21_)
                                                                                                         {
                                                                                                            §§pop();
                                                                                                            addr314:
                                                                                                            §§push(_loc8_.target !== null);
                                                                                                         }
                                                                                                      }
                                                                                                      if(§§pop())
                                                                                                      {
                                                                                                         addr320:
                                                                                                         (_loc12_ = new Numbers()).gotoAndStop("MoneyNum");
                                                                                                         if(_loc21_)
                                                                                                         {
                                                                                                            _loc12_.val = String(_loc10_);
                                                                                                         }
                                                                                                         (_loc13_ = _loc12_.generate(stage)).x = _loc8_.target.x;
                                                                                                         if(!_loc20_)
                                                                                                         {
                                                                                                            _loc13_.y = _loc8_.target.y;
                                                                                                            if(!_loc20_)
                                                                                                            {
                                                                                                               addChildAt(_loc13_,getChildIndex(this.chatmin) + 1);
                                                                                                               if(_loc21_)
                                                                                                               {
                                                                                                                  addr365:
                                                                                                                  this.txtFly(_loc13_,new Point(this.moneytxt.x,this.moneytxt.y),this.displaymoney);
                                                                                                               }
                                                                                                            }
                                                                                                            _loc13_ = null;
                                                                                                            _loc12_ = null;
                                                                                                            addr798:
                                                                                                            _loc2_++;
                                                                                                            continue loop1;
                                                                                                            addr387:
                                                                                                         }
                                                                                                         §§goto(addr365);
                                                                                                      }
                                                                                                      else
                                                                                                      {
                                                                                                         this.displaymoney();
                                                                                                      }
                                                                                                      §§goto(addr387);
                                                                                                   }
                                                                                                   §§goto(addr314);
                                                                                                }
                                                                                                §§goto(addr320);
                                                                                             }
                                                                                             §§goto(addr301);
                                                                                          }
                                                                                          §§goto(addr320);
                                                                                       }
                                                                                       §§goto(addr265);
                                                                                    }
                                                                                    §§goto(addr269);
                                                                                 }
                                                                                 §§goto(addr266);
                                                                              }
                                                                              §§goto(addr257);
                                                                           }
                                                                           §§goto(addr301);
                                                                        }
                                                                        §§goto(addr257);
                                                                     }
                                                                  }
                                                                  §§goto(addr266);
                                                               }
                                                               §§goto(addr234);
                                                            }
                                                            §§goto(addr266);
                                                         }
                                                         §§goto(addr226);
                                                      }
                                                      §§goto(addr249);
                                                   }
                                                   §§goto(addr222);
                                                }
                                                §§goto(addr257);
                                             }
                                          }
                                          §§goto(addr226);
                                       }
                                       §§goto(addr198);
                                    }
                                    §§goto(addr274);
                                 }
                                 else if(_loc4_ == "XP")
                                 {
                                    if(_loc21_)
                                    {
                                       _loc8_ = this.pmcs[this.pChar.key + "_mc"];
                                       _loc14_ = Vector.<String>(_loc5_.split("_"));
                                       if(_loc21_)
                                       {
                                          _loc15_ = uint(_loc14_[0]);
                                          §§push(uint(uint(_loc14_[1])));
                                          if(_loc21_)
                                          {
                                             if((_loc16_ = §§pop()) > this.pChar.Level)
                                             {
                                                addr445:
                                                §§push(_loc15_ + (this.getXP(this.pChar.Level) - this.pChar.XP));
                                                if(_loc21_)
                                                {
                                                   §§push(uint(§§pop()));
                                                   if(_loc21_)
                                                   {
                                                      _loc10_ = §§pop();
                                                      if(_loc21_)
                                                      {
                                                         addr472:
                                                         this.pChar.XP = _loc15_;
                                                         if(_loc21_)
                                                         {
                                                            addr479:
                                                            this.pChar.Level = _loc16_;
                                                            if(this.chattxt)
                                                            {
                                                               MovieClip(root).q.addChatTxt(this.chattxt,this.getTxt("You gained") + " " + MovieClip(root).q.comma(String(_loc10_)) + " XP.","Public",16776960);
                                                               if(!_loc20_)
                                                               {
                                                                  addr513:
                                                                  §§push(Boolean(_loc8_));
                                                                  if(!_loc20_)
                                                                  {
                                                                     §§push(§§pop());
                                                                     if(_loc21_)
                                                                     {
                                                                        if(§§pop())
                                                                        {
                                                                           if(_loc21_)
                                                                           {
                                                                              §§pop();
                                                                              §§push(Boolean(_loc8_.target));
                                                                              if(_loc21_)
                                                                              {
                                                                                 addr534:
                                                                                 if(§§pop())
                                                                                 {
                                                                                    if(_loc21_)
                                                                                    {
                                                                                       §§pop();
                                                                                       if(_loc21_)
                                                                                       {
                                                                                          addr543:
                                                                                          §§push(_loc8_.target === null);
                                                                                          if(!_loc21_)
                                                                                          {
                                                                                          }
                                                                                          addr551:
                                                                                          if(§§pop())
                                                                                          {
                                                                                             addr552:
                                                                                             (_loc12_ = new Numbers()).gotoAndStop("XPNum");
                                                                                             if(_loc21_)
                                                                                             {
                                                                                                _loc12_.val = String(_loc10_);
                                                                                             }
                                                                                             (_loc17_ = _loc12_.generate(stage)).x = _loc8_.target.x;
                                                                                             if(_loc21_)
                                                                                             {
                                                                                                _loc17_.y = _loc8_.target.y;
                                                                                                if(!_loc20_)
                                                                                                {
                                                                                                   addChildAt(_loc17_,getChildIndex(this.chatmin) + 1);
                                                                                                   if(!_loc20_)
                                                                                                   {
                                                                                                      this.txtFly(_loc17_,new Point(this.expmc.x,this.expmc.y - 30),this.displayxp);
                                                                                                      if(!_loc21_)
                                                                                                      {
                                                                                                      }
                                                                                                      addr617:
                                                                                                      _loc12_ = null;
                                                                                                      §§goto(addr798);
                                                                                                   }
                                                                                                }
                                                                                                xbp = null;
                                                                                             }
                                                                                             §§goto(addr617);
                                                                                          }
                                                                                          else
                                                                                          {
                                                                                             this.displayxp(this.pChar.XP,this.pChar.Level);
                                                                                          }
                                                                                          §§goto(addr617);
                                                                                       }
                                                                                       §§goto(addr552);
                                                                                    }
                                                                                 }
                                                                                 §§goto(addr551);
                                                                              }
                                                                              §§push(!§§pop());
                                                                           }
                                                                           §§goto(addr551);
                                                                        }
                                                                     }
                                                                  }
                                                                  §§goto(addr534);
                                                               }
                                                               §§goto(addr552);
                                                            }
                                                            §§goto(addr513);
                                                         }
                                                      }
                                                      §§goto(addr543);
                                                   }
                                                   else
                                                   {
                                                      addr470:
                                                      _loc10_ = uint(§§pop() - this.pChar.XP);
                                                   }
                                                   §§goto(addr472);
                                                }
                                                §§goto(addr470);
                                             }
                                             else
                                             {
                                                §§push(_loc15_);
                                             }
                                             §§goto(addr470);
                                          }
                                          §§goto(addr445);
                                       }
                                       §§goto(addr479);
                                    }
                                    else
                                    {
                                       addr775:
                                       if(this.chattxt)
                                       {
                                          if(_loc21_)
                                          {
                                             root.q.addChatTxt(this.chattxt,_loc5_,"Public",16776960);
                                             if(_loc20_)
                                             {
                                                continue loop1;
                                             }
                                          }
                                       }
                                    }
                                 }
                                 else
                                 {
                                    §§push(_loc4_);
                                    if(!_loc20_)
                                    {
                                       addr634:
                                       §§push("LevelUp");
                                       if(!_loc20_)
                                       {
                                          if(§§pop() == §§pop())
                                          {
                                             this.lvlup(_loc5_);
                                             §§goto(addr642);
                                          }
                                          else
                                          {
                                             §§push(_loc4_);
                                             if(!_loc20_)
                                             {
                                                addr647:
                                                if(§§pop() == "HPmod")
                                                {
                                                   if(_loc21_)
                                                   {
                                                      _loc18_ = Vector.<String>(_loc5_.split("_"));
                                                      if(!_loc20_)
                                                      {
                                                         trace("modvals: " + _loc18_);
                                                         if(!_loc20_)
                                                         {
                                                            this.hpmod(null,_loc18_[0],_loc18_[1],_loc18_[2],_loc18_[3],_loc18_[4]);
                                                         }
                                                      }
                                                      §§goto(addr798);
                                                   }
                                                   else
                                                   {
                                                      §§goto(addr775);
                                                   }
                                                }
                                                else
                                                {
                                                   §§push(_loc4_);
                                                }
                                                §§goto(addr798);
                                             }
                                             §§push("MPmod");
                                          }
                                          §§goto(addr798);
                                       }
                                       if(§§pop() == §§pop())
                                       {
                                          if(_loc21_)
                                          {
                                             §§goto(addr697);
                                          }
                                          else
                                          {
                                             §§goto(addr775);
                                          }
                                       }
                                       else
                                       {
                                          §§push(_loc4_);
                                          if(!_loc20_)
                                          {
                                             if(§§pop() == "Buffs")
                                             {
                                                _loc19_ = Vector.<String>(_loc5_.split("/"));
                                                if(_loc21_)
                                                {
                                                   this.updateBuffs(null,_loc19_[0],_loc19_[1],_loc19_[2],_loc19_[3],false);
                                                }
                                                §§goto(addr798);
                                             }
                                             else
                                             {
                                                §§push(_loc4_);
                                             }
                                             §§goto(addr798);
                                          }
                                          if(§§pop() == "Txt")
                                          {
                                             §§goto(addr775);
                                          }
                                          §§goto(addr798);
                                       }
                                       §§goto(addr798);
                                    }
                                    §§goto(addr647);
                                 }
                              }
                              §§goto(addr798);
                           }
                           §§goto(addr163);
                        }
                        §§goto(addr634);
                     }
                  }
                  §§goto(addr141);
                  continue loop1;
               }
               if(!_loc20_)
               {
                  addr804:
                  this.updatequeue = new Vector.<String>();
               }
            }
         }
      }
      
      public function shoot(param1:MovieClip, param2:MovieClip) : void
      {
         var _loc4_:Boolean = true;
         var _loc5_:Boolean = false;
         var soundn:String = null;
         var projectile:String = null;
         if(_loc4_)
         {
            var skillo:Object = null;
            var projmc:MovieClip = null;
            var doublehit:Boolean = false;
            var projabd:AnimatedBitmapData = null;
            if(_loc4_)
            {
               var projab:AnimatedBitmap = null;
               var projhit:MovieClip = null;
               var startmc:Point = null;
               var startm:Matrix = null;
               var startp:Point = null;
               if(!_loc5_)
               {
                  var projloop:* = undefined;
                  var C:Class = null;
                  var m:MovieClip = param1;
                  if(!_loc5_)
                  {
                     var t:MovieClip = param2;
                     projloop = function(param1:Event):void
                     {
                        var _loc4_:Boolean = true;
                        var _loc5_:Boolean = false;
                        var _loc2_:Number = NaN;
                        var _loc3_:Number = NaN;
                        if(_loc4_)
                        {
                           projab.visible = true;
                           §§push(t.x - projab.x);
                           §§push(0.15);
                           if(!_loc5_)
                           {
                              _loc2_ = §§pop() * §§pop();
                              §§push(t.y - t.height * 0.5 - projab.y);
                              §§push(0.15);
                           }
                           _loc3_ = §§pop() * §§pop();
                           if(!_loc5_)
                           {
                              projab.x += _loc2_;
                              if(!_loc5_)
                              {
                                 projab.y += _loc3_;
                                 if(!_loc5_)
                                 {
                                    projab.rotation = Math.atan2(_loc3_,_loc2_) * 180 / Math.PI + 90;
                                    §§push(t.x <= projab.x + 15);
                                    if(!_loc5_)
                                    {
                                       if(§§pop())
                                       {
                                          if(!_loc5_)
                                          {
                                             §§pop();
                                             §§push(t.x >= projab.x - 15);
                                          }
                                       }
                                    }
                                    if(§§pop())
                                    {
                                       q.removeChildFade(projab);
                                       if(!_loc5_)
                                       {
                                          addr98:
                                          strike(m,t);
                                          if(_loc4_)
                                          {
                                             addr105:
                                             if(doublehit)
                                             {
                                                if(!_loc5_)
                                                {
                                                   strike(m,t);
                                                }
                                                §§goto(addr137);
                                             }
                                             if(projhit)
                                             {
                                                projhit.play();
                                                if(_loc4_)
                                                {
                                                   projhit.x = projab.x;
                                                   addr125:
                                                   projhit.y = projab.y;
                                                }
                                                addChildAt(projhit,getChildIndex(projab) + 1);
                                             }
                                          }
                                          §§goto(addr137);
                                       }
                                       §§goto(addr125);
                                    }
                                    addr137:
                                    projhit = null;
                                    §§goto(addr140);
                                 }
                                 §§goto(addr105);
                              }
                              §§goto(addr125);
                           }
                           §§goto(addr98);
                        }
                        addr140:
                        removeEventListener(Event.ENTER_FRAME,projloop);
                     };
                     if(!_loc5_)
                     {
                        soundn = "SamuraiShotSound";
                        if(m.pclass)
                        {
                           soundn = m.pclass + "ShotSound";
                        }
                        §§push(Boolean(m.enemy));
                        if(_loc4_)
                        {
                           §§push(§§pop());
                           if(!_loc5_)
                           {
                              if(§§pop())
                              {
                                 if(!_loc5_)
                                 {
                                    §§pop();
                                    if(_loc4_)
                                    {
                                       §§push(Boolean(root[m.pname + "ShotSound"]));
                                       if(_loc4_)
                                       {
                                          addr132:
                                          if(§§pop())
                                          {
                                             if(_loc4_)
                                             {
                                                soundn = root[m.pname + "ShotSound"];
                                                addr146:
                                                this.playSound(soundn);
                                                projectile = m.projectile;
                                                skillo = root[m.battleaction.split(" ").join("_")];
                                                if(!_loc5_)
                                                {
                                                   trace("Shot: " + skillo);
                                                   trace("Shot strikes: " + m.atkNum);
                                                   if(_loc4_)
                                                   {
                                                      addr186:
                                                      §§push(Boolean(skillo));
                                                      if(!_loc5_)
                                                      {
                                                         addr192:
                                                         if(§§pop())
                                                         {
                                                            if(_loc4_)
                                                            {
                                                               addr195:
                                                               §§pop();
                                                               addr200:
                                                               if("Projectile" in skillo)
                                                               {
                                                                  projectile = skillo.Projectile;
                                                                  addr214:
                                                                  var Pclass:Class = getDefinitionByName(projectile) as Class;
                                                                  projmc = new Pclass() as MovieClip;
                                                                  §§push(§§newactivation());
                                                                  if(!_loc5_)
                                                                  {
                                                                     §§push(Boolean(skillo));
                                                                     if(_loc4_)
                                                                     {
                                                                        if(§§pop())
                                                                        {
                                                                           if(_loc4_)
                                                                           {
                                                                              §§pop();
                                                                              addr247:
                                                                              §§push("Double" in skillo);
                                                                              if(!_loc5_)
                                                                              {
                                                                                 addr253:
                                                                                 §§push(Boolean(§§pop()));
                                                                              }
                                                                              §§pop().§§slot[8] = §§pop();
                                                                              projabd = new AnimatedBitmapData(projmc);
                                                                              projab = new AnimatedBitmap(projabd,Event.ENTER_FRAME,60);
                                                                              addr272:
                                                                              if(projmc.splash)
                                                                              {
                                                                                 C = getDefinitionByName(projmc.splash) as Class;
                                                                                 projhit = new C() as MovieClip;
                                                                                 projhit.gotoAndStop(1);
                                                                              }
                                                                              projab._destroyData = true;
                                                                              startmc = m.ar.animatedBitmapData.Data["f" + (m.ar.currentFrame + 1)].smc;
                                                                              if(!_loc5_)
                                                                              {
                                                                                 startm = new Matrix(1,0,0,1,startmc.x,startmc.y);
                                                                                 addr338:
                                                                                 startm.concat(m.ar.animatedBitmapData._matrix);
                                                                                 if(_loc4_)
                                                                                 {
                                                                                    startm.concat(m.getChildAt(0).transform.matrix);
                                                                                    startm.concat(m.transform.matrix);
                                                                                 }
                                                                                 startp = new Point(startm.tx,startm.ty);
                                                                                 projab.x = startp.x;
                                                                                 projab.y = startp.y;
                                                                                 addChildAt(projab,getChildIndex(m));
                                                                                 projab.visible = false;
                                                                                 if(_loc4_)
                                                                                 {
                                                                                    §§goto(addr410);
                                                                                 }
                                                                                 §§goto(addr421);
                                                                              }
                                                                              §§goto(addr338);
                                                                           }
                                                                        }
                                                                     }
                                                                     §§goto(addr253);
                                                                  }
                                                                  §§goto(addr247);
                                                                  addr201:
                                                               }
                                                               §§goto(addr214);
                                                            }
                                                         }
                                                         §§goto(addr200);
                                                      }
                                                      §§goto(addr195);
                                                   }
                                                   addr410:
                                                   projmc = null;
                                                   projabd = null;
                                                   if(_loc4_)
                                                   {
                                                      addr421:
                                                      Pclass = null;
                                                      §§goto(addr425);
                                                   }
                                                   addr425:
                                                   addEventListener(Event.ENTER_FRAME,projloop);
                                                   return;
                                                }
                                                §§goto(addr421);
                                             }
                                             §§goto(addr201);
                                          }
                                          §§goto(addr146);
                                       }
                                       §§goto(addr195);
                                    }
                                    §§goto(addr421);
                                 }
                                 §§goto(addr195);
                              }
                              §§goto(addr132);
                           }
                           §§goto(addr192);
                        }
                        §§goto(addr195);
                     }
                     §§goto(addr338);
                  }
                  §§goto(addr272);
               }
               §§goto(addr338);
            }
            §§goto(addr186);
         }
         §§goto(addr214);
      }
      
      public function manageScene(param1:MovieClip) : void
      {
         var _loc2_:Boolean = true;
         var _loc3_:Boolean = false;
         if(!param1)
         {
            if(!_loc3_)
            {
               return;
            }
         }
         else
         {
            if(!param1.initx)
            {
               if(_loc2_)
               {
                  param1.initx = param1.x - this.l0.x;
                  addr41:
                  if(!param1.inity)
                  {
                     if(!_loc2_)
                     {
                     }
                  }
                  §§goto(addr63);
               }
               param1.inity = param1.y - this.l0.y;
               if(!_loc3_)
               {
                  §§goto(addr63);
               }
               §§goto(addr73);
            }
            §§goto(addr41);
         }
         addr63:
         param1.x = this.l0.x + param1.initx;
         if(!_loc3_)
         {
            addr73:
            param1.y = this.l0.y + param1.inity;
         }
      }
      
      public function blends() : void
      {
         var _loc13_:Boolean = true;
         var _loc14_:Boolean = false;
         var _loc1_:* = 0;
         var _loc2_:* = 0;
         var _loc3_:Object = null;
         var _loc4_:AnimatedBitmap = null;
         var _loc5_:MovieClip = null;
         var _loc6_:MovieClip = null;
         var _loc7_:Matrix = null;
         var _loc8_:MovieClip = null;
         var _loc9_:Matrix = null;
         var _loc10_:Matrix = null;
         var _loc11_:Matrix = null;
         var _loc12_:Point = null;
         if(!_loc14_)
         {
            §§push(int(this.weaponBlends.length));
            if(!_loc14_)
            {
               _loc1_ = §§pop();
               if(_loc13_)
               {
                  addr61:
                  §§push(0);
                  if(!_loc14_)
                  {
                     §§goto(addr64);
                  }
                  §§goto(addr303);
               }
               §§goto(addr67);
            }
            addr64:
            _loc2_ = §§pop();
            if(_loc13_)
            {
               addr67:
               loop0:
               while(true)
               {
                  §§push(_loc2_);
                  addr303:
                  while(true)
                  {
                     if(§§pop() >= _loc1_)
                     {
                        break loop0;
                     }
                     _loc3_ = this.weaponBlends[_loc2_];
                     _loc4_ = _loc3_.ab;
                     if(_loc13_)
                     {
                        if(!_loc3_.t)
                        {
                           if(_loc13_)
                           {
                              trace("destroy blend");
                              if(_loc13_)
                              {
                                 _loc4_._destroyData = true;
                                 _loc4_.destroy();
                                 if(!_loc14_)
                                 {
                                    addr98:
                                    this.weaponBlends.splice(_loc2_,1);
                                    if(_loc13_)
                                    {
                                       addr106:
                                       §§push(_loc2_);
                                       if(!_loc14_)
                                       {
                                          §§push(§§pop() - 1);
                                          if(_loc13_)
                                          {
                                             _loc2_ = §§pop();
                                             if(!_loc14_)
                                             {
                                                §§push(_loc1_);
                                                if(_loc13_)
                                                {
                                                   addr122:
                                                   _loc1_ = §§pop() - 1;
                                                   if(_loc14_)
                                                   {
                                                      continue;
                                                   }
                                                   addr125:
                                                   if(!_loc3_.t.ar)
                                                   {
                                                      if(!_loc13_)
                                                      {
                                                         continue;
                                                      }
                                                      addr132:
                                                   }
                                                   else
                                                   {
                                                      setChildIndex(_loc4_,getChildIndex(_loc3_.t.ar) + 1);
                                                      if(_loc14_)
                                                      {
                                                         continue;
                                                      }
                                                      addr153:
                                                      if(!(_loc5_ = _loc3_.t.getChildAt(0).getChildAt(0)[_loc3_.wepmc]))
                                                      {
                                                         if(_loc13_)
                                                         {
                                                            _loc4_.visible = false;
                                                            if(!_loc14_)
                                                            {
                                                               addr301:
                                                               _loc2_++;
                                                               continue;
                                                            }
                                                            §§goto(addr301);
                                                         }
                                                      }
                                                      else
                                                      {
                                                         _loc4_.visible = true;
                                                      }
                                                      _loc6_ = _loc5_[_loc3_.blendmc];
                                                      if(!_loc14_)
                                                      {
                                                         §§push(!_loc5_);
                                                         if(!_loc14_)
                                                         {
                                                            §§push(§§pop());
                                                            if(!_loc14_)
                                                            {
                                                               if(!§§pop())
                                                               {
                                                                  if(!_loc14_)
                                                                  {
                                                                     §§pop();
                                                                     if(_loc13_)
                                                                     {
                                                                        §§push(!_loc6_);
                                                                        if(!_loc13_)
                                                                        {
                                                                        }
                                                                        addr214:
                                                                        §§pop();
                                                                        if(!_loc14_)
                                                                        {
                                                                           addr222:
                                                                           if(!_loc3_.t.ar)
                                                                           {
                                                                              addr223:
                                                                           }
                                                                           else
                                                                           {
                                                                              _loc7_ = _loc3_.t.transform.matrix;
                                                                              _loc9_ = (_loc8_ = _loc3_.t.getChildAt(0)).transform.matrix;
                                                                              _loc10_ = _loc8_.getChildAt(0).transform.matrix;
                                                                              (_loc11_ = _loc5_.transform.matrix).concat(_loc10_);
                                                                              if(_loc13_)
                                                                              {
                                                                                 _loc11_.concat(_loc9_);
                                                                                 if(_loc13_)
                                                                                 {
                                                                                    _loc11_.concat(_loc7_);
                                                                                    if(_loc13_)
                                                                                    {
                                                                                       _loc4_.transform.matrix = _loc11_;
                                                                                    }
                                                                                 }
                                                                              }
                                                                              _loc12_ = _loc6_.localToGlobal(new Point(0,0));
                                                                              if(!_loc14_)
                                                                              {
                                                                                 _loc4_.x = _loc12_.x;
                                                                                 if(_loc13_)
                                                                                 {
                                                                                    _loc4_.y = _loc12_.y;
                                                                                 }
                                                                              }
                                                                           }
                                                                           §§goto(addr301);
                                                                        }
                                                                     }
                                                                     §§goto(addr223);
                                                                  }
                                                               }
                                                               §§push(§§pop());
                                                            }
                                                            if(!§§pop())
                                                            {
                                                               if(!_loc14_)
                                                               {
                                                                  §§goto(addr214);
                                                               }
                                                            }
                                                            §§goto(addr222);
                                                         }
                                                         §§goto(addr214);
                                                      }
                                                      §§goto(addr223);
                                                   }
                                                   §§goto(addr301);
                                                }
                                                §§goto(addr122);
                                             }
                                             §§goto(addr153);
                                          }
                                       }
                                       §§goto(addr122);
                                    }
                                    §§goto(addr132);
                                 }
                              }
                              §§goto(addr125);
                           }
                           §§goto(addr106);
                        }
                        §§goto(addr125);
                     }
                     §§goto(addr98);
                  }
               }
            }
            return;
         }
         §§goto(addr61);
      }
      
      public function clearblends(param1:String = "") : void
      {
         var _loc8_:Boolean = false;
         var _loc9_:Boolean = true;
         var _loc2_:* = 0;
         var _loc3_:* = 0;
         var _loc4_:* = 0;
         var _loc5_:Object = null;
         var _loc6_:AnimatedBitmap = null;
         var _loc7_:* = null;
         if(_loc9_)
         {
            §§push(int(this.weaponBlends.length));
            if(_loc9_)
            {
               _loc2_ = §§pop();
               addr42:
               §§push(0);
               if(_loc9_)
               {
                  _loc3_ = §§pop();
                  loop4:
                  while(true)
                  {
                     §§push(_loc3_);
                     if(!_loc8_)
                     {
                        while(true)
                        {
                           §§push(_loc2_);
                           if(_loc9_)
                           {
                              if(§§pop() >= §§pop())
                              {
                                 §§push(int(this.setWeaponBlends.length));
                                 if(_loc9_)
                                 {
                                    addr138:
                                    _loc2_ = §§pop();
                                    §§push(0);
                                    if(_loc8_)
                                    {
                                    }
                                    break loop4;
                                 }
                                 _loc4_ = §§pop();
                                 addr217:
                                 while(true)
                                 {
                                    §§push(_loc4_);
                                    break loop4;
                                 }
                                 addr217:
                              }
                              else
                              {
                                 _loc5_ = this.weaponBlends[_loc3_];
                                 if(_loc9_)
                                 {
                                    trace("blend:" + _loc5_);
                                 }
                                 _loc6_ = _loc5_.ab;
                                 §§push(_loc5_.t.pname == param1);
                                 if(!_loc8_)
                                 {
                                    if(!§§pop())
                                    {
                                       if(!_loc8_)
                                       {
                                          addr80:
                                          §§pop();
                                          if(_loc9_)
                                          {
                                             addr87:
                                             if(param1 == "")
                                             {
                                                trace("destroy blend");
                                                _loc6_._destroyData = true;
                                                addr94:
                                                _loc6_.destroy();
                                                this.weaponBlends.splice(_loc3_,1);
                                                if(!_loc8_)
                                                {
                                                   §§push(_loc3_);
                                                   if(_loc9_)
                                                   {
                                                      §§push(§§pop() - 1);
                                                      if(_loc9_)
                                                      {
                                                         _loc3_ = §§pop();
                                                         §§push(_loc2_);
                                                         if(_loc8_)
                                                         {
                                                         }
                                                         addr123:
                                                         _loc2_ = §§pop();
                                                         _loc3_++;
                                                         continue loop4;
                                                      }
                                                      §§push(§§pop() - 1);
                                                   }
                                                   §§goto(addr123);
                                                }
                                             }
                                             §§goto(addr123);
                                          }
                                          §§goto(addr94);
                                       }
                                    }
                                    §§goto(addr87);
                                 }
                                 §§goto(addr80);
                              }
                           }
                           break;
                        }
                        while(true)
                        {
                           if(§§pop() >= §§pop())
                           {
                              §§goto(addr220);
                           }
                           §§push(this.setWeaponBlends[_loc4_]);
                           if(!_loc8_)
                           {
                              §§push(§§pop());
                              if(!_loc8_)
                              {
                                 §§push(§§pop());
                                 if(!_loc8_)
                                 {
                                    _loc7_ = §§pop();
                                    if(_loc9_)
                                    {
                                       addr163:
                                       §§push(§§pop() == param1);
                                       if(!_loc8_)
                                       {
                                          if(!§§pop())
                                          {
                                             if(!_loc8_)
                                             {
                                                addr171:
                                                §§pop();
                                                if(!_loc8_)
                                                {
                                                   addr178:
                                                   if(param1 == "")
                                                   {
                                                      if(!_loc8_)
                                                      {
                                                         this.setWeaponBlends.splice(_loc4_,1);
                                                         if(!_loc8_)
                                                         {
                                                            §§push(_loc4_);
                                                            if(_loc9_)
                                                            {
                                                               §§push(§§pop() - 1);
                                                               if(!_loc8_)
                                                               {
                                                                  addr204:
                                                                  _loc4_ = §§pop();
                                                                  addr216:
                                                                  if(_loc9_)
                                                                  {
                                                                     addr207:
                                                                     §§push(_loc2_);
                                                                     if(_loc9_)
                                                                     {
                                                                        §§push(§§pop() - 1);
                                                                     }
                                                                  }
                                                                  _loc4_++;
                                                                  §§goto(addr217);
                                                               }
                                                               _loc2_ = §§pop();
                                                               if(!_loc8_)
                                                               {
                                                                  §§goto(addr216);
                                                               }
                                                               §§goto(addr217);
                                                            }
                                                            §§goto(addr204);
                                                         }
                                                         §§goto(addr217);
                                                      }
                                                   }
                                                   §§goto(addr204);
                                                }
                                                §§goto(addr207);
                                             }
                                          }
                                          §§goto(addr178);
                                       }
                                       §§goto(addr171);
                                    }
                                    §§goto(addr178);
                                 }
                                 §§goto(addr163);
                              }
                           }
                           §§goto(addr163);
                        }
                        addr219:
                        addr128:
                     }
                     break;
                  }
                  while(true)
                  {
                     §§goto(addr219);
                     §§goto(addr217);
                  }
                  addr220:
                  return;
               }
               §§goto(addr138);
            }
            §§goto(addr128);
         }
         §§goto(addr42);
      }
      
      public function __setPerspectiveProjection_(param1:Event) : void
      {
         var _loc2_:Boolean = false;
         var _loc3_:Boolean = true;
         if(!_loc2_)
         {
            root.transform.perspectiveProjection.fieldOfView = 55;
            if(_loc3_)
            {
               root.transform.perspectiveProjection.projectionCenter = new Point(400,300);
            }
         }
      }
      
      function frame1() : *
      {
         /*
          * Decompilation error
          * Timeout (1 minute) was reached
          * Instruction count: 7864
          */
         throw new flash.errors.IllegalOperationError("Not decompiled due to timeout");
      }
      
      function frame2() : *
      {
         var _loc1_:Boolean = false;
         var _loc2_:Boolean = true;
         if(!_loc1_)
         {
            if(this.onKong)
            {
               if(!_loc1_)
               {
                  this.isGuest = this.kongregate.services.isGuest();
                  if(_loc2_)
                  {
                     addr34:
                     §§push(this.isGuest);
                     if(_loc2_)
                     {
                        §§push(Boolean(§§pop()));
                        §§push(Boolean(§§pop()));
                        if(!_loc1_)
                        {
                           if(§§pop())
                           {
                              §§pop();
                              §§push(this.onKong);
                              if(_loc2_)
                              {
                                 addr51:
                                 if(§§pop())
                                 {
                                    if(!_loc1_)
                                    {
                                       this.kongbtn.visible = true;
                                       this.kongbtn.mouseEnabled = true;
                                       this.kongbtn.addEventListener(MouseEvent.CLICK,this.sign);
                                       this.kongregate.services.showRegistrationBox();
                                       this.kongregate.services.addEventListener("login",this.onKongregateInPageLogin);
                                       if(_loc2_)
                                       {
                                          addr83:
                                          this.mousedepth();
                                          this.q.stoploading();
                                          stage.quality = "high";
                                          MovieClip(root).tabChildren = true;
                                          if(!_loc1_)
                                          {
                                             §§push(!this.onKong);
                                             if(_loc2_)
                                             {
                                                §§push(§§pop());
                                                if(_loc2_)
                                                {
                                                   addr115:
                                                   if(§§pop())
                                                   {
                                                      §§pop();
                                                      addr117:
                                                      §§push(this.onSpecial == "");
                                                      if(!_loc2_)
                                                      {
                                                      }
                                                      §§goto(addr175);
                                                   }
                                                   if(§§pop())
                                                   {
                                                      this.kongbtn.mouseEnabled = false;
                                                      if(!_loc1_)
                                                      {
                                                         addr130:
                                                         this.kongbtn.visible = false;
                                                         this.loginmc = new Login() as MovieClip;
                                                         addr140:
                                                         addChildAt(this.loginmc,getChildIndex(this.fader));
                                                         this.loginmc.x = 266.65;
                                                         if(_loc2_)
                                                         {
                                                            this.loginmc.y = 433.5;
                                                            addr158:
                                                            this.loginmc.gotoAndStop(1);
                                                            addr171:
                                                            addr175:
                                                            §§push(!§§pop());
                                                            if(!§§pop())
                                                            {
                                                               if(_loc2_)
                                                               {
                                                                  §§pop();
                                                                  if(!_loc1_)
                                                                  {
                                                                     §§push(this.acc.connected);
                                                                     if(!_loc2_)
                                                                     {
                                                                     }
                                                                     §§goto(addr197);
                                                                  }
                                                                  §§goto(addr200);
                                                               }
                                                            }
                                                            addr197:
                                                            addr196:
                                                            if(§§pop())
                                                            {
                                                               if(_loc2_)
                                                               {
                                                                  addr200:
                                                                  this.acc.disconnect();
                                                               }
                                                               addr203:
                                                               this.acc = null;
                                                            }
                                                            return;
                                                            §§push(this.acc === null);
                                                         }
                                                         §§goto(addr197);
                                                      }
                                                      §§goto(addr140);
                                                   }
                                                   else if(!this.isGuest)
                                                   {
                                                      this.login();
                                                      if(_loc2_)
                                                      {
                                                         §§goto(addr171);
                                                      }
                                                      §§goto(addr203);
                                                   }
                                                   §§goto(addr171);
                                                }
                                                §§goto(addr175);
                                             }
                                             §§goto(addr196);
                                          }
                                          §§goto(addr140);
                                       }
                                       §§goto(addr130);
                                    }
                                    §§goto(addr117);
                                 }
                                 §§goto(addr83);
                              }
                              §§goto(addr117);
                           }
                           §§goto(addr51);
                        }
                        §§goto(addr115);
                     }
                     §§goto(addr197);
                  }
                  §§goto(addr158);
               }
               §§goto(addr130);
            }
            §§goto(addr34);
         }
         §§goto(addr158);
      }
      
      function frame3() : *
      {
         var _loc1_:Boolean = false;
         var _loc2_:Boolean = true;
         if(!_loc1_)
         {
            this.mousedepth();
         }
         this.q.stoploading();
         stage.quality = "high";
         §§push(this.disallowed);
         if(_loc2_)
         {
            if(§§pop())
            {
               gotoAndStop(2);
            }
            MovieClip(root).tabChildren = false;
            this.musicChannel.stop();
            §§push(Boolean(this.loginmc));
            if(!_loc1_)
            {
               if(§§pop())
               {
                  if(!_loc1_)
                  {
                     §§pop();
                     if(!_loc1_)
                     {
                        §§push(this.loginmc.stage === null);
                        if(_loc2_)
                        {
                           addr79:
                           if(!§§pop())
                           {
                              removeChild(this.loginmc);
                           }
                        }
                        §§goto(addr79);
                     }
                     return;
                  }
               }
            }
         }
         §§goto(addr79);
      }
      
      function frame4() : *
      {
         var _loc1_:Boolean = true;
         var _loc2_:Boolean = false;
         if(this.timermc)
         {
            if(_loc1_)
            {
               this.timermc.visible = false;
               if(_loc1_)
               {
                  addr27:
                  if(!this.RoomData)
                  {
                     if(_loc1_)
                     {
                        this.RoomData = new Object();
                        if(_loc1_)
                        {
                           this.RoomData.Type = "City";
                           if(_loc1_)
                           {
                              addr46:
                              this.RoomData.Map = this.q.mapLoading;
                              §§push("Floor" in this.RoomData);
                              §§push("Floor" in this.RoomData);
                              if(_loc1_)
                              {
                                 if(§§pop())
                                 {
                                    §§pop();
                                    if(!_loc2_)
                                    {
                                       §§push(Boolean(root[this.RoomData.Map + "Stronghold"]));
                                       if(!_loc2_)
                                       {
                                          addr76:
                                          if(§§pop())
                                          {
                                             addr77:
                                             this.q.mapLoading = this.RoomData.Map + this.RoomData.Floor;
                                             if(_loc1_)
                                             {
                                                §§goto(addr89);
                                             }
                                             §§goto(addr256);
                                          }
                                          addr89:
                                          this.q.loadData(this.loado,0,this.loadmc);
                                          this.RoomData.Mines = this.q.mapLoading.split(" ").join("_") in root.mines;
                                          if(_loc1_)
                                          {
                                             addr113:
                                             trace("Loading mine: " + this.RoomData.Mines);
                                             addr120:
                                             this.url = null;
                                             if(_loc1_)
                                             {
                                                if(root[this.RoomData.Map.split(" ").join("_") + "Music"])
                                                {
                                                   if(_loc1_)
                                                   {
                                                      §§push(this);
                                                      §§push("http://www.mallorca-immobilien.biz/Esgrima2/Music/");
                                                      if(!_loc2_)
                                                      {
                                                         §§push(§§pop() + root[this.RoomData.Map.split(" ").join("_") + "Music"]);
                                                      }
                                                      §§pop().url = §§pop();
                                                      if(root[this.RoomData.Map.split(" ").join("_") + "Music"] == this.musicPlaying)
                                                      {
                                                         addr178:
                                                         this.url = null;
                                                      }
                                                      addr203:
                                                      if(this.url)
                                                      {
                                                         this.musicChannel.stop();
                                                         addr209:
                                                         this.urlr = new URLRequest(this.url);
                                                         this.sound = new Sound();
                                                         if(_loc1_)
                                                         {
                                                            this.sound.load(this.urlr);
                                                            if(!_loc2_)
                                                            {
                                                               this.sound.addEventListener(Event.COMPLETE,this.completed);
                                                               if(_loc1_)
                                                               {
                                                                  addr238:
                                                                  removeEventListener(Event.ENTER_FRAME,this.menuloop);
                                                                  stage.focus = MovieClip(root);
                                                               }
                                                               addChild(this.loadmc);
                                                               if(!_loc2_)
                                                               {
                                                                  addr256:
                                                                  this.mousedepth();
                                                                  if(!_loc2_)
                                                                  {
                                                                     this.loadmc.cancelbtn.visible = false;
                                                                     if(!_loc1_)
                                                                     {
                                                                     }
                                                                     §§goto(addr287);
                                                                  }
                                                                  this.loadmc.mouseEnabled = true;
                                                                  this.collectGarbage();
                                                                  if(!_loc2_)
                                                                  {
                                                                     addr286:
                                                                     if(!this.disallowed)
                                                                     {
                                                                     }
                                                                  }
                                                               }
                                                               §§goto(addr287);
                                                            }
                                                         }
                                                         §§goto(addr256);
                                                      }
                                                      §§goto(addr238);
                                                   }
                                                   §§goto(addr203);
                                                }
                                                else
                                                {
                                                   addr189:
                                                   §§push(this.RoomData.Type !== "City");
                                                   if(this.RoomData.Type !== "City")
                                                   {
                                                      if(!_loc2_)
                                                      {
                                                         §§pop();
                                                         if(!_loc2_)
                                                         {
                                                            addr199:
                                                            if(!this.RoomData.Mines)
                                                            {
                                                               this.url = "http://www.mallorca-immobilien.biz/Esgrima2/Music/BATTLE3.mp3";
                                                            }
                                                            §§goto(addr203);
                                                         }
                                                         §§goto(addr256);
                                                      }
                                                      §§goto(addr286);
                                                   }
                                                   §§goto(addr199);
                                                }
                                             }
                                             §§goto(addr209);
                                          }
                                          §§goto(addr287);
                                       }
                                       §§goto(addr199);
                                    }
                                    addr287:
                                    gotoAndStop(2);
                                    return;
                                 }
                                 §§goto(addr76);
                              }
                              §§goto(addr189);
                           }
                           §§goto(addr120);
                        }
                        §§goto(addr203);
                     }
                     §§goto(addr178);
                  }
                  §§goto(addr46);
               }
               §§goto(addr113);
            }
            §§goto(addr77);
         }
         §§goto(addr27);
      }
      
      function frame5() : *
      {
         var _loc2_:Boolean = false;
         var _loc3_:Boolean = true;
         if(_loc3_)
         {
            this.joinedgc = true;
            if(_loc3_)
            {
               trace("PI: " + this.pi);
               §§push(this.chatbg == null);
               if(!_loc2_)
               {
                  if(!§§pop())
                  {
                     if(!_loc2_)
                     {
                        §§pop();
                        §§push(!this.chatbg);
                        if(_loc3_)
                        {
                           addr52:
                           if(§§pop())
                           {
                              if(_loc3_)
                              {
                                 trace("Create hud");
                                 this.chatFormat.align = TextFormatAlign.LEFT;
                                 if(!_loc2_)
                                 {
                                    this.chatbg = new Bitmap();
                                    this.chatbg.bitmapData = new ChatBG();
                                    if(_loc3_)
                                    {
                                       this.chatbg.x = this.chatbgp.x;
                                       if(!_loc2_)
                                       {
                                          this.chatbg.y = this.chatbgp.y;
                                          if(_loc3_)
                                          {
                                             addChildAt(this.chatbg,getChildIndex(this.mouse));
                                             if(!_loc2_)
                                             {
                                                this.publicbtn = new PublicBtn() as SimpleButton;
                                                if(_loc3_)
                                                {
                                                   this.publicbtn.x = 41;
                                                   this.publicbtn.y = 399;
                                                   addr123:
                                                   addChildAt(this.publicbtn,getChildIndex(this.mouse));
                                                   this.guildtabbtn = new GuildTab() as SimpleButton;
                                                   if(_loc3_)
                                                   {
                                                      this.guildtabbtn.x = 97.6;
                                                      if(!_loc2_)
                                                      {
                                                         this.guildtabbtn.y = 399;
                                                         if(_loc3_)
                                                         {
                                                            addChildAt(this.guildtabbtn,getChildIndex(this.mouse));
                                                            if(!_loc2_)
                                                            {
                                                               this.mapchatbg = new Bitmap();
                                                               this.mapchatbg.bitmapData = new MapChatBG();
                                                               if(!_loc2_)
                                                               {
                                                                  this.mapchatbg.x = 0;
                                                                  this.mapchatbg.y = 494;
                                                                  addr183:
                                                                  this.mapchatbg.visible = false;
                                                                  addChild(this.mapchatbg);
                                                                  if(!_loc2_)
                                                                  {
                                                                     this.chatmin = new Min() as SimpleButton;
                                                                     this.chatmin.x = this.chatminp1.x;
                                                                     this.chatmin.y = this.chatminp1.y;
                                                                     if(_loc3_)
                                                                     {
                                                                        addChildAt(this.chatmin,getChildIndex(this.mouse));
                                                                        this.mapchat = new TextField();
                                                                        addr226:
                                                                        this.mapchat.type = TextFieldType.DYNAMIC;
                                                                        this.mapchat.wordWrap = true;
                                                                        this.mapchat.x = 2;
                                                                        addr239:
                                                                        this.mapchat.y = 495.35;
                                                                        this.mapchat.height = 83.65;
                                                                        this.mapchat.width = 518.95;
                                                                        if(!_loc2_)
                                                                        {
                                                                           this.mapchat.defaultTextFormat = this.chatFormat;
                                                                           this.mapchat.embedFonts = true;
                                                                           this.mapchat.antiAliasType = AntiAliasType.ADVANCED;
                                                                           this.mapchat.multiline = true;
                                                                           if(_loc3_)
                                                                           {
                                                                              addChild(this.mapchat);
                                                                              this.mapchat.visible = false;
                                                                              this.mapchat.mouseEnabled = false;
                                                                              this.mapchat.text = "";
                                                                              if(!_loc2_)
                                                                              {
                                                                                 this.mapchat.filters = [this.blackglow];
                                                                                 this.guildtxt = new TextField();
                                                                                 this.guildtxt.type = TextFieldType.DYNAMIC;
                                                                                 if(_loc3_)
                                                                                 {
                                                                                    this.guildtxt.wordWrap = true;
                                                                                    this.guildtxt.x = 16;
                                                                                    this.guildtxt.y = 411;
                                                                                    this.guildtxt.width = 232.05;
                                                                                    this.guildtxt.height = 145.3;
                                                                                    this.guildtxt.defaultTextFormat = new TextFormat("Familiar Pro",this.chatFormat.size,65280);
                                                                                    this.guildtxt.embedFonts = true;
                                                                                    this.guildtxt.antiAliasType = AntiAliasType.ADVANCED;
                                                                                    this.guildtxt.multiline = true;
                                                                                    addChildAt(this.guildtxt,getChildIndex(this.mouse));
                                                                                    if(!_loc2_)
                                                                                    {
                                                                                       this.guildtxt.mouseEnabled = false;
                                                                                       if(_loc3_)
                                                                                       {
                                                                                          this.guildtxt.text = "";
                                                                                          this.guildtxt.textColor = 65280;
                                                                                          addr375:
                                                                                          trace("align: " + this.chatFormat.align);
                                                                                          this.guildtxt.filters = [this.blackglow];
                                                                                          this.guildtxt.visible = false;
                                                                                          this.chattxt = new TextField();
                                                                                          if(!_loc2_)
                                                                                          {
                                                                                             this.chattxt.type = TextFieldType.DYNAMIC;
                                                                                             this.chattxt.wordWrap = true;
                                                                                             addr407:
                                                                                             this.chattxt.x = 16;
                                                                                             if(!_loc2_)
                                                                                             {
                                                                                                this.chattxt.y = 411;
                                                                                                this.chattxt.width = 232.05;
                                                                                                if(_loc3_)
                                                                                                {
                                                                                                   this.chattxt.height = 145.3;
                                                                                                   this.chattxt.defaultTextFormat = this.chatFormat;
                                                                                                   this.chattxt.embedFonts = true;
                                                                                                   this.chattxt.antiAliasType = AntiAliasType.ADVANCED;
                                                                                                   if(_loc3_)
                                                                                                   {
                                                                                                      this.chattxt.multiline = true;
                                                                                                      if(_loc3_)
                                                                                                      {
                                                                                                         addChildAt(this.chattxt,getChildIndex(this.mouse));
                                                                                                         this.chattxt.mouseEnabled = false;
                                                                                                         this.chattxt.text = "";
                                                                                                         if(_loc3_)
                                                                                                         {
                                                                                                            trace("align: " + this.chatFormat.align);
                                                                                                            if(!_loc2_)
                                                                                                            {
                                                                                                               this.chattxt.filters = [this.blackglow];
                                                                                                               if(_loc3_)
                                                                                                               {
                                                                                                                  this.mapinput = new TextField();
                                                                                                                  this.mapinput.type = TextFieldType.INPUT;
                                                                                                                  this.mapinput.x = this.mapchat.x;
                                                                                                                  if(_loc3_)
                                                                                                                  {
                                                                                                                     this.mapinput.y = 576.2;
                                                                                                                     this.mapinput.width = this.mapchat.width;
                                                                                                                     this.mapinput.height = 30.8;
                                                                                                                     if(_loc3_)
                                                                                                                     {
                                                                                                                        this.mapinput.defaultTextFormat = this.chatFormat;
                                                                                                                        this.mapinput.embedFonts = true;
                                                                                                                        this.mapinput.antiAliasType = AntiAliasType.ADVANCED;
                                                                                                                        this.mapinput.multiline = false;
                                                                                                                        if(!_loc2_)
                                                                                                                        {
                                                                                                                           addChild(this.mapinput);
                                                                                                                           if(!_loc2_)
                                                                                                                           {
                                                                                                                              this.mapinput.visible = false;
                                                                                                                              addr552:
                                                                                                                              this.mapchatScroll = new UIScrollBar();
                                                                                                                              if(!_loc2_)
                                                                                                                              {
                                                                                                                                 this.mapchatScroll.scrollTarget = this.mapchat;
                                                                                                                                 if(_loc3_)
                                                                                                                                 {
                                                                                                                                    this.mapchatScroll.height = this.mapchat.height;
                                                                                                                                    this.mapchatScroll.move(this.mapchat.x + this.mapchat.width,this.mapchat.y);
                                                                                                                                    addChild(this.mapchatScroll);
                                                                                                                                    this.mapchatScroll.visible = false;
                                                                                                                                    this.chatinput = new TextField();
                                                                                                                                    if(_loc3_)
                                                                                                                                    {
                                                                                                                                       this.chatinput.type = TextFieldType.INPUT;
                                                                                                                                       if(_loc3_)
                                                                                                                                       {
                                                                                                                                          this.chatinput.x = 16;
                                                                                                                                          this.chatinput.y = 563.25;
                                                                                                                                          this.chatinput.width = 232.05;
                                                                                                                                          addr618:
                                                                                                                                          this.chatinput.height = 28.15;
                                                                                                                                          if(!_loc2_)
                                                                                                                                          {
                                                                                                                                             this.chatinput.defaultTextFormat = this.chatFormat;
                                                                                                                                             if(_loc3_)
                                                                                                                                             {
                                                                                                                                                addr631:
                                                                                                                                                this.chatinput.embedFonts = true;
                                                                                                                                                if(_loc3_)
                                                                                                                                                {
                                                                                                                                                   addr638:
                                                                                                                                                   this.chatinput.antiAliasType = AntiAliasType.ADVANCED;
                                                                                                                                                   if(_loc3_)
                                                                                                                                                   {
                                                                                                                                                      addr645:
                                                                                                                                                      this.chatinput.multiline = false;
                                                                                                                                                      addChildAt(this.chatinput,getChildIndex(this.mouse));
                                                                                                                                                      if(!_loc2_)
                                                                                                                                                      {
                                                                                                                                                         this.chatScroll = new UIScrollBar();
                                                                                                                                                         if(!_loc2_)
                                                                                                                                                         {
                                                                                                                                                            this.chatScroll.scrollTarget = this.chattxt;
                                                                                                                                                            this.chatScroll.height = this.chattxt.height;
                                                                                                                                                            addr677:
                                                                                                                                                            this.chatScroll.move(this.chattxt.x + this.chattxt.width,this.chattxt.y);
                                                                                                                                                            addChildAt(this.chatScroll,getChildIndex(this.mouse));
                                                                                                                                                            if(_loc3_)
                                                                                                                                                            {
                                                                                                                                                               addr701:
                                                                                                                                                               this.guildScroll = new UIScrollBar();
                                                                                                                                                               if(_loc3_)
                                                                                                                                                               {
                                                                                                                                                                  addr707:
                                                                                                                                                                  this.guildScroll.scrollTarget = this.guildtxt;
                                                                                                                                                                  this.guildScroll.height = this.guildtxt.height;
                                                                                                                                                                  if(!_loc2_)
                                                                                                                                                                  {
                                                                                                                                                                     this.guildScroll.move(this.guildtxt.x + this.guildtxt.width,this.guildtxt.y);
                                                                                                                                                                     addChildAt(this.guildScroll,getChildIndex(this.mouse));
                                                                                                                                                                     this.guildScroll.visible = false;
                                                                                                                                                                     if(_loc3_)
                                                                                                                                                                     {
                                                                                                                                                                        this.moneytxt = new TextField();
                                                                                                                                                                        if(!_loc2_)
                                                                                                                                                                        {
                                                                                                                                                                           addr761:
                                                                                                                                                                           this.moneytxt.mouseEnabled = false;
                                                                                                                                                                           this.moneytxt.type = TextFieldType.DYNAMIC;
                                                                                                                                                                           this.moneytxt.x = 113.6;
                                                                                                                                                                           if(!_loc2_)
                                                                                                                                                                           {
                                                                                                                                                                              this.moneytxt.y = 73.6;
                                                                                                                                                                              if(!_loc2_)
                                                                                                                                                                              {
                                                                                                                                                                                 this.moneytxt.width = 68.35;
                                                                                                                                                                                 this.moneytxt.height = 29.45;
                                                                                                                                                                                 if(_loc3_)
                                                                                                                                                                                 {
                                                                                                                                                                                    this.moneytxt.defaultTextFormat = this.chatFormat;
                                                                                                                                                                                    if(_loc3_)
                                                                                                                                                                                    {
                                                                                                                                                                                       addr800:
                                                                                                                                                                                       this.moneytxt.embedFonts = true;
                                                                                                                                                                                       addr804:
                                                                                                                                                                                       this.moneytxt.antiAliasType = AntiAliasType.ADVANCED;
                                                                                                                                                                                       this.moneytxt.multiline = false;
                                                                                                                                                                                       addChildAt(this.moneytxt,getChildIndex(this.mouse));
                                                                                                                                                                                       if(!_loc2_)
                                                                                                                                                                                       {
                                                                                                                                                                                          addr824:
                                                                                                                                                                                          this.moneytxt.filters = [this.blackglow];
                                                                                                                                                                                          this.lvltxt = new TextField();
                                                                                                                                                                                          this.lvltxt.type = TextFieldType.DYNAMIC;
                                                                                                                                                                                          if(_loc3_)
                                                                                                                                                                                          {
                                                                                                                                                                                             addr841:
                                                                                                                                                                                             this.lvlFormat = new TextFormat(this.chatFormat.font,16,16777215);
                                                                                                                                                                                             this.lvltxt.x = 96.4;
                                                                                                                                                                                             if(_loc3_)
                                                                                                                                                                                             {
                                                                                                                                                                                                this.lvltxt.y = 7.5;
                                                                                                                                                                                                this.lvltxt.width = 57.1;
                                                                                                                                                                                                if(!_loc2_)
                                                                                                                                                                                                {
                                                                                                                                                                                                   this.lvltxt.height = 29.45;
                                                                                                                                                                                                   this.lvltxt.defaultTextFormat = this.lvlFormat;
                                                                                                                                                                                                   addr876:
                                                                                                                                                                                                   this.lvltxt.embedFonts = true;
                                                                                                                                                                                                   this.lvltxt.antiAliasType = AntiAliasType.ADVANCED;
                                                                                                                                                                                                   this.lvltxt.multiline = false;
                                                                                                                                                                                                   addChildAt(this.lvltxt,getChildIndex(this.mouse));
                                                                                                                                                                                                   if(_loc3_)
                                                                                                                                                                                                   {
                                                                                                                                                                                                      addr900:
                                                                                                                                                                                                      this.lvltxt.filters = [this.blackglow];
                                                                                                                                                                                                      if(!_loc2_)
                                                                                                                                                                                                      {
                                                                                                                                                                                                         addr908:
                                                                                                                                                                                                         this.lvltxt.mouseEnabled = false;
                                                                                                                                                                                                         if(!_loc2_)
                                                                                                                                                                                                         {
                                                                                                                                                                                                            this.mapbtn = new MapButton() as SimpleButton;
                                                                                                                                                                                                            addr921:
                                                                                                                                                                                                            addChildAt(this.mapbtn,getChildIndex(this.mouse));
                                                                                                                                                                                                            if(_loc3_)
                                                                                                                                                                                                            {
                                                                                                                                                                                                               addr932:
                                                                                                                                                                                                               this.mapbtn.x = 438.1;
                                                                                                                                                                                                               if(!_loc3_)
                                                                                                                                                                                                               {
                                                                                                                                                                                                               }
                                                                                                                                                                                                               addr1118:
                                                                                                                                                                                                               addChildAt(this.shopbtn,getChildIndex(this.mouse));
                                                                                                                                                                                                               if(!_loc2_)
                                                                                                                                                                                                               {
                                                                                                                                                                                                                  this.friendsbtn = new FriendsBtn() as SimpleButton;
                                                                                                                                                                                                                  if(_loc3_)
                                                                                                                                                                                                                  {
                                                                                                                                                                                                                     this.friendsbtn.x = 728.6;
                                                                                                                                                                                                                     if(_loc3_)
                                                                                                                                                                                                                     {
                                                                                                                                                                                                                        addr1144:
                                                                                                                                                                                                                        this.friendsbtn.y = 32.65;
                                                                                                                                                                                                                        addChildAt(this.friendsbtn,getChildIndex(this.mouse));
                                                                                                                                                                                                                        this.settingsbtn = new SettingsBtn() as SimpleButton;
                                                                                                                                                                                                                        if(_loc3_)
                                                                                                                                                                                                                        {
                                                                                                                                                                                                                           this.settingsbtn.x = 771;
                                                                                                                                                                                                                           this.settingsbtn.y = 32.3;
                                                                                                                                                                                                                           addChildAt(this.settingsbtn,getChildIndex(this.mouse));
                                                                                                                                                                                                                           addr1180:
                                                                                                                                                                                                                           this.pvpbtn = new PVPBtn() as SimpleButton;
                                                                                                                                                                                                                           if(_loc3_)
                                                                                                                                                                                                                           {
                                                                                                                                                                                                                              this.pvpbtn.x = 50.3;
                                                                                                                                                                                                                           }
                                                                                                                                                                                                                           this.pvpbtn.y = 120.05;
                                                                                                                                                                                                                           if(!_loc2_)
                                                                                                                                                                                                                           {
                                                                                                                                                                                                                              addr1199:
                                                                                                                                                                                                                              addChildAt(this.pvpbtn,getChildIndex(this.mouse));
                                                                                                                                                                                                                              if(!_loc2_)
                                                                                                                                                                                                                              {
                                                                                                                                                                                                                                 addr1210:
                                                                                                                                                                                                                                 this.leavebtn = new LeaveBtn() as SimpleButton;
                                                                                                                                                                                                                                 this.leavebtn.x = 400;
                                                                                                                                                                                                                                 addr1220:
                                                                                                                                                                                                                                 this.leavebtn.y = 87.65;
                                                                                                                                                                                                                                 if(!_loc2_)
                                                                                                                                                                                                                                 {
                                                                                                                                                                                                                                    addr1226:
                                                                                                                                                                                                                                    addChildAt(this.leavebtn,getChildIndex(this.mouse));
                                                                                                                                                                                                                                    addr1234:
                                                                                                                                                                                                                                    this.timermc = new TimerMC() as MovieClip;
                                                                                                                                                                                                                                    this.timermc.x = 400;
                                                                                                                                                                                                                                    this.timermc.y = 50;
                                                                                                                                                                                                                                    if(!_loc2_)
                                                                                                                                                                                                                                    {
                                                                                                                                                                                                                                       addr1250:
                                                                                                                                                                                                                                       addChildAt(this.timermc,getChildIndex(this.mouse));
                                                                                                                                                                                                                                       addr1258:
                                                                                                                                                                                                                                       this.pi = new PI() as MovieClip;
                                                                                                                                                                                                                                       if(_loc3_)
                                                                                                                                                                                                                                       {
                                                                                                                                                                                                                                          this.pi.x = 16.8;
                                                                                                                                                                                                                                          if(_loc3_)
                                                                                                                                                                                                                                          {
                                                                                                                                                                                                                                             addr1273:
                                                                                                                                                                                                                                             this.pi.y = 7.4;
                                                                                                                                                                                                                                             addChildAt(this.pi,getChildIndex(this.mouse));
                                                                                                                                                                                                                                             addr1285:
                                                                                                                                                                                                                                             this.expmc = new XP() as MovieClip;
                                                                                                                                                                                                                                             if(_loc3_)
                                                                                                                                                                                                                                             {
                                                                                                                                                                                                                                                addr1294:
                                                                                                                                                                                                                                                this.expmc.x = this.expp.x;
                                                                                                                                                                                                                                                if(_loc3_)
                                                                                                                                                                                                                                                {
                                                                                                                                                                                                                                                   this.expmc.y = this.expp.y;
                                                                                                                                                                                                                                                   if(!_loc2_)
                                                                                                                                                                                                                                                   {
                                                                                                                                                                                                                                                      addr1311:
                                                                                                                                                                                                                                                      addChildAt(this.expmc,getChildIndex(this.mouse));
                                                                                                                                                                                                                                                      if(_loc3_)
                                                                                                                                                                                                                                                      {
                                                                                                                                                                                                                                                         this.displayxp();
                                                                                                                                                                                                                                                         addr1324:
                                                                                                                                                                                                                                                         this.buffmc = new POINT() as MovieClip;
                                                                                                                                                                                                                                                      }
                                                                                                                                                                                                                                                      §§goto(addr1405);
                                                                                                                                                                                                                                                   }
                                                                                                                                                                                                                                                   addr1330:
                                                                                                                                                                                                                                                   this.buffmc.x = this.buffp.x;
                                                                                                                                                                                                                                                   this.buffmc.y = this.buffp.y;
                                                                                                                                                                                                                                                   addChildAt(this.buffmc,getChildIndex(this.mouse));
                                                                                                                                                                                                                                                   if(!_loc2_)
                                                                                                                                                                                                                                                   {
                                                                                                                                                                                                                                                      this.attachTool(this.buffmc,"Skill");
                                                                                                                                                                                                                                                      addr1358:
                                                                                                                                                                                                                                                      this.timermc.visible = false;
                                                                                                                                                                                                                                                      addr1362:
                                                                                                                                                                                                                                                      this.timermc.mouseChildren = false;
                                                                                                                                                                                                                                                      this.timermc.mouseEnabled = false;
                                                                                                                                                                                                                                                      addr1370:
                                                                                                                                                                                                                                                      this.leavebtn.visible = false;
                                                                                                                                                                                                                                                      §§goto(addr1374);
                                                                                                                                                                                                                                                   }
                                                                                                                                                                                                                                                   §§goto(addr1462);
                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                §§goto(addr1408);
                                                                                                                                                                                                                                             }
                                                                                                                                                                                                                                             if(this.npctalk)
                                                                                                                                                                                                                                             {
                                                                                                                                                                                                                                                if(_loc3_)
                                                                                                                                                                                                                                                {
                                                                                                                                                                                                                                                   addr1401:
                                                                                                                                                                                                                                                   addChildAt(this.npctalk);
                                                                                                                                                                                                                                                   §§goto(addr1405);
                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                §§goto(addr1442);
                                                                                                                                                                                                                                             }
                                                                                                                                                                                                                                             §§goto(addr1405);
                                                                                                                                                                                                                                          }
                                                                                                                                                                                                                                          addr1374:
                                                                                                                                                                                                                                          this.pi.visible = false;
                                                                                                                                                                                                                                          this.guildtabbtn.visible = false;
                                                                                                                                                                                                                                          if(_loc3_)
                                                                                                                                                                                                                                          {
                                                                                                                                                                                                                                             addr1385:
                                                                                                                                                                                                                                             if(!("Guild" in this.pChar))
                                                                                                                                                                                                                                             {
                                                                                                                                                                                                                                                if(!_loc3_)
                                                                                                                                                                                                                                                {
                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                addr1405:
                                                                                                                                                                                                                                                this.enterChat = function(param1:KeyboardEvent):void
                                                                                                                                                                                                                                                {
                                                                                                                                                                                                                                                   var _loc2_:Boolean = true;
                                                                                                                                                                                                                                                   var _loc3_:Boolean = false;
                                                                                                                                                                                                                                                   if(param1.keyCode == Keyboard.ENTER)
                                                                                                                                                                                                                                                   {
                                                                                                                                                                                                                                                      if(mapinput.visible)
                                                                                                                                                                                                                                                      {
                                                                                                                                                                                                                                                         if(stage.focus !== mapinput)
                                                                                                                                                                                                                                                         {
                                                                                                                                                                                                                                                            if(_loc2_)
                                                                                                                                                                                                                                                            {
                                                                                                                                                                                                                                                               stage.focus = mapinput;
                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                            else
                                                                                                                                                                                                                                                            {
                                                                                                                                                                                                                                                               addr45:
                                                                                                                                                                                                                                                               if(stage.focus !== chatinput)
                                                                                                                                                                                                                                                               {
                                                                                                                                                                                                                                                                  stage.focus = chatinput;
                                                                                                                                                                                                                                                                  if(!_loc2_)
                                                                                                                                                                                                                                                                  {
                                                                                                                                                                                                                                                                     addr81:
                                                                                                                                                                                                                                                                     §§push(Boolean(chattxt.visible));
                                                                                                                                                                                                                                                                     if(!Boolean(chattxt.visible))
                                                                                                                                                                                                                                                                     {
                                                                                                                                                                                                                                                                        if(!_loc3_)
                                                                                                                                                                                                                                                                        {
                                                                                                                                                                                                                                                                           §§pop();
                                                                                                                                                                                                                                                                           §§push(Boolean(guildtxt.visible));
                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                     }
                                                                                                                                                                                                                                                                     if(§§pop())
                                                                                                                                                                                                                                                                     {
                                                                                                                                                                                                                                                                        if(!_loc3_)
                                                                                                                                                                                                                                                                        {
                                                                                                                                                                                                                                                                           toggleChat();
                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                     }
                                                                                                                                                                                                                                                                  }
                                                                                                                                                                                                                                                                  else
                                                                                                                                                                                                                                                                  {
                                                                                                                                                                                                                                                                     addr55:
                                                                                                                                                                                                                                                                  }
                                                                                                                                                                                                                                                                  §§goto(addr86);
                                                                                                                                                                                                                                                               }
                                                                                                                                                                                                                                                               §§goto(addr55);
                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                         }
                                                                                                                                                                                                                                                         return;
                                                                                                                                                                                                                                                      }
                                                                                                                                                                                                                                                      §§push(!chattxt.visible);
                                                                                                                                                                                                                                                      if(!_loc3_)
                                                                                                                                                                                                                                                      {
                                                                                                                                                                                                                                                         §§push(§§pop());
                                                                                                                                                                                                                                                         if(_loc2_)
                                                                                                                                                                                                                                                         {
                                                                                                                                                                                                                                                            if(§§pop())
                                                                                                                                                                                                                                                            {
                                                                                                                                                                                                                                                               if(_loc2_)
                                                                                                                                                                                                                                                               {
                                                                                                                                                                                                                                                                  §§pop();
                                                                                                                                                                                                                                                                  §§push(!guildtxt.visible);
                                                                                                                                                                                                                                                               }
                                                                                                                                                                                                                                                               §§goto(addr81);
                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                            if(§§pop())
                                                                                                                                                                                                                                                            {
                                                                                                                                                                                                                                                               toggleChat();
                                                                                                                                                                                                                                                               if(_loc2_)
                                                                                                                                                                                                                                                               {
                                                                                                                                                                                                                                                                  §§goto(addr45);
                                                                                                                                                                                                                                                               }
                                                                                                                                                                                                                                                               addr86:
                                                                                                                                                                                                                                                               return;
                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                            §§goto(addr45);
                                                                                                                                                                                                                                                         }
                                                                                                                                                                                                                                                         else
                                                                                                                                                                                                                                                         {
                                                                                                                                                                                                                                                            addr65:
                                                                                                                                                                                                                                                            if(§§pop())
                                                                                                                                                                                                                                                            {
                                                                                                                                                                                                                                                               if(!_loc3_)
                                                                                                                                                                                                                                                               {
                                                                                                                                                                                                                                                                  §§pop();
                                                                                                                                                                                                                                                                  §§goto(addr81);
                                                                                                                                                                                                                                                               }
                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                         }
                                                                                                                                                                                                                                                         §§goto(addr81);
                                                                                                                                                                                                                                                      }
                                                                                                                                                                                                                                                      else
                                                                                                                                                                                                                                                      {
                                                                                                                                                                                                                                                         addr61:
                                                                                                                                                                                                                                                         §§push(§§pop());
                                                                                                                                                                                                                                                         if(_loc2_)
                                                                                                                                                                                                                                                         {
                                                                                                                                                                                                                                                            §§goto(addr65);
                                                                                                                                                                                                                                                         }
                                                                                                                                                                                                                                                      }
                                                                                                                                                                                                                                                      §§goto(addr81);
                                                                                                                                                                                                                                                   }
                                                                                                                                                                                                                                                   else
                                                                                                                                                                                                                                                   {
                                                                                                                                                                                                                                                      §§push(param1.keyCode == Keyboard.ESCAPE);
                                                                                                                                                                                                                                                   }
                                                                                                                                                                                                                                                   §§goto(addr61);
                                                                                                                                                                                                                                                };
                                                                                                                                                                                                                                                addr1408:
                                                                                                                                                                                                                                                this.sendMsg = function(param1:KeyboardEvent):void
                                                                                                                                                                                                                                                {
                                                                                                                                                                                                                                                   var _loc2_:Boolean = true;
                                                                                                                                                                                                                                                   var _loc3_:Boolean = false;
                                                                                                                                                                                                                                                   if(param1.target.visible)
                                                                                                                                                                                                                                                   {
                                                                                                                                                                                                                                                      if(!_loc3_)
                                                                                                                                                                                                                                                      {
                                                                                                                                                                                                                                                         §§push(param1.keyCode == Keyboard.ENTER);
                                                                                                                                                                                                                                                         if(_loc2_)
                                                                                                                                                                                                                                                         {
                                                                                                                                                                                                                                                            if(§§pop())
                                                                                                                                                                                                                                                            {
                                                                                                                                                                                                                                                               if(_loc2_)
                                                                                                                                                                                                                                                               {
                                                                                                                                                                                                                                                                  §§pop();
                                                                                                                                                                                                                                                                  §§goto(addr58);
                                                                                                                                                                                                                                                               }
                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                         }
                                                                                                                                                                                                                                                         if(§§pop())
                                                                                                                                                                                                                                                         {
                                                                                                                                                                                                                                                            if(!_loc3_)
                                                                                                                                                                                                                                                            {
                                                                                                                                                                                                                                                               addr38:
                                                                                                                                                                                                                                                               trace("Sending " + param1.target.text);
                                                                                                                                                                                                                                                               if(!_loc2_)
                                                                                                                                                                                                                                                               {
                                                                                                                                                                                                                                                               }
                                                                                                                                                                                                                                                               §§goto(addr58);
                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                            sendChatMsg(param1.target,MovieClip(root)[ChatRoom + "Channel"]);
                                                                                                                                                                                                                                                         }
                                                                                                                                                                                                                                                         §§goto(addr58);
                                                                                                                                                                                                                                                      }
                                                                                                                                                                                                                                                      §§goto(addr38);
                                                                                                                                                                                                                                                   }
                                                                                                                                                                                                                                                   addr58:
                                                                                                                                                                                                                                                   if(_loc2_)
                                                                                                                                                                                                                                                   {
                                                                                                                                                                                                                                                      §§push(param1.target.text === "");
                                                                                                                                                                                                                                                      if(!_loc3_)
                                                                                                                                                                                                                                                      {
                                                                                                                                                                                                                                                         §§push(!§§pop());
                                                                                                                                                                                                                                                      }
                                                                                                                                                                                                                                                   }
                                                                                                                                                                                                                                                };
                                                                                                                                                                                                                                                if(_loc3_)
                                                                                                                                                                                                                                                {
                                                                                                                                                                                                                                                   this.chatinput.addEventListener(KeyboardEvent.KEY_DOWN,this.sendMsg);
                                                                                                                                                                                                                                                   this.mapinput.addEventListener(KeyboardEvent.KEY_DOWN,this.sendMsg);
                                                                                                                                                                                                                                                   addr1427:
                                                                                                                                                                                                                                                   stage.addEventListener(KeyboardEvent.KEY_DOWN,this.enterChat);
                                                                                                                                                                                                                                                   if(_loc3_)
                                                                                                                                                                                                                                                   {
                                                                                                                                                                                                                                                      addr1442:
                                                                                                                                                                                                                                                      addEventListener(MouseEvent.CLICK,this.openstuff);
                                                                                                                                                                                                                                                      if(_loc2_)
                                                                                                                                                                                                                                                      {
                                                                                                                                                                                                                                                      }
                                                                                                                                                                                                                                                      §§goto(addr1464);
                                                                                                                                                                                                                                                   }
                                                                                                                                                                                                                                                   this.displaymoney();
                                                                                                                                                                                                                                                   if(_loc2_)
                                                                                                                                                                                                                                                   {
                                                                                                                                                                                                                                                   }
                                                                                                                                                                                                                                                   §§goto(addr1464);
                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                this.translateButtons(this);
                                                                                                                                                                                                                                                if(!_loc2_)
                                                                                                                                                                                                                                                {
                                                                                                                                                                                                                                                   addr1462:
                                                                                                                                                                                                                                                   this.mousedepth();
                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                §§goto(addr1464);
                                                                                                                                                                                                                                             }
                                                                                                                                                                                                                                             else
                                                                                                                                                                                                                                             {
                                                                                                                                                                                                                                                this.joinGuildChat();
                                                                                                                                                                                                                                             }
                                                                                                                                                                                                                                          }
                                                                                                                                                                                                                                          addr1464:
                                                                                                                                                                                                                                          return;
                                                                                                                                                                                                                                       }
                                                                                                                                                                                                                                       §§goto(addr1385);
                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                    §§goto(addr1258);
                                                                                                                                                                                                                                 }
                                                                                                                                                                                                                                 §§goto(addr1324);
                                                                                                                                                                                                                              }
                                                                                                                                                                                                                              §§goto(addr1405);
                                                                                                                                                                                                                           }
                                                                                                                                                                                                                           §§goto(addr1442);
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                     }
                                                                                                                                                                                                                     §§goto(addr1462);
                                                                                                                                                                                                                  }
                                                                                                                                                                                                                  §§goto(addr1220);
                                                                                                                                                                                                               }
                                                                                                                                                                                                               §§goto(addr1405);
                                                                                                                                                                                                            }
                                                                                                                                                                                                            this.mapbtn.y = 32.3;
                                                                                                                                                                                                            this.invbtn = new InvBtn() as SimpleButton;
                                                                                                                                                                                                            if(_loc3_)
                                                                                                                                                                                                            {
                                                                                                                                                                                                               this.invbtn.x = 514.4;
                                                                                                                                                                                                               this.invbtn.y = 32.3;
                                                                                                                                                                                                               addChildAt(this.invbtn,getChildIndex(this.mouse));
                                                                                                                                                                                                               this.charbtn = new CharBtn() as SimpleButton;
                                                                                                                                                                                                               if(_loc3_)
                                                                                                                                                                                                               {
                                                                                                                                                                                                                  this.charbtn.x = 469.75;
                                                                                                                                                                                                                  if(!_loc2_)
                                                                                                                                                                                                                  {
                                                                                                                                                                                                                     this.charbtn.y = 32.3;
                                                                                                                                                                                                                     if(_loc3_)
                                                                                                                                                                                                                     {
                                                                                                                                                                                                                        addr988:
                                                                                                                                                                                                                        addChildAt(this.charbtn,getChildIndex(this.mouse));
                                                                                                                                                                                                                        if(_loc3_)
                                                                                                                                                                                                                        {
                                                                                                                                                                                                                           addr999:
                                                                                                                                                                                                                           this.skillbtn = new SkillBtn() as SimpleButton;
                                                                                                                                                                                                                           if(!_loc2_)
                                                                                                                                                                                                                           {
                                                                                                                                                                                                                              addr1008:
                                                                                                                                                                                                                              this.skillbtn.x = 562.05;
                                                                                                                                                                                                                              this.skillbtn.y = 32.3;
                                                                                                                                                                                                                              addChildAt(this.skillbtn,getChildIndex(this.mouse));
                                                                                                                                                                                                                              logbtn = new LogBtn() as SimpleButton;
                                                                                                                                                                                                                              logbtn.x = 603.7;
                                                                                                                                                                                                                              if(!_loc2_)
                                                                                                                                                                                                                              {
                                                                                                                                                                                                                                 logbtn.y = 32.3;
                                                                                                                                                                                                                                 if(_loc3_)
                                                                                                                                                                                                                                 {
                                                                                                                                                                                                                                    addChildAt(logbtn,getChildIndex(this.mouse));
                                                                                                                                                                                                                                    addr1049:
                                                                                                                                                                                                                                    this.guildbtn = new GuildBtn() as SimpleButton;
                                                                                                                                                                                                                                    if(_loc3_)
                                                                                                                                                                                                                                    {
                                                                                                                                                                                                                                       addr1058:
                                                                                                                                                                                                                                       this.guildbtn.x = 649.5;
                                                                                                                                                                                                                                       if(!_loc2_)
                                                                                                                                                                                                                                       {
                                                                                                                                                                                                                                          this.guildbtn.y = 34.55;
                                                                                                                                                                                                                                          addr1068:
                                                                                                                                                                                                                                          addChildAt(this.guildbtn,getChildIndex(this.mouse));
                                                                                                                                                                                                                                          addr1076:
                                                                                                                                                                                                                                          this.goldmallbtn = new GoldMallBtn() as SimpleButton;
                                                                                                                                                                                                                                          this.goldmallbtn.x = 103.45;
                                                                                                                                                                                                                                          if(!_loc2_)
                                                                                                                                                                                                                                          {
                                                                                                                                                                                                                                             this.goldmallbtn.y = 115.4;
                                                                                                                                                                                                                                             addr1093:
                                                                                                                                                                                                                                             addChildAt(this.goldmallbtn,getChildIndex(this.mouse));
                                                                                                                                                                                                                                             addr1101:
                                                                                                                                                                                                                                             this.shopbtn = new ShopButton() as SimpleButton;
                                                                                                                                                                                                                                             this.shopbtn.x = 686.5;
                                                                                                                                                                                                                                             this.shopbtn.y = 31.95;
                                                                                                                                                                                                                                             if(!_loc2_)
                                                                                                                                                                                                                                             {
                                                                                                                                                                                                                                                §§goto(addr1118);
                                                                                                                                                                                                                                             }
                                                                                                                                                                                                                                             §§goto(addr1330);
                                                                                                                                                                                                                                          }
                                                                                                                                                                                                                                          §§goto(addr1362);
                                                                                                                                                                                                                                       }
                                                                                                                                                                                                                                       §§goto(addr1076);
                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                    §§goto(addr1180);
                                                                                                                                                                                                                                 }
                                                                                                                                                                                                                                 §§goto(addr1199);
                                                                                                                                                                                                                              }
                                                                                                                                                                                                                              §§goto(addr1093);
                                                                                                                                                                                                                           }
                                                                                                                                                                                                                           §§goto(addr1370);
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                        §§goto(addr1210);
                                                                                                                                                                                                                     }
                                                                                                                                                                                                                     §§goto(addr1250);
                                                                                                                                                                                                                  }
                                                                                                                                                                                                                  §§goto(addr1427);
                                                                                                                                                                                                               }
                                                                                                                                                                                                               §§goto(addr1273);
                                                                                                                                                                                                            }
                                                                                                                                                                                                            §§goto(addr1358);
                                                                                                                                                                                                         }
                                                                                                                                                                                                         §§goto(addr1210);
                                                                                                                                                                                                      }
                                                                                                                                                                                                      §§goto(addr1285);
                                                                                                                                                                                                   }
                                                                                                                                                                                                   §§goto(addr1118);
                                                                                                                                                                                                }
                                                                                                                                                                                                §§goto(addr932);
                                                                                                                                                                                             }
                                                                                                                                                                                             §§goto(addr1199);
                                                                                                                                                                                          }
                                                                                                                                                                                          §§goto(addr1250);
                                                                                                                                                                                       }
                                                                                                                                                                                    }
                                                                                                                                                                                    §§goto(addr1093);
                                                                                                                                                                                 }
                                                                                                                                                                                 §§goto(addr988);
                                                                                                                                                                              }
                                                                                                                                                                              §§goto(addr1101);
                                                                                                                                                                           }
                                                                                                                                                                           §§goto(addr988);
                                                                                                                                                                        }
                                                                                                                                                                        §§goto(addr908);
                                                                                                                                                                     }
                                                                                                                                                                     §§goto(addr841);
                                                                                                                                                                  }
                                                                                                                                                                  §§goto(addr761);
                                                                                                                                                               }
                                                                                                                                                               §§goto(addr1076);
                                                                                                                                                            }
                                                                                                                                                            §§goto(addr824);
                                                                                                                                                         }
                                                                                                                                                         §§goto(addr1462);
                                                                                                                                                      }
                                                                                                                                                      §§goto(addr1049);
                                                                                                                                                   }
                                                                                                                                                   §§goto(addr1250);
                                                                                                                                                }
                                                                                                                                                §§goto(addr1273);
                                                                                                                                             }
                                                                                                                                             §§goto(addr999);
                                                                                                                                          }
                                                                                                                                          §§goto(addr1234);
                                                                                                                                       }
                                                                                                                                       §§goto(addr1008);
                                                                                                                                    }
                                                                                                                                    §§goto(addr1358);
                                                                                                                                 }
                                                                                                                                 §§goto(addr1068);
                                                                                                                              }
                                                                                                                              §§goto(addr645);
                                                                                                                           }
                                                                                                                           §§goto(addr701);
                                                                                                                        }
                                                                                                                        §§goto(addr1311);
                                                                                                                     }
                                                                                                                     §§goto(addr1273);
                                                                                                                  }
                                                                                                                  §§goto(addr618);
                                                                                                               }
                                                                                                               §§goto(addr1093);
                                                                                                            }
                                                                                                            §§goto(addr876);
                                                                                                         }
                                                                                                         §§goto(addr1058);
                                                                                                      }
                                                                                                      §§goto(addr631);
                                                                                                   }
                                                                                                   §§goto(addr900);
                                                                                                }
                                                                                                §§goto(addr800);
                                                                                             }
                                                                                             §§goto(addr1294);
                                                                                          }
                                                                                          §§goto(addr1401);
                                                                                       }
                                                                                       §§goto(addr638);
                                                                                    }
                                                                                    §§goto(addr921);
                                                                                 }
                                                                                 §§goto(addr1144);
                                                                              }
                                                                              §§goto(addr1401);
                                                                           }
                                                                           §§goto(addr707);
                                                                        }
                                                                        §§goto(addr800);
                                                                     }
                                                                     §§goto(addr677);
                                                                  }
                                                                  §§goto(addr1273);
                                                               }
                                                               §§goto(addr638);
                                                            }
                                                            §§goto(addr804);
                                                         }
                                                         §§goto(addr239);
                                                      }
                                                      §§goto(addr375);
                                                   }
                                                   §§goto(addr407);
                                                }
                                                §§goto(addr1226);
                                             }
                                             §§goto(addr932);
                                          }
                                          §§goto(addr183);
                                       }
                                       §§goto(addr988);
                                    }
                                    §§goto(addr677);
                                 }
                                 §§goto(addr552);
                              }
                              §§goto(addr226);
                           }
                           §§goto(addr1311);
                        }
                        §§goto(addr1385);
                     }
                  }
               }
               §§goto(addr52);
            }
            §§goto(addr123);
         }
         §§goto(addr1385);
      }
   }
}
